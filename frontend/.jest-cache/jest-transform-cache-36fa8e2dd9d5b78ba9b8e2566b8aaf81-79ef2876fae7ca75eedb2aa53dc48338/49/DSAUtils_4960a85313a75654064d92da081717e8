93972072a3bc7cfd22cd41224e8135ed
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    PriorityQueue: function() {
        return PriorityQueue;
    },
    Trie: function() {
        return Trie;
    },
    LRUCache: function() {
        return LRUCache;
    },
    SearchAlgorithms: function() {
        return SearchAlgorithms;
    },
    GraphAlgorithms: function() {
        return GraphAlgorithms;
    },
    OptimizedSorting: function() {
        return OptimizedSorting;
    },
    MemoryOptimizedOperations: function() {
        return MemoryOptimizedOperations;
    },
    PerformanceAnalytics: function() {
        return PerformanceAnalytics;
    }
});
class PriorityQueue {
    constructor(compareFn){
        this.heap = [];
        this.compareFn = compareFn || ((a, b)=>a < b ? -1 : a > b ? 1 : 0);
    }
    enqueue(item) {
        this.heap.push(item);
        this.heapifyUp(this.heap.length - 1);
    }
    dequeue() {
        if (this.heap.length === 0) return undefined;
        if (this.heap.length === 1) return this.heap.pop();
        const result = this.heap[0];
        this.heap[0] = this.heap.pop();
        this.heapifyDown(0);
        return result;
    }
    peek() {
        return this.heap.length > 0 ? this.heap[0] : undefined;
    }
    size() {
        return this.heap.length;
    }
    isEmpty() {
        return this.heap.length === 0;
    }
    // Legacy methods for backward compatibility
    insert(item, priority) {
        this.heap.push({
            item,
            priority
        });
        this.heapifyUp(this.heap.length - 1);
    }
    extractMax() {
        if (this.heap.length === 0) return null;
        if (this.heap.length === 1) return this.heap.pop().item || this.heap.pop();
        const max = this.heap[0].item || this.heap[0];
        this.heap[0] = this.heap.pop();
        this.heapifyDown(0);
        return max;
    }
    heapifyUp(index) {
        while(index > 0){
            const parentIndex = Math.floor((index - 1) / 2);
            // For min heap: break if parent <= child
            if (this.compareFn(this.heap[parentIndex], this.heap[index]) <= 0) break;
            this.swap(parentIndex, index);
            index = parentIndex;
        }
    }
    heapifyDown(index) {
        while(true){
            let minIndex = index;
            const leftChild = 2 * index + 1;
            const rightChild = 2 * index + 2;
            // For min heap: pick the smaller child
            if (leftChild < this.heap.length && this.compareFn(this.heap[leftChild], this.heap[minIndex]) < 0) {
                minIndex = leftChild;
            }
            if (rightChild < this.heap.length && this.compareFn(this.heap[rightChild], this.heap[minIndex]) < 0) {
                minIndex = rightChild;
            }
            if (minIndex === index) break;
            this.swap(index, minIndex);
            index = minIndex;
        }
    }
    swap(i, j) {
        [this.heap[i], this.heap[j]] = [
            this.heap[j],
            this.heap[i]
        ];
    }
}
class Trie {
    insert(word) {
        let current = this.root;
        for (const char of word.toLowerCase()){
            if (!current.children.has(char)) {
                current.children.set(char, new TrieNode());
            }
            current = current.children.get(char);
        }
        current.isEndOfWord = true;
    }
    search(word) {
        let current = this.root;
        for (const char of word.toLowerCase()){
            if (!current.children.has(char)) return false;
            current = current.children.get(char);
        }
        return current.isEndOfWord;
    }
    startsWith(prefix) {
        let current = this.root;
        for (const char of prefix.toLowerCase()){
            if (!current.children.has(char)) return false;
            current = current.children.get(char);
        }
        return true;
    }
    getWordsWithPrefix(prefix) {
        let current = this.root;
        for (const char of prefix.toLowerCase()){
            if (!current.children.has(char)) return [];
            current = current.children.get(char);
        }
        const words = [];
        this.dfs(current, prefix, words);
        return words;
    }
    findWordsWithPrefix(prefix) {
        return this.getWordsWithPrefix(prefix);
    }
    delete(word) {
        return this.deleteHelper(this.root, word.toLowerCase(), 0);
    }
    deleteHelper(node, word, index) {
        if (index === word.length) {
            if (!node.isEndOfWord) return false;
            node.isEndOfWord = false;
            return node.children.size === 0;
        }
        const char = word[index];
        const childNode = node.children.get(char);
        if (!childNode) return false;
        const shouldDeleteChild = this.deleteHelper(childNode, word, index + 1);
        if (shouldDeleteChild) {
            node.children.delete(char);
            return node.children.size === 0 && !node.isEndOfWord;
        }
        return false;
    }
    dfs(node, currentWord, words) {
        if (node.isEndOfWord) {
            words.push(currentWord);
        }
        for (const [char, childNode] of node.children){
            this.dfs(childNode, currentWord + char, words);
        }
    }
    constructor(){
        this.root = new TrieNode();
    }
}
class TrieNode {
    constructor(){
        this.children = new Map();
        this.isEndOfWord = false;
    }
}
class LRUCache {
    constructor(capacity){
        this.cache = new Map();
        this.capacity = capacity;
        this.head = new Node(null, null);
        this.tail = new Node(null, null);
        this.head.next = this.tail;
        this.tail.prev = this.head;
    }
    get(key) {
        const node = this.cache.get(key);
        if (!node) return undefined;
        this.moveToHead(node);
        return node.value;
    }
    get size() {
        return this.cache.size;
    }
    clear() {
        this.cache.clear();
        this.head.next = this.tail;
        this.tail.prev = this.head;
    }
    put(key, value) {
        const existingNode = this.cache.get(key);
        if (existingNode) {
            existingNode.value = value;
            this.moveToHead(existingNode);
        } else {
            const newNode = new Node(key, value);
            if (this.cache.size >= this.capacity) {
                const lastNode = this.removeTail();
                this.cache.delete(lastNode.key);
            }
            this.cache.set(key, newNode);
            this.addToHead(newNode);
        }
    }
    addToHead(node) {
        node.prev = this.head;
        node.next = this.head.next;
        this.head.next.prev = node;
        this.head.next = node;
    }
    removeNode(node) {
        node.prev.next = node.next;
        node.next.prev = node.prev;
    }
    moveToHead(node) {
        this.removeNode(node);
        this.addToHead(node);
    }
    removeTail() {
        const lastNode = this.tail.prev;
        this.removeNode(lastNode);
        return lastNode;
    }
}
class Node {
    constructor(key, value){
        this.prev = null;
        this.next = null;
        this.key = key;
        this.value = value;
    }
}
class SearchAlgorithms {
    /**
   * Binary search - O(log n)
   */ static binarySearch(array, target, compareFn) {
        let left = 0;
        let right = array.length - 1;
        while(left <= right){
            const mid = Math.floor((left + right) / 2);
            const cmp = compareFn(array[mid], target);
            if (cmp === 0) return mid;
            if (cmp < 0) left = mid + 1;
            else right = mid - 1;
        }
        return -1;
    }
    /**
   * Boyer-Moore string search - O(n/m) average case
   */ static boyerMooreSearch(text, pattern) {
        const positions = [];
        const m = pattern.length;
        const n = text.length;
        if (m === 0) return positions;
        const badChar = this.buildBadCharTable(pattern);
        let skip = 0;
        while(skip <= n - m){
            let j = m - 1;
            while(j >= 0 && pattern[j] === text[skip + j]){
                j--;
            }
            if (j < 0) {
                positions.push(skip);
                skip += skip + m < n ? m - badChar[text.charCodeAt(skip + m)] : 1;
            } else {
                skip += Math.max(1, j - badChar[text.charCodeAt(skip + j)]);
            }
        }
        return positions;
    }
    static buildBadCharTable(pattern) {
        const table = new Array(256).fill(-1);
        for(let i = 0; i < pattern.length; i++){
            table[pattern.charCodeAt(i)] = i;
        }
        return table;
    }
    /**
   * Fuzzy search using Levenshtein distance with optimizations
   */ static fuzzySearch(query, candidates, threshold = 0.6) {
        const results = candidates.map((candidate)=>({
                item: candidate,
                score: this.jaroWinklerSimilarity(query.toLowerCase(), candidate.toLowerCase())
            }));
        return results.filter((result)=>result.score >= threshold).sort((a, b)=>b.score - a.score);
    }
    static jaroWinklerSimilarity(s1, s2) {
        const jaro = this.jaroSimilarity(s1, s2);
        const prefixLength = this.commonPrefixLength(s1, s2, 4);
        return jaro + 0.1 * prefixLength * (1 - jaro);
    }
    static jaroSimilarity(s1, s2) {
        if (s1.length === 0 && s2.length === 0) return 1;
        if (s1.length === 0 || s2.length === 0) return 0;
        const matchWindow = Math.floor(Math.max(s1.length, s2.length) / 2) - 1;
        const s1Matches = new Array(s1.length).fill(false);
        const s2Matches = new Array(s2.length).fill(false);
        let matches = 0;
        let transpositions = 0;
        // Find matches
        for(let i = 0; i < s1.length; i++){
            const start = Math.max(0, i - matchWindow);
            const end = Math.min(i + matchWindow + 1, s2.length);
            for(let j = start; j < end; j++){
                if (s2Matches[j] || s1[i] !== s2[j]) continue;
                s1Matches[i] = s2Matches[j] = true;
                matches++;
                break;
            }
        }
        if (matches === 0) return 0;
        // Count transpositions
        let k = 0;
        for(let i = 0; i < s1.length; i++){
            if (!s1Matches[i]) continue;
            while(!s2Matches[k])k++;
            if (s1[i] !== s2[k]) transpositions++;
            k++;
        }
        return (matches / s1.length + matches / s2.length + (matches - transpositions / 2) / matches) / 3;
    }
    static commonPrefixLength(s1, s2, maxLength) {
        let length = 0;
        for(let i = 0; i < Math.min(s1.length, s2.length, maxLength); i++){
            if (s1[i] === s2[i]) length++;
            else break;
        }
        return length;
    }
}
class GraphAlgorithms {
    /**
   * Find shortest path using Dijkstra's algorithm
   */ static dijkstra(graph, start, end) {
        const distances = new Map();
        const previous = new Map();
        const unvisited = new PriorityQueue();
        // Initialize distances
        for (const node of graph.keys()){
            distances.set(node, node === start ? 0 : Infinity);
            previous.set(node, null);
            unvisited.insert(node, node === start ? 0 : -Infinity);
        }
        while(unvisited.size() > 0){
            const current = unvisited.extractMax();
            if (current === end) break;
            if (distances.get(current) === Infinity) break;
            const neighbors = graph.get(current) || [];
            for (const neighbor of neighbors){
                const alt = distances.get(current) + neighbor.weight;
                if (alt < distances.get(neighbor.node)) {
                    distances.set(neighbor.node, alt);
                    previous.set(neighbor.node, current);
                }
            }
        }
        // Reconstruct path
        const path = [];
        let current = end;
        while(current !== null){
            path.unshift(current);
            current = previous.get(current) || null;
        }
        if (path[0] !== start) return null;
        return {
            path,
            distance: distances.get(end)
        };
    }
    /**
   * Detect cycles in directed graph using DFS
   */ static hasCycle(graph) {
        const visited = new Set();
        const recursionStack = new Set();
        for (const node of graph.keys()){
            if (!visited.has(node)) {
                if (this.hasCycleDFS(graph, node, visited, recursionStack)) {
                    return true;
                }
            }
        }
        return false;
    }
    static hasCycleDFS(graph, node, visited, recursionStack) {
        visited.add(node);
        recursionStack.add(node);
        const neighbors = graph.get(node) || [];
        for (const neighbor of neighbors){
            if (!visited.has(neighbor)) {
                if (this.hasCycleDFS(graph, neighbor, visited, recursionStack)) {
                    return true;
                }
            } else if (recursionStack.has(neighbor)) {
                return true;
            }
        }
        recursionStack.delete(node);
        return false;
    }
}
class OptimizedSorting {
    /**
   * Hybrid sorting algorithm that chooses best approach based on data characteristics
   */ static smartSort(array, compareFn) {
        if (array.length <= 1) return [
            ...array
        ];
        const compare = compareFn || ((a, b)=>a < b ? -1 : a > b ? 1 : 0);
        // Choose algorithm based on array characteristics
        if (array.length < 50) {
            return this.insertionSort([
                ...array
            ], compare);
        } else if (this.isNearlySorted(array, compare)) {
            return this.timSort([
                ...array
            ], compare);
        } else if (array.length > 10000) {
            return this.parallelQuickSort([
                ...array
            ], compare);
        } else {
            return this.quickSort([
                ...array
            ], compare);
        }
    }
    static isNearlySorted(array, compare) {
        let inversions = 0;
        for(let i = 0; i < array.length - 1; i++){
            if (compare(array[i], array[i + 1]) > 0) {
                inversions++;
                if (inversions > array.length * 0.1) return false;
            }
        }
        return true;
    }
    static insertionSort(array, compare) {
        for(let i = 1; i < array.length; i++){
            const key = array[i];
            let j = i - 1;
            while(j >= 0 && compare(array[j], key) > 0){
                array[j + 1] = array[j];
                j--;
            }
            array[j + 1] = key;
        }
        return array;
    }
    static quickSort(array, compare) {
        if (array.length <= 1) return array;
        const pivot = array[Math.floor(array.length / 2)];
        const left = array.filter((x)=>compare(x, pivot) < 0);
        const middle = array.filter((x)=>compare(x, pivot) === 0);
        const right = array.filter((x)=>compare(x, pivot) > 0);
        return [
            ...this.quickSort(left, compare),
            ...middle,
            ...this.quickSort(right, compare)
        ];
    }
    static timSort(array, compare) {
        // Simplified TimSort implementation
        const minMerge = 32;
        if (array.length < minMerge) {
            return this.insertionSort(array, compare);
        }
        const mid = Math.floor(array.length / 2);
        const left = this.timSort(array.slice(0, mid), compare);
        const right = this.timSort(array.slice(mid), compare);
        return this.merge(left, right, compare);
    }
    static merge(left, right, compare) {
        const result = [];
        let i = 0, j = 0;
        while(i < left.length && j < right.length){
            if (compare(left[i], right[j]) <= 0) {
                result.push(left[i++]);
            } else {
                result.push(right[j++]);
            }
        }
        return result.concat(left.slice(i)).concat(right.slice(j));
    }
    static parallelQuickSort(array, compare) {
        // Simplified parallel sorting (would use Web Workers in real implementation)
        return this.quickSort(array, compare);
    }
}
class MemoryOptimizedOperations {
    /**
   * Process large datasets in chunks to avoid memory issues
   */ static async processInChunks(data, processor, chunkSize = 1000) {
        const results = [];
        for(let i = 0; i < data.length; i += chunkSize){
            const chunk = data.slice(i, i + chunkSize);
            const chunkResults = processor(chunk);
            results.push(...chunkResults);
            // Allow garbage collection between chunks
            await new Promise((resolve)=>setTimeout(resolve, 0));
        }
        return results;
    }
    /**
   * Virtual scrolling for large lists
   */ static calculateVisibleItems(totalItems, itemHeight, containerHeight, scrollTop, buffer = 5) {
        const visibleCount = Math.ceil(containerHeight / itemHeight);
        const startIndex = Math.max(0, Math.floor(scrollTop / itemHeight) - buffer);
        const endIndex = Math.min(totalItems - 1, startIndex + visibleCount + 2 * buffer);
        const offsetY = startIndex * itemHeight;
        return {
            startIndex,
            endIndex,
            offsetY
        };
    }
}
class PerformanceAnalytics {
    static{
        this.measurements = new Map();
    }
    static measure(name, fn) {
        const start = performance.now();
        const result = fn();
        const end = performance.now();
        if (!this.measurements.has(name)) {
            this.measurements.set(name, []);
        }
        this.measurements.get(name).push(end - start);
        return result;
    }
    static async measureAsync(name, fn) {
        const start = performance.now();
        const result = await fn();
        const end = performance.now();
        if (!this.measurements.has(name)) {
            this.measurements.set(name, []);
        }
        this.measurements.get(name).push(end - start);
        return result;
    }
    static getStats(name) {
        const times = this.measurements.get(name);
        if (!times) return null;
        // Return zeros for empty measurements (after clear)
        if (times.length === 0) {
            return {
                count: 0,
                totalTime: 0,
                averageTime: 0,
                minTime: 0,
                maxTime: 0
            };
        }
        const sum = times.reduce((a, b)=>a + b, 0);
        return {
            count: times.length,
            totalTime: sum,
            averageTime: sum / times.length,
            minTime: Math.min(...times),
            maxTime: Math.max(...times)
        };
    }
    static clearMeasurements(name) {
        if (name) {
            this.measurements.set(name, []);
        } else {
            // Clear all measurements but keep the keys
            for (const key of this.measurements.keys()){
                this.measurements.set(key, []);
            }
        }
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZW5hL0RldmVsb3Blci9lY2hvL2Zyb250ZW5kL3NyYy91dGlscy9EU0FVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbi8vIEVuaGFuY2VkIERhdGEgU3RydWN0dXJlcyBhbmQgQWxnb3JpdGhtcyBVdGlsaXR5IGZvciBCZXN0IFBlcmZvcm1hbmNlXG5cbi8qKlxuICogUHJpb3JpdHkgUXVldWUgaW1wbGVtZW50YXRpb24gdXNpbmcgQmluYXJ5IEhlYXBcbiAqIFRpbWUgQ29tcGxleGl0eTogTyhsb2cgbikgZm9yIGluc2VydC9leHRyYWN0LCBPKDEpIGZvciBwZWVrXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlPFQ+IHtcbiAgcHJpdmF0ZSBoZWFwOiBUW10gPSBbXTtcbiAgcHJpdmF0ZSBjb21wYXJlRm46IChhOiBULCBiOiBUKSA9PiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoY29tcGFyZUZuPzogKGE6IFQsIGI6IFQpID0+IG51bWJlcikge1xuICAgIHRoaXMuY29tcGFyZUZuID1cbiAgICAgIGNvbXBhcmVGbiB8fCAoKGE6IGFueSwgYjogYW55KSA9PiAoYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDApKTtcbiAgfVxuXG4gIGVucXVldWUoaXRlbTogVCk6IHZvaWQge1xuICAgIHRoaXMuaGVhcC5wdXNoKGl0ZW0pO1xuICAgIHRoaXMuaGVhcGlmeVVwKHRoaXMuaGVhcC5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIGRlcXVldWUoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuaGVhcC5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMuaGVhcC5sZW5ndGggPT09IDEpIHJldHVybiB0aGlzLmhlYXAucG9wKCkhO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5oZWFwWzBdO1xuICAgIHRoaXMuaGVhcFswXSA9IHRoaXMuaGVhcC5wb3AoKSE7XG4gICAgdGhpcy5oZWFwaWZ5RG93bigwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcGVlaygpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5oZWFwLmxlbmd0aCA+IDAgPyB0aGlzLmhlYXBbMF0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaGVhcC5sZW5ndGg7XG4gIH1cblxuICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhlYXAubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLy8gTGVnYWN5IG1ldGhvZHMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgaW5zZXJ0KGl0ZW06IFQsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmhlYXAucHVzaCh7IGl0ZW0sIHByaW9yaXR5IH0gYXMgYW55KTtcbiAgICB0aGlzLmhlYXBpZnlVcCh0aGlzLmhlYXAubGVuZ3RoIC0gMSk7XG4gIH1cblxuICBleHRyYWN0TWF4KCk6IFQgfCBudWxsIHtcbiAgICBpZiAodGhpcy5oZWFwLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRoaXMuaGVhcC5sZW5ndGggPT09IDEpXG4gICAgICByZXR1cm4gKHRoaXMuaGVhcC5wb3AoKSBhcyBhbnkpLml0ZW0gfHwgdGhpcy5oZWFwLnBvcCgpITtcblxuICAgIGNvbnN0IG1heCA9ICh0aGlzLmhlYXBbMF0gYXMgYW55KS5pdGVtIHx8IHRoaXMuaGVhcFswXTtcbiAgICB0aGlzLmhlYXBbMF0gPSB0aGlzLmhlYXAucG9wKCkhO1xuICAgIHRoaXMuaGVhcGlmeURvd24oMCk7XG4gICAgcmV0dXJuIG1heDtcbiAgfVxuXG4gIHByaXZhdGUgaGVhcGlmeVVwKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB3aGlsZSAoaW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwYXJlbnRJbmRleCA9IE1hdGguZmxvb3IoKGluZGV4IC0gMSkgLyAyKTtcbiAgICAgIC8vIEZvciBtaW4gaGVhcDogYnJlYWsgaWYgcGFyZW50IDw9IGNoaWxkXG4gICAgICBpZiAodGhpcy5jb21wYXJlRm4odGhpcy5oZWFwW3BhcmVudEluZGV4XSwgdGhpcy5oZWFwW2luZGV4XSkgPD0gMCkgYnJlYWs7XG4gICAgICB0aGlzLnN3YXAocGFyZW50SW5kZXgsIGluZGV4KTtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoZWFwaWZ5RG93bihpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBtaW5JbmRleCA9IGluZGV4O1xuICAgICAgY29uc3QgbGVmdENoaWxkID0gMiAqIGluZGV4ICsgMTtcbiAgICAgIGNvbnN0IHJpZ2h0Q2hpbGQgPSAyICogaW5kZXggKyAyO1xuXG4gICAgICAvLyBGb3IgbWluIGhlYXA6IHBpY2sgdGhlIHNtYWxsZXIgY2hpbGRcbiAgICAgIGlmIChcbiAgICAgICAgbGVmdENoaWxkIDwgdGhpcy5oZWFwLmxlbmd0aCAmJlxuICAgICAgICB0aGlzLmNvbXBhcmVGbih0aGlzLmhlYXBbbGVmdENoaWxkXSwgdGhpcy5oZWFwW21pbkluZGV4XSkgPCAwXG4gICAgICApIHtcbiAgICAgICAgbWluSW5kZXggPSBsZWZ0Q2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgcmlnaHRDaGlsZCA8IHRoaXMuaGVhcC5sZW5ndGggJiZcbiAgICAgICAgdGhpcy5jb21wYXJlRm4odGhpcy5oZWFwW3JpZ2h0Q2hpbGRdLCB0aGlzLmhlYXBbbWluSW5kZXhdKSA8IDBcbiAgICAgICkge1xuICAgICAgICBtaW5JbmRleCA9IHJpZ2h0Q2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW5JbmRleCA9PT0gaW5kZXgpIGJyZWFrO1xuICAgICAgdGhpcy5zd2FwKGluZGV4LCBtaW5JbmRleCk7XG4gICAgICBpbmRleCA9IG1pbkluZGV4O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3dhcChpOiBudW1iZXIsIGo6IG51bWJlcik6IHZvaWQge1xuICAgIFt0aGlzLmhlYXBbaV0sIHRoaXMuaGVhcFtqXV0gPSBbdGhpcy5oZWFwW2pdLCB0aGlzLmhlYXBbaV1dO1xuICB9XG59XG5cbi8qKlxuICogVHJpZSBkYXRhIHN0cnVjdHVyZSBmb3IgZWZmaWNpZW50IHN0cmluZyBvcGVyYXRpb25zXG4gKiBUaW1lIENvbXBsZXhpdHk6IE8obSkgZm9yIGluc2VydC9zZWFyY2ggd2hlcmUgbSBpcyBzdHJpbmcgbGVuZ3RoXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmllIHtcbiAgcHJpdmF0ZSByb290OiBUcmllTm9kZSA9IG5ldyBUcmllTm9kZSgpO1xuXG4gIGluc2VydCh3b3JkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMucm9vdDtcbiAgICBmb3IgKGNvbnN0IGNoYXIgb2Ygd29yZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBpZiAoIWN1cnJlbnQuY2hpbGRyZW4uaGFzKGNoYXIpKSB7XG4gICAgICAgIGN1cnJlbnQuY2hpbGRyZW4uc2V0KGNoYXIsIG5ldyBUcmllTm9kZSgpKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNoaWxkcmVuLmdldChjaGFyKSE7XG4gICAgfVxuICAgIGN1cnJlbnQuaXNFbmRPZldvcmQgPSB0cnVlO1xuICB9XG5cbiAgc2VhcmNoKHdvcmQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5yb290O1xuICAgIGZvciAoY29uc3QgY2hhciBvZiB3b3JkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGlmICghY3VycmVudC5jaGlsZHJlbi5oYXMoY2hhcikpIHJldHVybiBmYWxzZTtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNoaWxkcmVuLmdldChjaGFyKSE7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50LmlzRW5kT2ZXb3JkO1xuICB9XG5cbiAgc3RhcnRzV2l0aChwcmVmaXg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5yb290O1xuICAgIGZvciAoY29uc3QgY2hhciBvZiBwcmVmaXgudG9Mb3dlckNhc2UoKSkge1xuICAgICAgaWYgKCFjdXJyZW50LmNoaWxkcmVuLmhhcyhjaGFyKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2hpbGRyZW4uZ2V0KGNoYXIpITtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBnZXRXb3Jkc1dpdGhQcmVmaXgocHJlZml4OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLnJvb3Q7XG4gICAgZm9yIChjb25zdCBjaGFyIG9mIHByZWZpeC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBpZiAoIWN1cnJlbnQuY2hpbGRyZW4uaGFzKGNoYXIpKSByZXR1cm4gW107XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5jaGlsZHJlbi5nZXQoY2hhcikhO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHRoaXMuZGZzKGN1cnJlbnQsIHByZWZpeCwgd29yZHMpO1xuICAgIHJldHVybiB3b3JkcztcbiAgfVxuXG4gIGZpbmRXb3Jkc1dpdGhQcmVmaXgocHJlZml4OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0V29yZHNXaXRoUHJlZml4KHByZWZpeCk7XG4gIH1cblxuICBkZWxldGUod29yZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZXRlSGVscGVyKHRoaXMucm9vdCwgd29yZC50b0xvd2VyQ2FzZSgpLCAwKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVsZXRlSGVscGVyKG5vZGU6IFRyaWVOb2RlLCB3b3JkOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoaW5kZXggPT09IHdvcmQubGVuZ3RoKSB7XG4gICAgICBpZiAoIW5vZGUuaXNFbmRPZldvcmQpIHJldHVybiBmYWxzZTtcbiAgICAgIG5vZGUuaXNFbmRPZldvcmQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLnNpemUgPT09IDA7XG4gICAgfVxuXG4gICAgY29uc3QgY2hhciA9IHdvcmRbaW5kZXhdO1xuICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5vZGUuY2hpbGRyZW4uZ2V0KGNoYXIpO1xuICAgIGlmICghY2hpbGROb2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBzaG91bGREZWxldGVDaGlsZCA9IHRoaXMuZGVsZXRlSGVscGVyKGNoaWxkTm9kZSwgd29yZCwgaW5kZXggKyAxKTtcblxuICAgIGlmIChzaG91bGREZWxldGVDaGlsZCkge1xuICAgICAgbm9kZS5jaGlsZHJlbi5kZWxldGUoY2hhcik7XG4gICAgICByZXR1cm4gbm9kZS5jaGlsZHJlbi5zaXplID09PSAwICYmICFub2RlLmlzRW5kT2ZXb3JkO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgZGZzKG5vZGU6IFRyaWVOb2RlLCBjdXJyZW50V29yZDogc3RyaW5nLCB3b3Jkczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICBpZiAobm9kZS5pc0VuZE9mV29yZCkge1xuICAgICAgd29yZHMucHVzaChjdXJyZW50V29yZCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbY2hhciwgY2hpbGROb2RlXSBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLmRmcyhjaGlsZE5vZGUsIGN1cnJlbnRXb3JkICsgY2hhciwgd29yZHMpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBUcmllTm9kZSB7XG4gIGNoaWxkcmVuOiBNYXA8c3RyaW5nLCBUcmllTm9kZT4gPSBuZXcgTWFwKCk7XG4gIGlzRW5kT2ZXb3JkOiBib29sZWFuID0gZmFsc2U7XG59XG5cbi8qKlxuICogTFJVIENhY2hlIGltcGxlbWVudGF0aW9uIHVzaW5nIEhhc2hNYXAgKyBEb3VibHkgTGlua2VkIExpc3RcbiAqIFRpbWUgQ29tcGxleGl0eTogTygxKSBmb3IgZ2V0L3B1dCBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBMUlVDYWNoZTxLLCBWPiB7XG4gIHByaXZhdGUgY2FwYWNpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBjYWNoZTogTWFwPEssIE5vZGU8SywgVj4+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGhlYWQ6IE5vZGU8SywgVj47XG4gIHByaXZhdGUgdGFpbDogTm9kZTxLLCBWPjtcblxuICBjb25zdHJ1Y3RvcihjYXBhY2l0eTogbnVtYmVyKSB7XG4gICAgdGhpcy5jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHRoaXMuaGVhZCA9IG5ldyBOb2RlKG51bGwgYXMgYW55LCBudWxsIGFzIGFueSk7XG4gICAgdGhpcy50YWlsID0gbmV3IE5vZGUobnVsbCBhcyBhbnksIG51bGwgYXMgYW55KTtcbiAgICB0aGlzLmhlYWQubmV4dCA9IHRoaXMudGFpbDtcbiAgICB0aGlzLnRhaWwucHJldiA9IHRoaXMuaGVhZDtcbiAgfVxuXG4gIGdldChrZXk6IEspOiBWIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAoIW5vZGUpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLm1vdmVUb0hlYWQobm9kZSk7XG4gICAgcmV0dXJuIG5vZGUudmFsdWU7XG4gIH1cblxuICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLnNpemU7XG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5oZWFkLm5leHQgPSB0aGlzLnRhaWw7XG4gICAgdGhpcy50YWlsLnByZXYgPSB0aGlzLmhlYWQ7XG4gIH1cblxuICBwdXQoa2V5OiBLLCB2YWx1ZTogVik6IHZvaWQge1xuICAgIGNvbnN0IGV4aXN0aW5nTm9kZSA9IHRoaXMuY2FjaGUuZ2V0KGtleSk7XG5cbiAgICBpZiAoZXhpc3RpbmdOb2RlKSB7XG4gICAgICBleGlzdGluZ05vZGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMubW92ZVRvSGVhZChleGlzdGluZ05vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUoa2V5LCB2YWx1ZSk7XG5cbiAgICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5jYXBhY2l0eSkge1xuICAgICAgICBjb25zdCBsYXN0Tm9kZSA9IHRoaXMucmVtb3ZlVGFpbCgpO1xuICAgICAgICB0aGlzLmNhY2hlLmRlbGV0ZShsYXN0Tm9kZS5rZXkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhY2hlLnNldChrZXksIG5ld05vZGUpO1xuICAgICAgdGhpcy5hZGRUb0hlYWQobmV3Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRUb0hlYWQobm9kZTogTm9kZTxLLCBWPik6IHZvaWQge1xuICAgIG5vZGUucHJldiA9IHRoaXMuaGVhZDtcbiAgICBub2RlLm5leHQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICB0aGlzLmhlYWQubmV4dCEucHJldiA9IG5vZGU7XG4gICAgdGhpcy5oZWFkLm5leHQgPSBub2RlO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVOb2RlKG5vZGU6IE5vZGU8SywgVj4pOiB2b2lkIHtcbiAgICBub2RlLnByZXYhLm5leHQgPSBub2RlLm5leHQ7XG4gICAgbm9kZS5uZXh0IS5wcmV2ID0gbm9kZS5wcmV2O1xuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlVG9IZWFkKG5vZGU6IE5vZGU8SywgVj4pOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZU5vZGUobm9kZSk7XG4gICAgdGhpcy5hZGRUb0hlYWQobm9kZSk7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZVRhaWwoKTogTm9kZTxLLCBWPiB7XG4gICAgY29uc3QgbGFzdE5vZGUgPSB0aGlzLnRhaWwucHJldiE7XG4gICAgdGhpcy5yZW1vdmVOb2RlKGxhc3ROb2RlKTtcbiAgICByZXR1cm4gbGFzdE5vZGU7XG4gIH1cbn1cblxuY2xhc3MgTm9kZTxLLCBWPiB7XG4gIGtleTogSztcbiAgdmFsdWU6IFY7XG4gIHByZXY6IE5vZGU8SywgVj4gfCBudWxsID0gbnVsbDtcbiAgbmV4dDogTm9kZTxLLCBWPiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGtleTogSywgdmFsdWU6IFYpIHtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBBZHZhbmNlZCBTZWFyY2ggQWxnb3JpdGhtc1xuICovXG5leHBvcnQgY2xhc3MgU2VhcmNoQWxnb3JpdGhtcyB7XG4gIC8qKlxuICAgKiBCaW5hcnkgc2VhcmNoIC0gTyhsb2cgbilcbiAgICovXG4gIHN0YXRpYyBiaW5hcnlTZWFyY2g8VD4oXG4gICAgYXJyYXk6IFRbXSxcbiAgICB0YXJnZXQ6IFQsXG4gICAgY29tcGFyZUZuOiAoYTogVCwgYjogVCkgPT4gbnVtYmVyXG4gICk6IG51bWJlciB7XG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCByaWdodCA9IGFycmF5Lmxlbmd0aCAtIDE7XG5cbiAgICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuICAgICAgY29uc3QgY21wID0gY29tcGFyZUZuKGFycmF5W21pZF0sIHRhcmdldCk7XG5cbiAgICAgIGlmIChjbXAgPT09IDApIHJldHVybiBtaWQ7XG4gICAgICBpZiAoY21wIDwgMCkgbGVmdCA9IG1pZCArIDE7XG4gICAgICBlbHNlIHJpZ2h0ID0gbWlkIC0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQm95ZXItTW9vcmUgc3RyaW5nIHNlYXJjaCAtIE8obi9tKSBhdmVyYWdlIGNhc2VcbiAgICovXG4gIHN0YXRpYyBib3llck1vb3JlU2VhcmNoKHRleHQ6IHN0cmluZywgcGF0dGVybjogc3RyaW5nKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IHBvc2l0aW9uczogbnVtYmVyW10gPSBbXTtcbiAgICBjb25zdCBtID0gcGF0dGVybi5sZW5ndGg7XG4gICAgY29uc3QgbiA9IHRleHQubGVuZ3RoO1xuXG4gICAgaWYgKG0gPT09IDApIHJldHVybiBwb3NpdGlvbnM7XG5cbiAgICBjb25zdCBiYWRDaGFyID0gdGhpcy5idWlsZEJhZENoYXJUYWJsZShwYXR0ZXJuKTtcblxuICAgIGxldCBza2lwID0gMDtcbiAgICB3aGlsZSAoc2tpcCA8PSBuIC0gbSkge1xuICAgICAgbGV0IGogPSBtIC0gMTtcblxuICAgICAgd2hpbGUgKGogPj0gMCAmJiBwYXR0ZXJuW2pdID09PSB0ZXh0W3NraXAgKyBqXSkge1xuICAgICAgICBqLS07XG4gICAgICB9XG5cbiAgICAgIGlmIChqIDwgMCkge1xuICAgICAgICBwb3NpdGlvbnMucHVzaChza2lwKTtcbiAgICAgICAgc2tpcCArPSBza2lwICsgbSA8IG4gPyBtIC0gYmFkQ2hhclt0ZXh0LmNoYXJDb2RlQXQoc2tpcCArIG0pXSA6IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBza2lwICs9IE1hdGgubWF4KDEsIGogLSBiYWRDaGFyW3RleHQuY2hhckNvZGVBdChza2lwICsgaildKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgYnVpbGRCYWRDaGFyVGFibGUocGF0dGVybjogc3RyaW5nKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IHRhYmxlID0gbmV3IEFycmF5KDI1NikuZmlsbCgtMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0YWJsZVtwYXR0ZXJuLmNoYXJDb2RlQXQoaSldID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHRhYmxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1enp5IHNlYXJjaCB1c2luZyBMZXZlbnNodGVpbiBkaXN0YW5jZSB3aXRoIG9wdGltaXphdGlvbnNcbiAgICovXG4gIHN0YXRpYyBmdXp6eVNlYXJjaChcbiAgICBxdWVyeTogc3RyaW5nLFxuICAgIGNhbmRpZGF0ZXM6IHN0cmluZ1tdLFxuICAgIHRocmVzaG9sZDogbnVtYmVyID0gMC42XG4gICk6IEFycmF5PHsgaXRlbTogc3RyaW5nOyBzY29yZTogbnVtYmVyIH0+IHtcbiAgICBjb25zdCByZXN1bHRzID0gY2FuZGlkYXRlcy5tYXAoKGNhbmRpZGF0ZSkgPT4gKHtcbiAgICAgIGl0ZW06IGNhbmRpZGF0ZSxcbiAgICAgIHNjb3JlOiB0aGlzLmphcm9XaW5rbGVyU2ltaWxhcml0eShcbiAgICAgICAgcXVlcnkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgY2FuZGlkYXRlLnRvTG93ZXJDYXNlKClcbiAgICAgICksXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgICAgIC5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnNjb3JlID49IHRocmVzaG9sZClcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBqYXJvV2lua2xlclNpbWlsYXJpdHkoczE6IHN0cmluZywgczI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgamFybyA9IHRoaXMuamFyb1NpbWlsYXJpdHkoczEsIHMyKTtcbiAgICBjb25zdCBwcmVmaXhMZW5ndGggPSB0aGlzLmNvbW1vblByZWZpeExlbmd0aChzMSwgczIsIDQpO1xuICAgIHJldHVybiBqYXJvICsgMC4xICogcHJlZml4TGVuZ3RoICogKDEgLSBqYXJvKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGphcm9TaW1pbGFyaXR5KHMxOiBzdHJpbmcsIHMyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGlmIChzMS5sZW5ndGggPT09IDAgJiYgczIubGVuZ3RoID09PSAwKSByZXR1cm4gMTtcbiAgICBpZiAoczEubGVuZ3RoID09PSAwIHx8IHMyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBtYXRjaFdpbmRvdyA9IE1hdGguZmxvb3IoTWF0aC5tYXgoczEubGVuZ3RoLCBzMi5sZW5ndGgpIC8gMikgLSAxO1xuICAgIGNvbnN0IHMxTWF0Y2hlcyA9IG5ldyBBcnJheShzMS5sZW5ndGgpLmZpbGwoZmFsc2UpO1xuICAgIGNvbnN0IHMyTWF0Y2hlcyA9IG5ldyBBcnJheShzMi5sZW5ndGgpLmZpbGwoZmFsc2UpO1xuXG4gICAgbGV0IG1hdGNoZXMgPSAwO1xuICAgIGxldCB0cmFuc3Bvc2l0aW9ucyA9IDA7XG5cbiAgICAvLyBGaW5kIG1hdGNoZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KDAsIGkgLSBtYXRjaFdpbmRvdyk7XG4gICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihpICsgbWF0Y2hXaW5kb3cgKyAxLCBzMi5sZW5ndGgpO1xuXG4gICAgICBmb3IgKGxldCBqID0gc3RhcnQ7IGogPCBlbmQ7IGorKykge1xuICAgICAgICBpZiAoczJNYXRjaGVzW2pdIHx8IHMxW2ldICE9PSBzMltqXSkgY29udGludWU7XG4gICAgICAgIHMxTWF0Y2hlc1tpXSA9IHMyTWF0Y2hlc1tqXSA9IHRydWU7XG4gICAgICAgIG1hdGNoZXMrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoZXMgPT09IDApIHJldHVybiAwO1xuXG4gICAgLy8gQ291bnQgdHJhbnNwb3NpdGlvbnNcbiAgICBsZXQgayA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzMS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFzMU1hdGNoZXNbaV0pIGNvbnRpbnVlO1xuICAgICAgd2hpbGUgKCFzMk1hdGNoZXNba10pIGsrKztcbiAgICAgIGlmIChzMVtpXSAhPT0gczJba10pIHRyYW5zcG9zaXRpb25zKys7XG4gICAgICBrKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIChtYXRjaGVzIC8gczEubGVuZ3RoICtcbiAgICAgICAgbWF0Y2hlcyAvIHMyLmxlbmd0aCArXG4gICAgICAgIChtYXRjaGVzIC0gdHJhbnNwb3NpdGlvbnMgLyAyKSAvIG1hdGNoZXMpIC9cbiAgICAgIDNcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY29tbW9uUHJlZml4TGVuZ3RoKFxuICAgIHMxOiBzdHJpbmcsXG4gICAgczI6IHN0cmluZyxcbiAgICBtYXhMZW5ndGg6IG51bWJlclxuICApOiBudW1iZXIge1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oczEubGVuZ3RoLCBzMi5sZW5ndGgsIG1heExlbmd0aCk7IGkrKykge1xuICAgICAgaWYgKHMxW2ldID09PSBzMltpXSkgbGVuZ3RoKys7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoO1xuICB9XG59XG5cbi8qKlxuICogR3JhcGggYWxnb3JpdGhtcyBmb3IgcmVsYXRpb25zaGlwIGFuZCBuZXR3b3JrIGFuYWx5c2lzXG4gKi9cbmV4cG9ydCBjbGFzcyBHcmFwaEFsZ29yaXRobXMge1xuICAvKipcbiAgICogRmluZCBzaG9ydGVzdCBwYXRoIHVzaW5nIERpamtzdHJhJ3MgYWxnb3JpdGhtXG4gICAqL1xuICBzdGF0aWMgZGlqa3N0cmE8VD4oXG4gICAgZ3JhcGg6IE1hcDxULCBBcnJheTx7IG5vZGU6IFQ7IHdlaWdodDogbnVtYmVyIH0+PixcbiAgICBzdGFydDogVCxcbiAgICBlbmQ6IFRcbiAgKTogeyBwYXRoOiBUW107IGRpc3RhbmNlOiBudW1iZXIgfSB8IG51bGwge1xuICAgIGNvbnN0IGRpc3RhbmNlcyA9IG5ldyBNYXA8VCwgbnVtYmVyPigpO1xuICAgIGNvbnN0IHByZXZpb3VzID0gbmV3IE1hcDxULCBUIHwgbnVsbD4oKTtcbiAgICBjb25zdCB1bnZpc2l0ZWQgPSBuZXcgUHJpb3JpdHlRdWV1ZTxUPigpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBkaXN0YW5jZXNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JhcGgua2V5cygpKSB7XG4gICAgICBkaXN0YW5jZXMuc2V0KG5vZGUsIG5vZGUgPT09IHN0YXJ0ID8gMCA6IEluZmluaXR5KTtcbiAgICAgIHByZXZpb3VzLnNldChub2RlLCBudWxsKTtcbiAgICAgIHVudmlzaXRlZC5pbnNlcnQobm9kZSwgbm9kZSA9PT0gc3RhcnQgPyAwIDogLUluZmluaXR5KTtcbiAgICB9XG5cbiAgICB3aGlsZSAodW52aXNpdGVkLnNpemUoKSA+IDApIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB1bnZpc2l0ZWQuZXh0cmFjdE1heCgpITtcblxuICAgICAgaWYgKGN1cnJlbnQgPT09IGVuZCkgYnJlYWs7XG4gICAgICBpZiAoZGlzdGFuY2VzLmdldChjdXJyZW50KSA9PT0gSW5maW5pdHkpIGJyZWFrO1xuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSBncmFwaC5nZXQoY3VycmVudCkgfHwgW107XG4gICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIG5laWdoYm9ycykge1xuICAgICAgICBjb25zdCBhbHQgPSBkaXN0YW5jZXMuZ2V0KGN1cnJlbnQpISArIG5laWdoYm9yLndlaWdodDtcbiAgICAgICAgaWYgKGFsdCA8IGRpc3RhbmNlcy5nZXQobmVpZ2hib3Iubm9kZSkhKSB7XG4gICAgICAgICAgZGlzdGFuY2VzLnNldChuZWlnaGJvci5ub2RlLCBhbHQpO1xuICAgICAgICAgIHByZXZpb3VzLnNldChuZWlnaGJvci5ub2RlLCBjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlY29uc3RydWN0IHBhdGhcbiAgICBjb25zdCBwYXRoOiBUW10gPSBbXTtcbiAgICBsZXQgY3VycmVudDogVCB8IG51bGwgPSBlbmQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHBhdGgudW5zaGlmdChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSBwcmV2aW91cy5nZXQoY3VycmVudCkgfHwgbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocGF0aFswXSAhPT0gc3RhcnQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGgsXG4gICAgICBkaXN0YW5jZTogZGlzdGFuY2VzLmdldChlbmQpISxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBjeWNsZXMgaW4gZGlyZWN0ZWQgZ3JhcGggdXNpbmcgREZTXG4gICAqL1xuICBzdGF0aWMgaGFzQ3ljbGU8VD4oZ3JhcGg6IE1hcDxULCBUW10+KTogYm9vbGVhbiB7XG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8VD4oKTtcbiAgICBjb25zdCByZWN1cnNpb25TdGFjayA9IG5ldyBTZXQ8VD4oKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmFwaC5rZXlzKCkpIHtcbiAgICAgIGlmICghdmlzaXRlZC5oYXMobm9kZSkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ3ljbGVERlMoZ3JhcGgsIG5vZGUsIHZpc2l0ZWQsIHJlY3Vyc2lvblN0YWNrKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaGFzQ3ljbGVERlM8VD4oXG4gICAgZ3JhcGg6IE1hcDxULCBUW10+LFxuICAgIG5vZGU6IFQsXG4gICAgdmlzaXRlZDogU2V0PFQ+LFxuICAgIHJlY3Vyc2lvblN0YWNrOiBTZXQ8VD5cbiAgKTogYm9vbGVhbiB7XG4gICAgdmlzaXRlZC5hZGQobm9kZSk7XG4gICAgcmVjdXJzaW9uU3RhY2suYWRkKG5vZGUpO1xuXG4gICAgY29uc3QgbmVpZ2hib3JzID0gZ3JhcGguZ2V0KG5vZGUpIHx8IFtdO1xuICAgIGZvciAoY29uc3QgbmVpZ2hib3Igb2YgbmVpZ2hib3JzKSB7XG4gICAgICBpZiAoIXZpc2l0ZWQuaGFzKG5laWdoYm9yKSkge1xuICAgICAgICBpZiAodGhpcy5oYXNDeWNsZURGUyhncmFwaCwgbmVpZ2hib3IsIHZpc2l0ZWQsIHJlY3Vyc2lvblN0YWNrKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlY3Vyc2lvblN0YWNrLmhhcyhuZWlnaGJvcikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVjdXJzaW9uU3RhY2suZGVsZXRlKG5vZGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEFkdmFuY2VkIHNvcnRpbmcgd2l0aCBtdWx0aXBsZSBhbGdvcml0aG1zIGFuZCBvcHRpbWl6YXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBPcHRpbWl6ZWRTb3J0aW5nIHtcbiAgLyoqXG4gICAqIEh5YnJpZCBzb3J0aW5nIGFsZ29yaXRobSB0aGF0IGNob29zZXMgYmVzdCBhcHByb2FjaCBiYXNlZCBvbiBkYXRhIGNoYXJhY3RlcmlzdGljc1xuICAgKi9cbiAgc3RhdGljIHNtYXJ0U29ydDxUPihhcnJheTogVFtdLCBjb21wYXJlRm4/OiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKTogVFtdIHtcbiAgICBpZiAoYXJyYXkubGVuZ3RoIDw9IDEpIHJldHVybiBbLi4uYXJyYXldO1xuXG4gICAgY29uc3QgY29tcGFyZSA9IGNvbXBhcmVGbiB8fCAoKGEsIGIpID0+IChhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMCkpO1xuXG4gICAgLy8gQ2hvb3NlIGFsZ29yaXRobSBiYXNlZCBvbiBhcnJheSBjaGFyYWN0ZXJpc3RpY3NcbiAgICBpZiAoYXJyYXkubGVuZ3RoIDwgNTApIHtcbiAgICAgIHJldHVybiB0aGlzLmluc2VydGlvblNvcnQoWy4uLmFycmF5XSwgY29tcGFyZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzTmVhcmx5U29ydGVkKGFycmF5LCBjb21wYXJlKSkge1xuICAgICAgcmV0dXJuIHRoaXMudGltU29ydChbLi4uYXJyYXldLCBjb21wYXJlKTtcbiAgICB9IGVsc2UgaWYgKGFycmF5Lmxlbmd0aCA+IDEwMDAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJhbGxlbFF1aWNrU29ydChbLi4uYXJyYXldLCBjb21wYXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucXVpY2tTb3J0KFsuLi5hcnJheV0sIGNvbXBhcmUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGlzTmVhcmx5U29ydGVkPFQ+KFxuICAgIGFycmF5OiBUW10sXG4gICAgY29tcGFyZTogKGE6IFQsIGI6IFQpID0+IG51bWJlclxuICApOiBib29sZWFuIHtcbiAgICBsZXQgaW52ZXJzaW9ucyA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGlmIChjb21wYXJlKGFycmF5W2ldLCBhcnJheVtpICsgMV0pID4gMCkge1xuICAgICAgICBpbnZlcnNpb25zKys7XG4gICAgICAgIGlmIChpbnZlcnNpb25zID4gYXJyYXkubGVuZ3RoICogMC4xKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaW5zZXJ0aW9uU29ydDxUPihcbiAgICBhcnJheTogVFtdLFxuICAgIGNvbXBhcmU6IChhOiBULCBiOiBUKSA9PiBudW1iZXJcbiAgKTogVFtdIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBhcnJheVtpXTtcbiAgICAgIGxldCBqID0gaSAtIDE7XG4gICAgICB3aGlsZSAoaiA+PSAwICYmIGNvbXBhcmUoYXJyYXlbal0sIGtleSkgPiAwKSB7XG4gICAgICAgIGFycmF5W2ogKyAxXSA9IGFycmF5W2pdO1xuICAgICAgICBqLS07XG4gICAgICB9XG4gICAgICBhcnJheVtqICsgMV0gPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHF1aWNrU29ydDxUPihcbiAgICBhcnJheTogVFtdLFxuICAgIGNvbXBhcmU6IChhOiBULCBiOiBUKSA9PiBudW1iZXJcbiAgKTogVFtdIHtcbiAgICBpZiAoYXJyYXkubGVuZ3RoIDw9IDEpIHJldHVybiBhcnJheTtcblxuICAgIGNvbnN0IHBpdm90ID0gYXJyYXlbTWF0aC5mbG9vcihhcnJheS5sZW5ndGggLyAyKV07XG4gICAgY29uc3QgbGVmdCA9IGFycmF5LmZpbHRlcigoeCkgPT4gY29tcGFyZSh4LCBwaXZvdCkgPCAwKTtcbiAgICBjb25zdCBtaWRkbGUgPSBhcnJheS5maWx0ZXIoKHgpID0+IGNvbXBhcmUoeCwgcGl2b3QpID09PSAwKTtcbiAgICBjb25zdCByaWdodCA9IGFycmF5LmZpbHRlcigoeCkgPT4gY29tcGFyZSh4LCBwaXZvdCkgPiAwKTtcblxuICAgIHJldHVybiBbXG4gICAgICAuLi50aGlzLnF1aWNrU29ydChsZWZ0LCBjb21wYXJlKSxcbiAgICAgIC4uLm1pZGRsZSxcbiAgICAgIC4uLnRoaXMucXVpY2tTb3J0KHJpZ2h0LCBjb21wYXJlKSxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgdGltU29ydDxUPihhcnJheTogVFtdLCBjb21wYXJlOiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKTogVFtdIHtcbiAgICAvLyBTaW1wbGlmaWVkIFRpbVNvcnQgaW1wbGVtZW50YXRpb25cbiAgICBjb25zdCBtaW5NZXJnZSA9IDMyO1xuXG4gICAgaWYgKGFycmF5Lmxlbmd0aCA8IG1pbk1lcmdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnNlcnRpb25Tb3J0KGFycmF5LCBjb21wYXJlKTtcbiAgICB9XG5cbiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKGFycmF5Lmxlbmd0aCAvIDIpO1xuICAgIGNvbnN0IGxlZnQgPSB0aGlzLnRpbVNvcnQoYXJyYXkuc2xpY2UoMCwgbWlkKSwgY29tcGFyZSk7XG4gICAgY29uc3QgcmlnaHQgPSB0aGlzLnRpbVNvcnQoYXJyYXkuc2xpY2UobWlkKSwgY29tcGFyZSk7XG5cbiAgICByZXR1cm4gdGhpcy5tZXJnZShsZWZ0LCByaWdodCwgY29tcGFyZSk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBtZXJnZTxUPihcbiAgICBsZWZ0OiBUW10sXG4gICAgcmlnaHQ6IFRbXSxcbiAgICBjb21wYXJlOiAoYTogVCwgYjogVCkgPT4gbnVtYmVyXG4gICk6IFRbXSB7XG4gICAgY29uc3QgcmVzdWx0OiBUW10gPSBbXTtcbiAgICBsZXQgaSA9IDAsXG4gICAgICBqID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGVmdC5sZW5ndGggJiYgaiA8IHJpZ2h0Lmxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmUobGVmdFtpXSwgcmlnaHRbal0pIDw9IDApIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobGVmdFtpKytdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0W2orK10pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQuY29uY2F0KGxlZnQuc2xpY2UoaSkpLmNvbmNhdChyaWdodC5zbGljZShqKSk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBwYXJhbGxlbFF1aWNrU29ydDxUPihcbiAgICBhcnJheTogVFtdLFxuICAgIGNvbXBhcmU6IChhOiBULCBiOiBUKSA9PiBudW1iZXJcbiAgKTogVFtdIHtcbiAgICAvLyBTaW1wbGlmaWVkIHBhcmFsbGVsIHNvcnRpbmcgKHdvdWxkIHVzZSBXZWIgV29ya2VycyBpbiByZWFsIGltcGxlbWVudGF0aW9uKVxuICAgIHJldHVybiB0aGlzLnF1aWNrU29ydChhcnJheSwgY29tcGFyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBNZW1vcnktZWZmaWNpZW50IGRhdGEgb3BlcmF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgTWVtb3J5T3B0aW1pemVkT3BlcmF0aW9ucyB7XG4gIC8qKlxuICAgKiBQcm9jZXNzIGxhcmdlIGRhdGFzZXRzIGluIGNodW5rcyB0byBhdm9pZCBtZW1vcnkgaXNzdWVzXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgcHJvY2Vzc0luQ2h1bmtzPFQsIFI+KFxuICAgIGRhdGE6IFRbXSxcbiAgICBwcm9jZXNzb3I6IChjaHVuazogVFtdKSA9PiBSW10sXG4gICAgY2h1bmtTaXplOiBudW1iZXIgPSAxMDAwXG4gICk6IFByb21pc2U8UltdPiB7XG4gICAgY29uc3QgcmVzdWx0czogUltdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IGNodW5rU2l6ZSkge1xuICAgICAgY29uc3QgY2h1bmsgPSBkYXRhLnNsaWNlKGksIGkgKyBjaHVua1NpemUpO1xuICAgICAgY29uc3QgY2h1bmtSZXN1bHRzID0gcHJvY2Vzc29yKGNodW5rKTtcbiAgICAgIHJlc3VsdHMucHVzaCguLi5jaHVua1Jlc3VsdHMpO1xuXG4gICAgICAvLyBBbGxvdyBnYXJiYWdlIGNvbGxlY3Rpb24gYmV0d2VlbiBjaHVua3NcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBWaXJ0dWFsIHNjcm9sbGluZyBmb3IgbGFyZ2UgbGlzdHNcbiAgICovXG4gIHN0YXRpYyBjYWxjdWxhdGVWaXNpYmxlSXRlbXMoXG4gICAgdG90YWxJdGVtczogbnVtYmVyLFxuICAgIGl0ZW1IZWlnaHQ6IG51bWJlcixcbiAgICBjb250YWluZXJIZWlnaHQ6IG51bWJlcixcbiAgICBzY3JvbGxUb3A6IG51bWJlcixcbiAgICBidWZmZXI6IG51bWJlciA9IDVcbiAgKTogeyBzdGFydEluZGV4OiBudW1iZXI7IGVuZEluZGV4OiBudW1iZXI7IG9mZnNldFk6IG51bWJlciB9IHtcbiAgICBjb25zdCB2aXNpYmxlQ291bnQgPSBNYXRoLmNlaWwoY29udGFpbmVySGVpZ2h0IC8gaXRlbUhlaWdodCk7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3Ioc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCkgLSBidWZmZXIpO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4oXG4gICAgICB0b3RhbEl0ZW1zIC0gMSxcbiAgICAgIHN0YXJ0SW5kZXggKyB2aXNpYmxlQ291bnQgKyAyICogYnVmZmVyXG4gICAgKTtcbiAgICBjb25zdCBvZmZzZXRZID0gc3RhcnRJbmRleCAqIGl0ZW1IZWlnaHQ7XG5cbiAgICByZXR1cm4geyBzdGFydEluZGV4LCBlbmRJbmRleCwgb2Zmc2V0WSB9O1xuICB9XG59XG5cbi8qKlxuICogUGVyZm9ybWFuY2UgbW9uaXRvcmluZyBhbmQgYW5hbHl0aWNzXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJmb3JtYW5jZUFuYWx5dGljcyB7XG4gIHByaXZhdGUgc3RhdGljIG1lYXN1cmVtZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXJbXT4oKTtcblxuICBzdGF0aWMgbWVhc3VyZTxUPihuYW1lOiBzdHJpbmcsIGZuOiAoKSA9PiBUKTogVCB7XG4gICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCByZXN1bHQgPSBmbigpO1xuICAgIGNvbnN0IGVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgaWYgKCF0aGlzLm1lYXN1cmVtZW50cy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMubWVhc3VyZW1lbnRzLnNldChuYW1lLCBbXSk7XG4gICAgfVxuICAgIHRoaXMubWVhc3VyZW1lbnRzLmdldChuYW1lKSEucHVzaChlbmQgLSBzdGFydCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIG1lYXN1cmVBc3luYzxUPihuYW1lOiBzdHJpbmcsIGZuOiAoKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbigpO1xuICAgIGNvbnN0IGVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgaWYgKCF0aGlzLm1lYXN1cmVtZW50cy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMubWVhc3VyZW1lbnRzLnNldChuYW1lLCBbXSk7XG4gICAgfVxuICAgIHRoaXMubWVhc3VyZW1lbnRzLmdldChuYW1lKSEucHVzaChlbmQgLSBzdGFydCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGdldFN0YXRzKG5hbWU6IHN0cmluZyk6IHtcbiAgICBjb3VudDogbnVtYmVyO1xuICAgIHRvdGFsVGltZTogbnVtYmVyO1xuICAgIGF2ZXJhZ2VUaW1lOiBudW1iZXI7XG4gICAgbWluVGltZTogbnVtYmVyO1xuICAgIG1heFRpbWU6IG51bWJlcjtcbiAgfSB8IG51bGwge1xuICAgIGNvbnN0IHRpbWVzID0gdGhpcy5tZWFzdXJlbWVudHMuZ2V0KG5hbWUpO1xuICAgIGlmICghdGltZXMpIHJldHVybiBudWxsO1xuXG4gICAgLy8gUmV0dXJuIHplcm9zIGZvciBlbXB0eSBtZWFzdXJlbWVudHMgKGFmdGVyIGNsZWFyKVxuICAgIGlmICh0aW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvdW50OiAwLFxuICAgICAgICB0b3RhbFRpbWU6IDAsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgICBtaW5UaW1lOiAwLFxuICAgICAgICBtYXhUaW1lOiAwLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdW0gPSB0aW1lcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgY291bnQ6IHRpbWVzLmxlbmd0aCxcbiAgICAgIHRvdGFsVGltZTogc3VtLFxuICAgICAgYXZlcmFnZVRpbWU6IHN1bSAvIHRpbWVzLmxlbmd0aCxcbiAgICAgIG1pblRpbWU6IE1hdGgubWluKC4uLnRpbWVzKSxcbiAgICAgIG1heFRpbWU6IE1hdGgubWF4KC4uLnRpbWVzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGNsZWFyTWVhc3VyZW1lbnRzKG5hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgdGhpcy5tZWFzdXJlbWVudHMuc2V0KG5hbWUsIFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2xlYXIgYWxsIG1lYXN1cmVtZW50cyBidXQga2VlcCB0aGUga2V5c1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5tZWFzdXJlbWVudHMua2V5cygpKSB7XG4gICAgICAgIHRoaXMubWVhc3VyZW1lbnRzLnNldChrZXksIFtdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQcmlvcml0eVF1ZXVlIiwiVHJpZSIsIkxSVUNhY2hlIiwiU2VhcmNoQWxnb3JpdGhtcyIsIkdyYXBoQWxnb3JpdGhtcyIsIk9wdGltaXplZFNvcnRpbmciLCJNZW1vcnlPcHRpbWl6ZWRPcGVyYXRpb25zIiwiUGVyZm9ybWFuY2VBbmFseXRpY3MiLCJjb25zdHJ1Y3RvciIsImNvbXBhcmVGbiIsImhlYXAiLCJhIiwiYiIsImVucXVldWUiLCJpdGVtIiwicHVzaCIsImhlYXBpZnlVcCIsImxlbmd0aCIsImRlcXVldWUiLCJ1bmRlZmluZWQiLCJwb3AiLCJyZXN1bHQiLCJoZWFwaWZ5RG93biIsInBlZWsiLCJzaXplIiwiaXNFbXB0eSIsImluc2VydCIsInByaW9yaXR5IiwiZXh0cmFjdE1heCIsIm1heCIsImluZGV4IiwicGFyZW50SW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJzd2FwIiwibWluSW5kZXgiLCJsZWZ0Q2hpbGQiLCJyaWdodENoaWxkIiwiaSIsImoiLCJ3b3JkIiwiY3VycmVudCIsInJvb3QiLCJjaGFyIiwidG9Mb3dlckNhc2UiLCJjaGlsZHJlbiIsImhhcyIsInNldCIsIlRyaWVOb2RlIiwiZ2V0IiwiaXNFbmRPZldvcmQiLCJzZWFyY2giLCJzdGFydHNXaXRoIiwicHJlZml4IiwiZ2V0V29yZHNXaXRoUHJlZml4Iiwid29yZHMiLCJkZnMiLCJmaW5kV29yZHNXaXRoUHJlZml4IiwiZGVsZXRlIiwiZGVsZXRlSGVscGVyIiwibm9kZSIsImNoaWxkTm9kZSIsInNob3VsZERlbGV0ZUNoaWxkIiwiY3VycmVudFdvcmQiLCJNYXAiLCJjYXBhY2l0eSIsImNhY2hlIiwiaGVhZCIsIk5vZGUiLCJ0YWlsIiwibmV4dCIsInByZXYiLCJrZXkiLCJtb3ZlVG9IZWFkIiwidmFsdWUiLCJjbGVhciIsInB1dCIsImV4aXN0aW5nTm9kZSIsIm5ld05vZGUiLCJsYXN0Tm9kZSIsInJlbW92ZVRhaWwiLCJhZGRUb0hlYWQiLCJyZW1vdmVOb2RlIiwiYmluYXJ5U2VhcmNoIiwiYXJyYXkiLCJ0YXJnZXQiLCJsZWZ0IiwicmlnaHQiLCJtaWQiLCJjbXAiLCJib3llck1vb3JlU2VhcmNoIiwidGV4dCIsInBhdHRlcm4iLCJwb3NpdGlvbnMiLCJtIiwibiIsImJhZENoYXIiLCJidWlsZEJhZENoYXJUYWJsZSIsInNraXAiLCJjaGFyQ29kZUF0IiwidGFibGUiLCJBcnJheSIsImZpbGwiLCJmdXp6eVNlYXJjaCIsInF1ZXJ5IiwiY2FuZGlkYXRlcyIsInRocmVzaG9sZCIsInJlc3VsdHMiLCJtYXAiLCJjYW5kaWRhdGUiLCJzY29yZSIsImphcm9XaW5rbGVyU2ltaWxhcml0eSIsImZpbHRlciIsInNvcnQiLCJzMSIsInMyIiwiamFybyIsImphcm9TaW1pbGFyaXR5IiwicHJlZml4TGVuZ3RoIiwiY29tbW9uUHJlZml4TGVuZ3RoIiwibWF0Y2hXaW5kb3ciLCJzMU1hdGNoZXMiLCJzMk1hdGNoZXMiLCJtYXRjaGVzIiwidHJhbnNwb3NpdGlvbnMiLCJzdGFydCIsImVuZCIsIm1pbiIsImsiLCJtYXhMZW5ndGgiLCJkaWprc3RyYSIsImdyYXBoIiwiZGlzdGFuY2VzIiwicHJldmlvdXMiLCJ1bnZpc2l0ZWQiLCJrZXlzIiwiSW5maW5pdHkiLCJuZWlnaGJvcnMiLCJuZWlnaGJvciIsImFsdCIsIndlaWdodCIsInBhdGgiLCJ1bnNoaWZ0IiwiZGlzdGFuY2UiLCJoYXNDeWNsZSIsInZpc2l0ZWQiLCJTZXQiLCJyZWN1cnNpb25TdGFjayIsImhhc0N5Y2xlREZTIiwiYWRkIiwic21hcnRTb3J0IiwiY29tcGFyZSIsImluc2VydGlvblNvcnQiLCJpc05lYXJseVNvcnRlZCIsInRpbVNvcnQiLCJwYXJhbGxlbFF1aWNrU29ydCIsInF1aWNrU29ydCIsImludmVyc2lvbnMiLCJwaXZvdCIsIngiLCJtaWRkbGUiLCJtaW5NZXJnZSIsInNsaWNlIiwibWVyZ2UiLCJjb25jYXQiLCJwcm9jZXNzSW5DaHVua3MiLCJkYXRhIiwicHJvY2Vzc29yIiwiY2h1bmtTaXplIiwiY2h1bmsiLCJjaHVua1Jlc3VsdHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjYWxjdWxhdGVWaXNpYmxlSXRlbXMiLCJ0b3RhbEl0ZW1zIiwiaXRlbUhlaWdodCIsImNvbnRhaW5lckhlaWdodCIsInNjcm9sbFRvcCIsImJ1ZmZlciIsInZpc2libGVDb3VudCIsImNlaWwiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJvZmZzZXRZIiwibWVhc3VyZW1lbnRzIiwibWVhc3VyZSIsIm5hbWUiLCJmbiIsInBlcmZvcm1hbmNlIiwibm93IiwibWVhc3VyZUFzeW5jIiwiZ2V0U3RhdHMiLCJ0aW1lcyIsImNvdW50IiwidG90YWxUaW1lIiwiYXZlcmFnZVRpbWUiLCJtaW5UaW1lIiwibWF4VGltZSIsInN1bSIsInJlZHVjZSIsImNsZWFyTWVhc3VyZW1lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0lBUWFBLGFBQWE7ZUFBYkE7O0lBbUdBQyxJQUFJO2VBQUpBOztJQTZGQUMsUUFB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