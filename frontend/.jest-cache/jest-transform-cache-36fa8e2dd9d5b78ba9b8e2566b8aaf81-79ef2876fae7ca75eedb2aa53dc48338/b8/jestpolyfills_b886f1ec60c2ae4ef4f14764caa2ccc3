d949a86bc67bf5c4472bf78f51ae6d9c
// Polyfills for Jest test environment
// TextEncoder/TextDecoder polyfill
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _util = require("util");
global.TextEncoder = _util.TextEncoder;
global.TextDecoder = _util.TextDecoder;
// Blob polyfill for file handling tests
global.Blob = class Blob {
    constructor(parts, options){
        this.parts = parts || [];
        this.type = options?.type || "";
        this.size = this.parts.join("").length;
    }
    text() {
        return Promise.resolve(this.parts.join(""));
    }
    arrayBuffer() {
        const text = this.parts.join("");
        const buffer = new ArrayBuffer(text.length);
        const view = new Uint8Array(buffer);
        for(let i = 0; i < text.length; i++){
            view[i] = text.charCodeAt(i);
        }
        return Promise.resolve(buffer);
    }
};
// File polyfill for upload tests
global.File = class File extends global.Blob {
    constructor(parts, name, options){
        super(parts, options);
        this.name = name;
        this.lastModified = options?.lastModified || Date.now();
    }
};
// URL polyfill
global.URL = class URL {
    constructor(url){
        this.href = url;
        this.origin = "http://localhost:3000";
        this.protocol = "http:";
        this.host = "localhost:3000";
        this.hostname = "localhost";
        this.port = "3000";
        this.pathname = "/";
        this.search = "";
        this.hash = "";
    }
    toString() {
        return this.href;
    }
    static createObjectURL() {
        return "blob:mock-url";
    }
    static revokeObjectURL() {
    // Mock implementation
    }
};
// DOMRect polyfill for getBoundingClientRect
global.DOMRect = class DOMRect {
    constructor(x = 0, y = 0, width = 0, height = 0){
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.top = y;
        this.left = x;
        this.bottom = y + height;
        this.right = x + width;
    }
    static fromRect(other) {
        return new DOMRect(other.x, other.y, other.width, other.height);
    }
    toJSON() {
        return JSON.stringify(this);
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZW5hL0RldmVsb3Blci9lY2hvL2Zyb250ZW5kL2plc3QucG9seWZpbGxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBvbHlmaWxscyBmb3IgSmVzdCB0ZXN0IGVudmlyb25tZW50XG5cbi8vIFRleHRFbmNvZGVyL1RleHREZWNvZGVyIHBvbHlmaWxsXG5pbXBvcnQgeyBUZXh0RW5jb2RlciwgVGV4dERlY29kZXIgfSBmcm9tICd1dGlsJztcblxuZ2xvYmFsLlRleHRFbmNvZGVyID0gVGV4dEVuY29kZXI7XG5nbG9iYWwuVGV4dERlY29kZXIgPSBUZXh0RGVjb2RlcjtcblxuLy8gQmxvYiBwb2x5ZmlsbCBmb3IgZmlsZSBoYW5kbGluZyB0ZXN0c1xuZ2xvYmFsLkJsb2IgPSBjbGFzcyBCbG9iIHtcbiAgY29uc3RydWN0b3IocGFydHMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnBhcnRzID0gcGFydHMgfHwgW107XG4gICAgdGhpcy50eXBlID0gb3B0aW9ucz8udHlwZSB8fCAnJztcbiAgICB0aGlzLnNpemUgPSB0aGlzLnBhcnRzLmpvaW4oJycpLmxlbmd0aDtcbiAgfVxuXG4gIHRleHQoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnBhcnRzLmpvaW4oJycpKTtcbiAgfVxuXG4gIGFycmF5QnVmZmVyKCkge1xuICAgIGNvbnN0IHRleHQgPSB0aGlzLnBhcnRzLmpvaW4oJycpO1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0ZXh0Lmxlbmd0aCk7XG4gICAgY29uc3QgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2aWV3W2ldID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJ1ZmZlcik7XG4gIH1cbn07XG5cbi8vIEZpbGUgcG9seWZpbGwgZm9yIHVwbG9hZCB0ZXN0c1xuZ2xvYmFsLkZpbGUgPSBjbGFzcyBGaWxlIGV4dGVuZHMgZ2xvYmFsLkJsb2Ige1xuICBjb25zdHJ1Y3RvcihwYXJ0cywgbmFtZSwgb3B0aW9ucykge1xuICAgIHN1cGVyKHBhcnRzLCBvcHRpb25zKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubGFzdE1vZGlmaWVkID0gb3B0aW9ucz8ubGFzdE1vZGlmaWVkIHx8IERhdGUubm93KCk7XG4gIH1cbn07XG5cbi8vIFVSTCBwb2x5ZmlsbFxuZ2xvYmFsLlVSTCA9IGNsYXNzIFVSTCB7XG4gIGNvbnN0cnVjdG9yKHVybCkge1xuICAgIHRoaXMuaHJlZiA9IHVybDtcbiAgICB0aGlzLm9yaWdpbiA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuICAgIHRoaXMucHJvdG9jb2wgPSAnaHR0cDonO1xuICAgIHRoaXMuaG9zdCA9ICdsb2NhbGhvc3Q6MzAwMCc7XG4gICAgdGhpcy5ob3N0bmFtZSA9ICdsb2NhbGhvc3QnO1xuICAgIHRoaXMucG9ydCA9ICczMDAwJztcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5oYXNoID0gJyc7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5ocmVmO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZU9iamVjdFVSTCgpIHtcbiAgICByZXR1cm4gJ2Jsb2I6bW9jay11cmwnO1xuICB9XG5cbiAgc3RhdGljIHJldm9rZU9iamVjdFVSTCgpIHtcbiAgICAvLyBNb2NrIGltcGxlbWVudGF0aW9uXG4gIH1cbn07XG5cbi8vIERPTVJlY3QgcG9seWZpbGwgZm9yIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuZ2xvYmFsLkRPTVJlY3QgPSBjbGFzcyBET01SZWN0IHtcbiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMudG9wID0geTtcbiAgICB0aGlzLmxlZnQgPSB4O1xuICAgIHRoaXMuYm90dG9tID0geSArIGhlaWdodDtcbiAgICB0aGlzLnJpZ2h0ID0geCArIHdpZHRoO1xuICB9XG5cbiAgc3RhdGljIGZyb21SZWN0KG90aGVyKSB7XG4gICAgcmV0dXJuIG5ldyBET01SZWN0KG90aGVyLngsIG90aGVyLnksIG90aGVyLndpZHRoLCBvdGhlci5oZWlnaHQpO1xuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJUZXh0RW5jb2RlciIsIlRleHREZWNvZGVyIiwiQmxvYiIsImNvbnN0cnVjdG9yIiwicGFydHMiLCJvcHRpb25zIiwidHlwZSIsInNpemUiLCJqb2luIiwibGVuZ3RoIiwidGV4dCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJBcnJheUJ1ZmZlciIsInZpZXciLCJVaW50OEFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJGaWxlIiwibmFtZSIsImxhc3RNb2RpZmllZCIsIkRhdGUiLCJub3ciLCJVUkwiLCJ1cmwiLCJocmVmIiwib3JpZ2luIiwicHJvdG9jb2wiLCJob3N0IiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNoIiwidG9TdHJpbmciLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJET01SZWN0IiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsImZyb21SZWN0Iiwib3RoZXIiLCJ0b0pTT04iLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFFdEMsbUNBQW1DOzs7OztzQkFDTTtBQUV6Q0EsT0FB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