{"version":3,"sources":["/Users/aena/Developer/echo/frontend/jest.polyfills.js"],"sourcesContent":["// Polyfills for Jest test environment\n\n// TextEncoder/TextDecoder polyfill\nimport { TextEncoder, TextDecoder } from 'util';\n\nglobal.TextEncoder = TextEncoder;\nglobal.TextDecoder = TextDecoder;\n\n// Blob polyfill for file handling tests\nglobal.Blob = class Blob {\n  constructor(parts, options) {\n    this.parts = parts || [];\n    this.type = options?.type || '';\n    this.size = this.parts.join('').length;\n  }\n\n  text() {\n    return Promise.resolve(this.parts.join(''));\n  }\n\n  arrayBuffer() {\n    const text = this.parts.join('');\n    const buffer = new ArrayBuffer(text.length);\n    const view = new Uint8Array(buffer);\n    for (let i = 0; i < text.length; i++) {\n      view[i] = text.charCodeAt(i);\n    }\n    return Promise.resolve(buffer);\n  }\n};\n\n// File polyfill for upload tests\nglobal.File = class File extends global.Blob {\n  constructor(parts, name, options) {\n    super(parts, options);\n    this.name = name;\n    this.lastModified = options?.lastModified || Date.now();\n  }\n};\n\n// URL polyfill\nglobal.URL = class URL {\n  constructor(url) {\n    this.href = url;\n    this.origin = 'http://localhost:3000';\n    this.protocol = 'http:';\n    this.host = 'localhost:3000';\n    this.hostname = 'localhost';\n    this.port = '3000';\n    this.pathname = '/';\n    this.search = '';\n    this.hash = '';\n  }\n\n  toString() {\n    return this.href;\n  }\n\n  static createObjectURL() {\n    return 'blob:mock-url';\n  }\n\n  static revokeObjectURL() {\n    // Mock implementation\n  }\n};\n\n// DOMRect polyfill for getBoundingClientRect\nglobal.DOMRect = class DOMRect {\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.top = y;\n    this.left = x;\n    this.bottom = y + height;\n    this.right = x + width;\n  }\n\n  static fromRect(other) {\n    return new DOMRect(other.x, other.y, other.width, other.height);\n  }\n\n  toJSON() {\n    return JSON.stringify(this);\n  }\n};\n"],"names":["global","TextEncoder","TextDecoder","Blob","constructor","parts","options","type","size","join","length","text","Promise","resolve","arrayBuffer","buffer","ArrayBuffer","view","Uint8Array","i","charCodeAt","File","name","lastModified","Date","now","URL","url","href","origin","protocol","host","hostname","port","pathname","search","hash","toString","createObjectURL","revokeObjectURL","DOMRect","x","y","width","height","top","left","bottom","right","fromRect","other","toJSON","JSON","stringify"],"mappings":"AAAA,sCAAsC;AAEtC,mCAAmC;;;;;sBACM;AAEzCA,OAAOC,WAAW,GAAGA,iBAAW;AAChCD,OAAOE,WAAW,GAAGA,iBAAW;AAEhC,wCAAwC;AACxCF,OAAOG,IAAI,GAAG,MAAMA;IAClBC,YAAYC,KAAK,EAAEC,OAAO,CAAE;QAC1B,IAAI,CAACD,KAAK,GAAGA,SAAS,EAAE;QACxB,IAAI,CAACE,IAAI,GAAGD,SAASC,QAAQ;QAC7B,IAAI,CAACC,IAAI,GAAG,IAAI,CAACH,KAAK,CAACI,IAAI,CAAC,IAAIC,MAAM;IACxC;IAEAC,OAAO;QACL,OAAOC,QAAQC,OAAO,CAAC,IAAI,CAACR,KAAK,CAACI,IAAI,CAAC;IACzC;IAEAK,cAAc;QACZ,MAAMH,OAAO,IAAI,CAACN,KAAK,CAACI,IAAI,CAAC;QAC7B,MAAMM,SAAS,IAAIC,YAAYL,KAAKD,MAAM;QAC1C,MAAMO,OAAO,IAAIC,WAAWH;QAC5B,IAAK,IAAII,IAAI,GAAGA,IAAIR,KAAKD,MAAM,EAAES,IAAK;YACpCF,IAAI,CAACE,EAAE,GAAGR,KAAKS,UAAU,CAACD;QAC5B;QACA,OAAOP,QAAQC,OAAO,CAACE;IACzB;AACF;AAEA,iCAAiC;AACjCf,OAAOqB,IAAI,GAAG,MAAMA,aAAarB,OAAOG,IAAI;IAC1CC,YAAYC,KAAK,EAAEiB,IAAI,EAAEhB,OAAO,CAAE;QAChC,KAAK,CAACD,OAAOC;QACb,IAAI,CAACgB,IAAI,GAAGA;QACZ,IAAI,CAACC,YAAY,GAAGjB,SAASiB,gBAAgBC,KAAKC,GAAG;IACvD;AACF;AAEA,eAAe;AACfzB,OAAO0B,GAAG,GAAG,MAAMA;IACjBtB,YAAYuB,GAAG,CAAE;QACf,IAAI,CAACC,IAAI,GAAGD;QACZ,IAAI,CAACE,MAAM,GAAG;QACd,IAAI,CAACC,QAAQ,GAAG;QAChB,IAAI,CAACC,IAAI,GAAG;QACZ,IAAI,CAACC,QAAQ,GAAG;QAChB,IAAI,CAACC,IAAI,GAAG;QACZ,IAAI,CAACC,QAAQ,GAAG;QAChB,IAAI,CAACC,MAAM,GAAG;QACd,IAAI,CAACC,IAAI,GAAG;IACd;IAEAC,WAAW;QACT,OAAO,IAAI,CAACT,IAAI;IAClB;IAEA,OAAOU,kBAAkB;QACvB,OAAO;IACT;IAEA,OAAOC,kBAAkB;IACvB,sBAAsB;IACxB;AACF;AAEA,6CAA6C;AAC7CvC,OAAOwC,OAAO,GAAG,MAAMA;IACrBpC,YAAYqC,IAAI,CAAC,EAAEC,IAAI,CAAC,EAAEC,QAAQ,CAAC,EAAEC,SAAS,CAAC,CAAE;QAC/C,IAAI,CAACH,CAAC,GAAGA;QACT,IAAI,CAACC,CAAC,GAAGA;QACT,IAAI,CAACC,KAAK,GAAGA;QACb,IAAI,CAACC,MAAM,GAAGA;QACd,IAAI,CAACC,GAAG,GAAGH;QACX,IAAI,CAACI,IAAI,GAAGL;QACZ,IAAI,CAACM,MAAM,GAAGL,IAAIE;QAClB,IAAI,CAACI,KAAK,GAAGP,IAAIE;IACnB;IAEA,OAAOM,SAASC,KAAK,EAAE;QACrB,OAAO,IAAIV,QAAQU,MAAMT,CAAC,EAAES,MAAMR,CAAC,EAAEQ,MAAMP,KAAK,EAAEO,MAAMN,MAAM;IAChE;IAEAO,SAAS;QACP,OAAOC,KAAKC,SAAS,CAAC,IAAI;IAC5B;AACF"}