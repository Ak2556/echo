a58b2cb7e6a5c654ca77a7e37788368f
/**
 * Social Media Flow Integration Tests
 * End-to-end testing of social media functionality workflows
 */ "use strict";
// Mock framer-motion
jest.mock("framer-motion", ()=>({
        motion: {
            div: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    ...props,
                    children: children
                }),
            button: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    ...props,
                    children: children
                })
        },
        AnimatePresence: ({ children })=>children
    }));
// Mock Next.js Image
jest.mock("next/image", ()=>({
        __esModule: true,
        default: ({ src, alt, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
                src: src,
                alt: alt,
                ...props
            })
    }));
// Mock useResponsive hook
jest.mock("@/hooks/useResponsive", ()=>({
        useResponsive: ()=>({
                isMobile: false,
                isTablet: false,
                isDesktop: true,
                breakpoint: "lg"
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _testutils = require("../setup/test-utils");
const _SocialMediaHub = /*#__PURE__*/ _interop_require_default(require("../../components/SocialMediaHub"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe("Social Media Flow Integration Tests", ()=>{
    const user = (0, _testutils.setupUserEvent)();
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe("Complete Post Creation Flow", ()=>{
        it("allows user to create and publish a post", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Start post creation
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            // Enter post content
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, "This is my test post! #testing #socialmedia");
            // Verify post button is enabled
            const postButton = _react1.screen.getByRole("button", {
                name: /post/i
            });
            expect(postButton).toBeEnabled();
            // Publish the post
            await user.click(postButton);
            // Verify post creation interface is closed
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("What's on your mind?")).toBeInTheDocument();
                expect(_react1.screen.queryByPlaceholderText("What's happening?")).not.toBeInTheDocument();
            });
        });
        it("allows user to cancel post creation", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Start post creation
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            // Enter some content
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, "This post will be cancelled");
            // Cancel the post
            const cancelButton = _react1.screen.getByRole("button", {
                name: /cancel/i
            });
            await user.click(cancelButton);
            // Verify interface is reset
            expect(_react1.screen.getByText("What's on your mind?")).toBeInTheDocument();
            expect(_react1.screen.queryByPlaceholderText("What's happening?")).not.toBeInTheDocument();
        });
        it("prevents posting empty content", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Start post creation
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            // Try to post without content
            const postButton = _react1.screen.getByRole("button", {
                name: /post/i
            });
            expect(postButton).toBeDisabled();
            // Add content and verify button becomes enabled
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, "Now there is content");
            expect(postButton).toBeEnabled();
            // Clear content and verify button becomes disabled again
            await user.clear(textarea);
            expect(postButton).toBeDisabled();
        });
    });
    describe("Post Interaction Flow", ()=>{
        it("allows user to like and unlike posts", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Find the first like button (should be unliked initially)
            const likeButtons = _react1.screen.getAllByText("\uD83E\uDD0D");
            const firstLikeButton = likeButtons[0];
            // Like the post
            await user.click(firstLikeButton);
            // Verify post is now liked - there might be multiple hearts
            await (0, _react1.waitFor)(()=>{
                const hearts = _react1.screen.queryAllByText("❤️");
                expect(hearts.length).toBeGreaterThan(0);
            });
            // Unlike the post
            const likedButtons = _react1.screen.queryAllByText("❤️");
            if (likedButtons.length > 0) {
                await user.click(likedButtons[0]);
            }
            // Verify post is now unliked
            await (0, _react1.waitFor)(()=>{
                const emptyHearts = _react1.screen.queryAllByText("\uD83E\uDD0D");
                expect(emptyHearts.length).toBeGreaterThan(0);
            });
        });
        it("allows user to bookmark and unbookmark posts", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Find the first bookmark button
            const bookmarkButtons = _react1.screen.getAllByText("\uD83D\uDCD1");
            const firstBookmarkButton = bookmarkButtons[0];
            // Bookmark the post
            await user.click(firstBookmarkButton);
            // Verify post is now bookmarked - there might be multiple bookmarks
            await (0, _react1.waitFor)(()=>{
                const bookmarkedIcons = _react1.screen.queryAllByText("\uD83D\uDD16");
                expect(bookmarkedIcons.length).toBeGreaterThan(0);
            });
            // Unbookmark the post
            const bookmarkedButtons = _react1.screen.queryAllByText("\uD83D\uDD16");
            if (bookmarkedButtons.length > 0) {
                await user.click(bookmarkedButtons[0]);
            }
            // Verify post is now unbookmarked
            await (0, _react1.waitFor)(()=>{
                const unbookmarkedIcons = _react1.screen.queryAllByText("\uD83D\uDCD1");
                expect(unbookmarkedIcons.length).toBeGreaterThan(0);
            });
        });
        it("shows poll interaction correctly", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Find the poll question
            const pollQuestion = _react1.screen.getByText("What's your favorite frontend framework?");
            expect(pollQuestion).toBeInTheDocument();
            // Find poll options - there might be multiple matches for common words like "React"
            const allText = _react1.screen.queryAllByText(/^React$/);
            const vueOptions = _react1.screen.queryAllByText(/^Vue$/);
            const angularOptions = _react1.screen.queryAllByText(/^Angular$/);
            const svelteOptions = _react1.screen.queryAllByText(/^Svelte$/);
            expect(allText.length).toBeGreaterThan(0);
            expect(vueOptions.length).toBeGreaterThan(0);
            expect(angularOptions.length).toBeGreaterThan(0);
            expect(svelteOptions.length).toBeGreaterThan(0);
            // Verify poll shows percentages
            const percentages = _react1.screen.queryAllByText(/51\.9%|23\.8%/);
            expect(percentages.length).toBeGreaterThan(0);
        });
    });
    describe("Navigation Flow", ()=>{
        it("component no longer has internal navigation", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Internal navigation has been removed - component only shows feed
            expect(_react1.screen.queryByRole("button", {
                name: /stories/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole("button", {
                name: /messages/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole("button", {
                name: /explore/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole("button", {
                name: /profile/i
            })).not.toBeInTheDocument();
            // Feed content should be rendered
            expect(_react1.screen.getByText(/Just finished this amazing digital artwork/)).toBeInTheDocument();
        });
        it("always renders feed content", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component now only displays feed, no active tab state
            expect(_react1.screen.getByRole("main")).toBeInTheDocument();
            expect(_react1.screen.getByText(/Just finished this amazing digital artwork/)).toBeInTheDocument();
        });
    });
    describe("Messaging Flow", ()=>{
        it("does not have messaging interface in this component", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Messaging has been removed from this component
            expect(_react1.screen.queryByText("\uD83D\uDCAC Messages")).not.toBeInTheDocument();
            expect(_react1.screen.queryByText("Select a conversation")).not.toBeInTheDocument();
            expect(_react1.screen.queryByPlaceholderText("Type a message...")).not.toBeInTheDocument();
        });
    });
    describe("Stories Flow", ()=>{
        it("does not have stories interface in this component", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Stories have been removed from this component
            expect(_react1.screen.queryByText("\uD83D\uDCF8 Stories")).not.toBeInTheDocument();
        });
    });
    describe("Explore Flow", ()=>{
        it("does not have explore interface in this component", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Explore has been removed from this component
            expect(_react1.screen.queryByText("\uD83D\uDD0D Explore")).not.toBeInTheDocument();
            expect(_react1.screen.queryByText("\uD83D\uDD25 Trending Topics")).not.toBeInTheDocument();
            expect(_react1.screen.queryByText("⭐ Popular Creators")).not.toBeInTheDocument();
        });
    });
    describe("Profile Flow", ()=>{
        it("does not have profile interface in this component", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Profile has been removed from this component
            expect(_react1.screen.queryByText("\uD83D\uDC64 Profile")).not.toBeInTheDocument();
            expect(_react1.screen.queryByText("Edit Profile")).not.toBeInTheDocument();
        });
    });
    describe("Cross-Tab State Management", ()=>{
        it("maintains post creation state correctly", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Create a post
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, "Test post content");
            // State should be maintained in the component
            expect(textarea).toHaveValue("Test post content");
        });
    });
    describe("Error Handling and Edge Cases", ()=>{
        it("renders without crashing", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component should render successfully
            expect(_react1.screen.getByRole("main")).toBeInTheDocument();
        });
        it("handles empty states gracefully", ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component should render even without data
            expect(_react1.screen.getByRole("main")).toBeInTheDocument();
            expect(_react1.screen.getByText("What's on your mind?")).toBeInTheDocument();
        });
    });
    describe("Performance and Responsiveness", ()=>{
        it("renders within acceptable time", ()=>{
            const startTime = performance.now();
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const endTime = performance.now();
            // Should render in reasonable time
            expect(endTime - startTime).toBeLessThan(200); // 200ms
        });
        it("handles rapid user interactions", async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Simulate rapid button clicks
            const buttons = _react1.screen.queryAllByRole("button");
            if (buttons.length > 0) {
                for(let i = 0; i < Math.min(5, buttons.length); i++){
                    await user.click(buttons[i]);
                }
            }
            // Should handle all interactions without errors
            expect(_react1.screen.getByRole("main")).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZW5hL0RldmVsb3Blci9lY2hvL2Zyb250ZW5kL3NyYy9fX3Rlc3RzX18vaW50ZWdyYXRpb24vU29jaWFsTWVkaWFGbG93LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU29jaWFsIE1lZGlhIEZsb3cgSW50ZWdyYXRpb24gVGVzdHNcbiAqIEVuZC10by1lbmQgdGVzdGluZyBvZiBzb2NpYWwgbWVkaWEgZnVuY3Rpb25hbGl0eSB3b3JrZmxvd3NcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc2NyZWVuLCB3YWl0Rm9yLCB3aXRoaW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7XG4gIHJlbmRlcixcbiAgc2V0dXBVc2VyRXZlbnQsXG4gIGNyZWF0ZVRlc3REYXRhLFxufSBmcm9tICdAL19fdGVzdHNfXy9zZXR1cC90ZXN0LXV0aWxzJztcbmltcG9ydCBTb2NpYWxNZWRpYUh1YiBmcm9tICdAL2NvbXBvbmVudHMvU29jaWFsTWVkaWFIdWInO1xuXG4vLyBNb2NrIGZyYW1lci1tb3Rpb25cbmplc3QubW9jaygnZnJhbWVyLW1vdGlvbicsICgpID0+ICh7XG4gIG1vdGlvbjoge1xuICAgIGRpdjogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IGFueSkgPT4gPGRpdiB7Li4ucHJvcHN9PntjaGlsZHJlbn08L2Rpdj4sXG4gICAgYnV0dG9uOiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogYW55KSA9PiAoXG4gICAgICA8YnV0dG9uIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvYnV0dG9uPlxuICAgICksXG4gIH0sXG4gIEFuaW1hdGVQcmVzZW5jZTogKHsgY2hpbGRyZW4gfTogYW55KSA9PiBjaGlsZHJlbixcbn0pKTtcblxuLy8gTW9jayBOZXh0LmpzIEltYWdlXG5qZXN0Lm1vY2soJ25leHQvaW1hZ2UnLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiAoeyBzcmMsIGFsdCwgLi4ucHJvcHMgfTogYW55KSA9PiAoXG4gICAgPGltZyBzcmM9e3NyY30gYWx0PXthbHR9IHsuLi5wcm9wc30gLz5cbiAgKSxcbn0pKTtcblxuLy8gTW9jayB1c2VSZXNwb25zaXZlIGhvb2tcbmplc3QubW9jaygnQC9ob29rcy91c2VSZXNwb25zaXZlJywgKCkgPT4gKHtcbiAgdXNlUmVzcG9uc2l2ZTogKCkgPT4gKHtcbiAgICBpc01vYmlsZTogZmFsc2UsXG4gICAgaXNUYWJsZXQ6IGZhbHNlLFxuICAgIGlzRGVza3RvcDogdHJ1ZSxcbiAgICBicmVha3BvaW50OiAnbGcnLFxuICB9KSxcbn0pKTtcblxuZGVzY3JpYmUoJ1NvY2lhbCBNZWRpYSBGbG93IEludGVncmF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICBjb25zdCB1c2VyID0gc2V0dXBVc2VyRXZlbnQoKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIFBvc3QgQ3JlYXRpb24gRmxvdycsICgpID0+IHtcbiAgICBpdCgnYWxsb3dzIHVzZXIgdG8gY3JlYXRlIGFuZCBwdWJsaXNoIGEgcG9zdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBTdGFydCBwb3N0IGNyZWF0aW9uXG4gICAgICBjb25zdCBjcmVhdGVQb3N0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dChcIldoYXQncyBvbiB5b3VyIG1pbmQ/XCIpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhjcmVhdGVQb3N0QnV0dG9uKTtcblxuICAgICAgLy8gRW50ZXIgcG9zdCBjb250ZW50XG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dChcIldoYXQncyBoYXBwZW5pbmc/XCIpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHRleHRhcmVhLCAnVGhpcyBpcyBteSB0ZXN0IHBvc3QhICN0ZXN0aW5nICNzb2NpYWxtZWRpYScpO1xuXG4gICAgICAvLyBWZXJpZnkgcG9zdCBidXR0b24gaXMgZW5hYmxlZFxuICAgICAgY29uc3QgcG9zdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3Bvc3QvaSB9KTtcbiAgICAgIGV4cGVjdChwb3N0QnV0dG9uKS50b0JlRW5hYmxlZCgpO1xuXG4gICAgICAvLyBQdWJsaXNoIHRoZSBwb3N0XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHBvc3RCdXR0b24pO1xuXG4gICAgICAvLyBWZXJpZnkgcG9zdCBjcmVhdGlvbiBpbnRlcmZhY2UgaXMgY2xvc2VkXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJXaGF0J3Mgb24geW91ciBtaW5kP1wiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KFxuICAgICAgICAgIHNjcmVlbi5xdWVyeUJ5UGxhY2Vob2xkZXJUZXh0KFwiV2hhdCdzIGhhcHBlbmluZz9cIilcbiAgICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2FsbG93cyB1c2VyIHRvIGNhbmNlbCBwb3N0IGNyZWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIFN0YXJ0IHBvc3QgY3JlYXRpb25cbiAgICAgIGNvbnN0IGNyZWF0ZVBvc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KFwiV2hhdCdzIG9uIHlvdXIgbWluZD9cIik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNyZWF0ZVBvc3RCdXR0b24pO1xuXG4gICAgICAvLyBFbnRlciBzb21lIGNvbnRlbnRcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiV2hhdCdzIGhhcHBlbmluZz9cIik7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUodGV4dGFyZWEsICdUaGlzIHBvc3Qgd2lsbCBiZSBjYW5jZWxsZWQnKTtcblxuICAgICAgLy8gQ2FuY2VsIHRoZSBwb3N0XG4gICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2FuY2VsQnV0dG9uKTtcblxuICAgICAgLy8gVmVyaWZ5IGludGVyZmFjZSBpcyByZXNldFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJXaGF0J3Mgb24geW91ciBtaW5kP1wiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLnF1ZXJ5QnlQbGFjZWhvbGRlclRleHQoXCJXaGF0J3MgaGFwcGVuaW5nP1wiKVxuICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdwcmV2ZW50cyBwb3N0aW5nIGVtcHR5IGNvbnRlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gU3RhcnQgcG9zdCBjcmVhdGlvblxuICAgICAgY29uc3QgY3JlYXRlUG9zdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoXCJXaGF0J3Mgb24geW91ciBtaW5kP1wiKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY3JlYXRlUG9zdEJ1dHRvbik7XG5cbiAgICAgIC8vIFRyeSB0byBwb3N0IHdpdGhvdXQgY29udGVudFxuICAgICAgY29uc3QgcG9zdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3Bvc3QvaSB9KTtcbiAgICAgIGV4cGVjdChwb3N0QnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcblxuICAgICAgLy8gQWRkIGNvbnRlbnQgYW5kIHZlcmlmeSBidXR0b24gYmVjb21lcyBlbmFibGVkXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dChcIldoYXQncyBoYXBwZW5pbmc/XCIpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHRleHRhcmVhLCAnTm93IHRoZXJlIGlzIGNvbnRlbnQnKTtcbiAgICAgIGV4cGVjdChwb3N0QnV0dG9uKS50b0JlRW5hYmxlZCgpO1xuXG4gICAgICAvLyBDbGVhciBjb250ZW50IGFuZCB2ZXJpZnkgYnV0dG9uIGJlY29tZXMgZGlzYWJsZWQgYWdhaW5cbiAgICAgIGF3YWl0IHVzZXIuY2xlYXIodGV4dGFyZWEpO1xuICAgICAgZXhwZWN0KHBvc3RCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUG9zdCBJbnRlcmFjdGlvbiBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdhbGxvd3MgdXNlciB0byBsaWtlIGFuZCB1bmxpa2UgcG9zdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gRmluZCB0aGUgZmlyc3QgbGlrZSBidXR0b24gKHNob3VsZCBiZSB1bmxpa2VkIGluaXRpYWxseSlcbiAgICAgIGNvbnN0IGxpa2VCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgn8J+kjScpO1xuICAgICAgY29uc3QgZmlyc3RMaWtlQnV0dG9uID0gbGlrZUJ1dHRvbnNbMF07XG5cbiAgICAgIC8vIExpa2UgdGhlIHBvc3RcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZmlyc3RMaWtlQnV0dG9uKTtcblxuICAgICAgLy8gVmVyaWZ5IHBvc3QgaXMgbm93IGxpa2VkIC0gdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgaGVhcnRzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgaGVhcnRzID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KCfinaTvuI8nKTtcbiAgICAgICAgZXhwZWN0KGhlYXJ0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBVbmxpa2UgdGhlIHBvc3RcbiAgICAgIGNvbnN0IGxpa2VkQnV0dG9ucyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgn4p2k77iPJyk7XG4gICAgICBpZiAobGlrZWRCdXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayhsaWtlZEJ1dHRvbnNbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZnkgcG9zdCBpcyBub3cgdW5saWtlZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVtcHR5SGVhcnRzID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KCfwn6SNJyk7XG4gICAgICAgIGV4cGVjdChlbXB0eUhlYXJ0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2FsbG93cyB1c2VyIHRvIGJvb2ttYXJrIGFuZCB1bmJvb2ttYXJrIHBvc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGJvb2ttYXJrIGJ1dHRvblxuICAgICAgY29uc3QgYm9va21hcmtCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgn8J+TkScpO1xuICAgICAgY29uc3QgZmlyc3RCb29rbWFya0J1dHRvbiA9IGJvb2ttYXJrQnV0dG9uc1swXTtcblxuICAgICAgLy8gQm9va21hcmsgdGhlIHBvc3RcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZmlyc3RCb29rbWFya0J1dHRvbik7XG5cbiAgICAgIC8vIFZlcmlmeSBwb3N0IGlzIG5vdyBib29rbWFya2VkIC0gdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgYm9va21hcmtzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgYm9va21hcmtlZEljb25zID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KCfwn5SWJyk7XG4gICAgICAgIGV4cGVjdChib29rbWFya2VkSWNvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVW5ib29rbWFyayB0aGUgcG9zdFxuICAgICAgY29uc3QgYm9va21hcmtlZEJ1dHRvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoJ/CflJYnKTtcbiAgICAgIGlmIChib29rbWFya2VkQnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soYm9va21hcmtlZEJ1dHRvbnNbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZnkgcG9zdCBpcyBub3cgdW5ib29rbWFya2VkXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgdW5ib29rbWFya2VkSWNvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoJ/Cfk5EnKTtcbiAgICAgICAgZXhwZWN0KHVuYm9va21hcmtlZEljb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvd3MgcG9sbCBpbnRlcmFjdGlvbiBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gRmluZCB0aGUgcG9sbCBxdWVzdGlvblxuICAgICAgY29uc3QgcG9sbFF1ZXN0aW9uID0gc2NyZWVuLmdldEJ5VGV4dChcbiAgICAgICAgXCJXaGF0J3MgeW91ciBmYXZvcml0ZSBmcm9udGVuZCBmcmFtZXdvcms/XCJcbiAgICAgICk7XG4gICAgICBleHBlY3QocG9sbFF1ZXN0aW9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBGaW5kIHBvbGwgb3B0aW9ucyAtIHRoZXJlIG1pZ2h0IGJlIG11bHRpcGxlIG1hdGNoZXMgZm9yIGNvbW1vbiB3b3JkcyBsaWtlIFwiUmVhY3RcIlxuICAgICAgY29uc3QgYWxsVGV4dCA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgvXlJlYWN0JC8pO1xuICAgICAgY29uc3QgdnVlT3B0aW9ucyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgvXlZ1ZSQvKTtcbiAgICAgIGNvbnN0IGFuZ3VsYXJPcHRpb25zID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KC9eQW5ndWxhciQvKTtcbiAgICAgIGNvbnN0IHN2ZWx0ZU9wdGlvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoL15TdmVsdGUkLyk7XG5cbiAgICAgIGV4cGVjdChhbGxUZXh0Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHZ1ZU9wdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QoYW5ndWxhck9wdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3Qoc3ZlbHRlT3B0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgLy8gVmVyaWZ5IHBvbGwgc2hvd3MgcGVyY2VudGFnZXNcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2VzID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KC81MVxcLjklfDIzXFwuOCUvKTtcbiAgICAgIGV4cGVjdChwZXJjZW50YWdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ05hdmlnYXRpb24gRmxvdycsICgpID0+IHtcbiAgICBpdCgnY29tcG9uZW50IG5vIGxvbmdlciBoYXMgaW50ZXJuYWwgbmF2aWdhdGlvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBJbnRlcm5hbCBuYXZpZ2F0aW9uIGhhcyBiZWVuIHJlbW92ZWQgLSBjb21wb25lbnQgb25seSBzaG93cyBmZWVkXG4gICAgICBleHBlY3QoXG4gICAgICAgIHNjcmVlbi5xdWVyeUJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc3Rvcmllcy9pIH0pXG4gICAgICApLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBzY3JlZW4ucXVlcnlCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL21lc3NhZ2VzL2kgfSlcbiAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIHNjcmVlbi5xdWVyeUJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZXhwbG9yZS9pIH0pXG4gICAgICApLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBzY3JlZW4ucXVlcnlCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3Byb2ZpbGUvaSB9KVxuICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gRmVlZCBjb250ZW50IHNob3VsZCBiZSByZW5kZXJlZFxuICAgICAgZXhwZWN0KFxuICAgICAgICBzY3JlZW4uZ2V0QnlUZXh0KC9KdXN0IGZpbmlzaGVkIHRoaXMgYW1hemluZyBkaWdpdGFsIGFydHdvcmsvKVxuICAgICAgKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Fsd2F5cyByZW5kZXJzIGZlZWQgY29udGVudCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBDb21wb25lbnQgbm93IG9ubHkgZGlzcGxheXMgZmVlZCwgbm8gYWN0aXZlIHRhYiBzdGF0ZVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ21haW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLmdldEJ5VGV4dCgvSnVzdCBmaW5pc2hlZCB0aGlzIGFtYXppbmcgZGlnaXRhbCBhcnR3b3JrLylcbiAgICAgICkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lc3NhZ2luZyBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdkb2VzIG5vdCBoYXZlIG1lc3NhZ2luZyBpbnRlcmZhY2UgaW4gdGhpcyBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gTWVzc2FnaW5nIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGlzIGNvbXBvbmVudFxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgn8J+SrCBNZXNzYWdlcycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLnF1ZXJ5QnlUZXh0KCdTZWxlY3QgYSBjb252ZXJzYXRpb24nKVxuICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLnF1ZXJ5QnlQbGFjZWhvbGRlclRleHQoJ1R5cGUgYSBtZXNzYWdlLi4uJylcbiAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdG9yaWVzIEZsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ2RvZXMgbm90IGhhdmUgc3RvcmllcyBpbnRlcmZhY2UgaW4gdGhpcyBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gU3RvcmllcyBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCfwn5O4IFN0b3JpZXMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFeHBsb3JlIEZsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ2RvZXMgbm90IGhhdmUgZXhwbG9yZSBpbnRlcmZhY2UgaW4gdGhpcyBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gRXhwbG9yZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyBjb21wb25lbnRcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ/CflI0gRXhwbG9yZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ/CflKUgVHJlbmRpbmcgVG9waWNzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgn4q2QIFBvcHVsYXIgQ3JlYXRvcnMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9maWxlIEZsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ2RvZXMgbm90IGhhdmUgcHJvZmlsZSBpbnRlcmZhY2UgaW4gdGhpcyBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gUHJvZmlsZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyBjb21wb25lbnRcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ/CfkaQgUHJvZmlsZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0VkaXQgUHJvZmlsZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nyb3NzLVRhYiBTdGF0ZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdtYWludGFpbnMgcG9zdCBjcmVhdGlvbiBzdGF0ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gQ3JlYXRlIGEgcG9zdFxuICAgICAgY29uc3QgY3JlYXRlUG9zdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoXCJXaGF0J3Mgb24geW91ciBtaW5kP1wiKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY3JlYXRlUG9zdEJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiV2hhdCdzIGhhcHBlbmluZz9cIik7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUodGV4dGFyZWEsICdUZXN0IHBvc3QgY29udGVudCcpO1xuXG4gICAgICAvLyBTdGF0ZSBzaG91bGQgYmUgbWFpbnRhaW5lZCBpbiB0aGUgY29tcG9uZW50XG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZVZhbHVlKCdUZXN0IHBvc3QgY29udGVudCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgYW5kIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgd2l0aG91dCBjcmFzaGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBDb21wb25lbnQgc2hvdWxkIHJlbmRlciBzdWNjZXNzZnVsbHlcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBlbXB0eSBzdGF0ZXMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBDb21wb25lbnQgc2hvdWxkIHJlbmRlciBldmVuIHdpdGhvdXQgZGF0YVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ21haW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiV2hhdCdzIG9uIHlvdXIgbWluZD9cIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBhbmQgUmVzcG9uc2l2ZW5lc3MnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgd2l0aGluIGFjY2VwdGFibGUgdGltZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIGluIHJlYXNvbmFibGUgdGltZVxuICAgICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVMZXNzVGhhbigyMDApOyAvLyAyMDBtc1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhbmRsZXMgcmFwaWQgdXNlciBpbnRlcmFjdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gU2ltdWxhdGUgcmFwaWQgYnV0dG9uIGNsaWNrc1xuICAgICAgY29uc3QgYnV0dG9ucyA9IHNjcmVlbi5xdWVyeUFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBpZiAoYnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oNSwgYnV0dG9ucy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKGJ1dHRvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgYWxsIGludGVyYWN0aW9ucyB3aXRob3V0IGVycm9yc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ21haW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIm1vdGlvbiIsImRpdiIsImNoaWxkcmVuIiwicHJvcHMiLCJidXR0b24iLCJBbmltYXRlUHJlc2VuY2UiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInNyYyIsImFsdCIsImltZyIsInVzZVJlc3BvbnNpdmUiLCJpc01vYmlsZSIsImlzVGFibGV0IiwiaXNEZXNrdG9wIiwiYnJlYWtwb2ludCIsImRlc2NyaWJlIiwidXNlciIsInNldHVwVXNlckV2ZW50IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlbmRlciIsIlNvY2lhbE1lZGlhSHViIiwiY3JlYXRlUG9zdEJ1dHRvbiIsInNjcmVlbiIsImdldEJ5VGV4dCIsImNsaWNrIiwidGV4dGFyZWEiLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsInR5cGUiLCJwb3N0QnV0dG9uIiwiZ2V0QnlSb2xlIiwibmFtZSIsImV4cGVjdCIsInRvQmVFbmFibGVkIiwid2FpdEZvciIsInRvQmVJblRoZURvY3VtZW50IiwicXVlcnlCeVBsYWNlaG9sZGVyVGV4dCIsIm5vdCIsImNhbmNlbEJ1dHRvbiIsInRvQmVEaXNhYmxlZCIsImNsZWFyIiwibGlrZUJ1dHRvbnMiLCJnZXRBbGxCeVRleHQiLCJmaXJzdExpa2VCdXR0b24iLCJoZWFydHMiLCJxdWVyeUFsbEJ5VGV4dCIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImxpa2VkQnV0dG9ucyIsImVtcHR5SGVhcnRzIiwiYm9va21hcmtCdXR0b25zIiwiZmlyc3RCb29rbWFya0J1dHRvbiIsImJvb2ttYXJrZWRJY29ucyIsImJvb2ttYXJrZWRCdXR0b25zIiwidW5ib29rbWFya2VkSWNvbnMiLCJwb2xsUXVlc3Rpb24iLCJhbGxUZXh0IiwidnVlT3B0aW9ucyIsImFuZ3VsYXJPcHRpb25zIiwic3ZlbHRlT3B0aW9ucyIsInBlcmNlbnRhZ2VzIiwicXVlcnlCeVJvbGUiLCJxdWVyeUJ5VGV4dCIsInRvSGF2ZVZhbHVlIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJlbmRUaW1lIiwidG9CZUxlc3NUaGFuIiwiYnV0dG9ucyIsInF1ZXJ5QWxsQnlSb2xlIiwiaSIsIk1hdGgiLCJtaW4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQztBQVdELHFCQUFxQjtBQUNyQkEsS0FBS0MsSUFBSSxDQUFDLGlCQUFpQixJQUFPLENBQUE7UUFDaENDLFFBQVE7WUFDTkMsS0FBSyxDQUFDLEVBQUVDLFFBQVEsRUFBRSxHQUFHQyxPQUFZLGlCQUFLLHFCQUFDRjtvQkFBSyxHQUFHRSxLQUFLOzhCQUFHRDs7WUFDdkRFLFFBQVEsQ0FBQyxFQUFFRixRQUFRLEVBQUUsR0FBR0MsT0FBWSxpQkFDbEMscUJBQUNDO29CQUFRLEdBQUdELEtBQUs7OEJBQUdEOztRQUV4QjtRQUNBRyxpQkFBaUIsQ0FBQyxFQUFFSCxRQUFRLEVBQU8sR0FBS0E7SUFDMUMsQ0FBQTtBQUVBLHFCQUFxQjtBQUNyQkosS0FBS0MsSUFBSSxDQUFDLGNBQWMsSUFBTyxDQUFBO1FBQzdCTyxZQUFZO1FBQ1pDLFNBQVMsQ0FBQyxFQUFFQyxHQUFHLEVBQUVDLEdBQUcsRUFBRSxHQUFHTixPQUFZLGlCQUNuQyxxQkFBQ087Z0JBQUlGLEtBQUtBO2dCQUFLQyxLQUFLQTtnQkFBTSxHQUFHTixLQUFLOztJQUV0QyxDQUFBO0FBRUEsMEJBQTBCO0FBQzFCTCxLQUFLQyxJQUFJLENBQUMseUJBQXlCLElBQU8sQ0FBQTtRQUN4Q1ksZUFBZSxJQUFPLENBQUE7Z0JBQ3BCQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxXQUFXO2dCQUNYQyxZQUFZO1lBQ2QsQ0FBQTtJQUNGLENBQUE7Ozs7OzhEQXBDa0I7d0JBQ3NCOzJCQUtqQzt1RUFDb0I7Ozs7OztBQStCM0JDLFNBQVMsdUNBQXVDO0lBQzlDLE1BQU1DLE9BQU9DLElBQUFBLHlCQUFjO0lBRTNCQyxXQUFXO1FBQ1RyQixLQUFLc0IsYUFBYTtJQUNwQjtJQUVBSixTQUFTLCtCQUErQjtRQUN0Q0ssR0FBRyw0Q0FB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