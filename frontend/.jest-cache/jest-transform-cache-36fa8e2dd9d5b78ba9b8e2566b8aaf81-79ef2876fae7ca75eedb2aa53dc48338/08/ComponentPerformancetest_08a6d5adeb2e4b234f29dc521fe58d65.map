{"version":3,"sources":["/Users/aena/Developer/echo/frontend/src/__tests__/performance/ComponentPerformance.test.tsx"],"sourcesContent":["/**\n * Component Performance Tests\n * Tests for measuring and ensuring optimal component performance\n */\n\nimport React from 'react';\nimport { render, screen, act } from '@testing-library/react';\nimport {\n  measurePerformance,\n  measureMemory,\n} from '@/__tests__/setup/test-utils';\nimport SocialMediaHub from '@/components/SocialMediaHub';\n\n// Mock framer-motion for performance testing\njest.mock('framer-motion', () => ({\n  motion: {\n    div: ({ children, ...props }: any) => <div {...props}>{children}</div>,\n    button: ({ children, ...props }: any) => (\n      <button {...props}>{children}</button>\n    ),\n  },\n  AnimatePresence: ({ children }: any) => children,\n}));\n\n// Mock Next.js Image for performance testing\njest.mock('next/image', () => ({\n  __esModule: true,\n  default: ({ src, alt, ...props }: any) => (\n    <img src={src} alt={alt} {...props} />\n  ),\n}));\n\n// Mock useResponsive hook\njest.mock('@/hooks/useResponsive', () => ({\n  useResponsive: () => ({\n    isMobile: false,\n    isTablet: false,\n    isDesktop: true,\n    breakpoint: 'lg',\n  }),\n}));\n\ndescribe('Component Performance Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Initial Render Performance', () => {\n    it('renders SocialMediaHub within acceptable time', async () => {\n      const renderTime = await measurePerformance(() => {\n        render(<SocialMediaHub />);\n      });\n\n      // Should render in under 100ms\n      expect(renderTime).toBeLessThan(100);\n    });\n\n    it('renders without memory leaks', () => {\n      const initialMemory = measureMemory();\n\n      const { unmount } = render(<SocialMediaHub />);\n\n      // Force garbage collection if available\n      if (global.gc) {\n        global.gc();\n      }\n\n      unmount();\n\n      // Force garbage collection again\n      if (global.gc) {\n        global.gc();\n      }\n\n      const finalMemory = measureMemory();\n\n      // Memory usage should not increase significantly\n      if (initialMemory && finalMemory) {\n        const memoryIncrease =\n          finalMemory.usedJSHeapSize - initialMemory.usedJSHeapSize;\n        expect(memoryIncrease).toBeLessThan(1024 * 1024); // Less than 1MB increase\n      }\n    });\n\n    it('handles large datasets efficiently', async () => {\n      // Mock large dataset\n      const largePosts = Array.from({ length: 1000 }, (_, i) => ({\n        id: `post-${i}`,\n        content: `Post content ${i}`,\n        author: { name: `User ${i}` },\n        timestamp: new Date(),\n      }));\n\n      const renderTime = await measurePerformance(() => {\n        render(<SocialMediaHub />);\n      });\n\n      // Should still render efficiently with large datasets\n      expect(renderTime).toBeLessThan(200);\n    });\n  });\n\n  describe('Re-render Performance', () => {\n    it('minimizes re-renders on prop changes', () => {\n      let renderCount = 0;\n\n      const TestComponent = ({ data }: { data: any }) => {\n        renderCount++;\n        return <SocialMediaHub />;\n      };\n\n      const { rerender } = render(<TestComponent data={{ id: 1 }} />);\n\n      const initialRenderCount = renderCount;\n\n      // Re-render with same props\n      rerender(<TestComponent data={{ id: 1 }} />);\n\n      // Should not cause unnecessary re-renders\n      expect(renderCount).toBe(initialRenderCount + 1);\n    });\n\n    it('handles rapid state updates efficiently', async () => {\n      const { rerender } = render(<SocialMediaHub />);\n\n      const updateTime = await measurePerformance(async () => {\n        // Simulate rapid state updates\n        for (let i = 0; i < 100; i++) {\n          await act(async () => {\n            rerender(<SocialMediaHub />);\n          });\n        }\n      });\n\n      // Should handle rapid updates efficiently\n      expect(updateTime).toBeLessThan(1000); // Under 1 second for 100 updates\n    });\n\n    it('batches multiple state updates', async () => {\n      const { rerender } = render(<SocialMediaHub />);\n\n      const batchTime = await measurePerformance(async () => {\n        await act(async () => {\n          // Multiple synchronous updates should be batched\n          rerender(<SocialMediaHub />);\n          rerender(<SocialMediaHub />);\n          rerender(<SocialMediaHub />);\n          rerender(<SocialMediaHub />);\n          rerender(<SocialMediaHub />);\n        });\n      });\n\n      // Batched updates should be faster than individual updates\n      expect(batchTime).toBeLessThan(50);\n    });\n  });\n\n  describe('Component Mounting Performance', () => {\n    it('mounts components efficiently', async () => {\n      const mountTime = await measurePerformance(() => {\n        const { unmount } = render(<SocialMediaHub />);\n        unmount();\n      });\n\n      // Mount and unmount should be fast\n      expect(mountTime).toBeLessThan(50);\n    });\n\n    it('handles multiple mount/unmount cycles', async () => {\n      const cycleTime = await measurePerformance(() => {\n        for (let i = 0; i < 10; i++) {\n          const { unmount } = render(<SocialMediaHub />);\n          unmount();\n        }\n      });\n\n      // Multiple cycles should be efficient\n      expect(cycleTime).toBeLessThan(500);\n    });\n\n    it('cleans up resources on unmount', () => {\n      const { unmount } = render(<SocialMediaHub />);\n\n      // Component should unmount without errors\n      expect(() => unmount()).not.toThrow();\n    });\n  });\n\n  describe('Animation Performance', () => {\n    it('handles animations without blocking main thread', async () => {\n      render(<SocialMediaHub />);\n\n      // Simulate animation-heavy interactions\n      const animationTime = await measurePerformance(async () => {\n        // Trigger multiple animations\n        const buttons = screen.getAllByRole('button');\n        for (const button of buttons.slice(0, 5)) {\n          await act(async () => {\n            button.focus();\n            button.blur();\n          });\n        }\n      });\n\n      // Animations should not block significantly\n      expect(animationTime).toBeLessThan(200);\n    });\n\n    it('respects reduced motion preferences', () => {\n      // Mock reduced motion preference\n      Object.defineProperty(window, 'matchMedia', {\n        writable: true,\n        value: jest.fn().mockImplementation((query) => ({\n          matches: query === '(prefers-reduced-motion: reduce)',\n          media: query,\n          onchange: null,\n          addListener: jest.fn(),\n          removeListener: jest.fn(),\n          addEventListener: jest.fn(),\n          removeEventListener: jest.fn(),\n          dispatchEvent: jest.fn(),\n        })),\n      });\n\n      render(<SocialMediaHub />);\n\n      // Should render without animations when reduced motion is preferred\n      expect(screen.getByRole('main')).toBeInTheDocument();\n    });\n  });\n\n  describe('Memory Usage', () => {\n    it('maintains stable memory usage over time', async () => {\n      const measurements: number[] = [];\n\n      for (let i = 0; i < 10; i++) {\n        const { unmount } = render(<SocialMediaHub />);\n\n        const memory = measureMemory();\n        if (memory) {\n          measurements.push(memory.usedJSHeapSize);\n        }\n\n        unmount();\n\n        // Force garbage collection if available\n        if (global.gc) {\n          global.gc();\n        }\n\n        // Wait a bit between measurements\n        await new Promise((resolve) => setTimeout(resolve, 10));\n      }\n\n      if (measurements.length > 1) {\n        // Memory usage should not grow significantly over time\n        const firstMeasurement = measurements[0];\n        const lastMeasurement = measurements[measurements.length - 1];\n        const growth = lastMeasurement - firstMeasurement;\n\n        expect(growth).toBeLessThan(1024 * 1024); // Less than 1MB growth\n      }\n    });\n\n    it('handles large component trees efficiently', () => {\n      const initialMemory = measureMemory();\n\n      // Render multiple instances\n      const instances = Array.from({ length: 5 }, () =>\n        render(<SocialMediaHub />)\n      );\n\n      const peakMemory = measureMemory();\n\n      // Cleanup all instances\n      instances.forEach(({ unmount }) => unmount());\n\n      if (global.gc) {\n        global.gc();\n      }\n\n      const finalMemory = measureMemory();\n\n      if (initialMemory && peakMemory && finalMemory) {\n        // Memory should be released after cleanup\n        const memoryLeak =\n          finalMemory.usedJSHeapSize - initialMemory.usedJSHeapSize;\n        expect(memoryLeak).toBeLessThan(512 * 1024); // Less than 512KB leak\n      }\n    });\n  });\n\n  describe('Event Handling Performance', () => {\n    it('handles rapid user interactions efficiently', async () => {\n      render(<SocialMediaHub />);\n\n      const interactionTime = await measurePerformance(async () => {\n        const buttons = screen.getAllByRole('button');\n\n        // Simulate rapid clicking\n        for (let i = 0; i < 50; i++) {\n          const randomButton =\n            buttons[Math.floor(Math.random() * buttons.length)];\n          await act(async () => {\n            randomButton.click();\n          });\n        }\n      });\n\n      // Should handle rapid interactions efficiently\n      expect(interactionTime).toBeLessThan(1000);\n    });\n\n    it('debounces expensive operations', async () => {\n      render(<SocialMediaHub />);\n\n      // Mock expensive operation\n      const expensiveOperation = jest.fn();\n\n      const debounceTime = await measurePerformance(async () => {\n        // Trigger multiple rapid events that should be debounced\n        for (let i = 0; i < 10; i++) {\n          await act(async () => {\n            // Simulate rapid input changes\n            const inputs = screen.queryAllByRole('textbox');\n            if (inputs.length > 0) {\n              inputs[0].focus();\n            }\n          });\n        }\n      });\n\n      // Debounced operations should be efficient\n      expect(debounceTime).toBeLessThan(100);\n    });\n  });\n\n  describe('Bundle Size Impact', () => {\n    it('has minimal impact on bundle size', () => {\n      // This is a conceptual test - in real scenarios you'd use bundle analyzers\n      // SocialMediaHub is a functional component, so we check it's defined\n      expect(SocialMediaHub).toBeDefined();\n      expect(typeof SocialMediaHub).toBe('function');\n    });\n\n    it('supports code splitting effectively', () => {\n      // Verify that dynamic imports are used where appropriate\n      const componentString = SocialMediaHub.toString();\n\n      // Should not include all dependencies in main bundle\n      expect(componentString).toBeDefined();\n    });\n  });\n\n  describe('Accessibility Performance', () => {\n    it('maintains performance with accessibility features enabled', async () => {\n      // Mock accessibility preferences\n      Object.defineProperty(window, 'matchMedia', {\n        writable: true,\n        value: jest.fn().mockImplementation((query) => ({\n          matches:\n            query.includes('prefers-reduced-motion') ||\n            query.includes('prefers-contrast'),\n          media: query,\n          onchange: null,\n          addListener: jest.fn(),\n          removeListener: jest.fn(),\n          addEventListener: jest.fn(),\n          removeEventListener: jest.fn(),\n          dispatchEvent: jest.fn(),\n        })),\n      });\n\n      const renderTime = await measurePerformance(() => {\n        render(<SocialMediaHub />);\n      });\n\n      // Should maintain performance with accessibility features\n      expect(renderTime).toBeLessThan(150);\n    });\n\n    it('handles screen reader interactions efficiently', async () => {\n      render(<SocialMediaHub />);\n\n      const a11yTime = await measurePerformance(async () => {\n        // Simulate screen reader navigation\n        const focusableElements = screen.getAllByRole('button');\n\n        for (const element of focusableElements.slice(0, 10)) {\n          await act(async () => {\n            element.focus();\n          });\n        }\n      });\n\n      // Screen reader interactions should be responsive\n      expect(a11yTime).toBeLessThan(200);\n    });\n  });\n\n  describe('Network Performance', () => {\n    it('handles slow network conditions gracefully', async () => {\n      // Mock slow fetch\n      global.fetch = jest.fn().mockImplementation(\n        () =>\n          new Promise((resolve) =>\n            setTimeout(\n              () =>\n                resolve({\n                  ok: true,\n                  json: () => Promise.resolve({ data: 'test' }),\n                }),\n              1000\n            )\n          )\n      );\n\n      const renderTime = await measurePerformance(() => {\n        render(<SocialMediaHub />);\n      });\n\n      // Should render quickly even with slow network\n      expect(renderTime).toBeLessThan(100);\n    });\n\n    it('implements efficient caching strategies', () => {\n      // Mock cache implementation\n      const cacheHits = 0;\n      const cacheMisses = 0;\n\n      render(<SocialMediaHub />);\n\n      // In a real implementation, you'd verify cache efficiency\n      expect(true).toBe(true); // Placeholder for cache efficiency test\n    });\n  });\n\n  describe('Concurrent Features', () => {\n    it('handles concurrent updates efficiently', async () => {\n      const { rerender } = render(<SocialMediaHub />);\n\n      const concurrentTime = await measurePerformance(async () => {\n        // Simulate concurrent updates\n        const promises = Array.from({ length: 10 }, (_, i) =>\n          act(async () => {\n            rerender(<SocialMediaHub />);\n          })\n        );\n\n        await Promise.all(promises);\n      });\n\n      // Concurrent updates should be handled efficiently\n      expect(concurrentTime).toBeLessThan(500);\n    });\n\n    it('prioritizes user interactions over background tasks', async () => {\n      render(<SocialMediaHub />);\n\n      const interactionTime = await measurePerformance(async () => {\n        // Simulate user interaction during background processing\n        const buttons = screen.queryAllByRole('button');\n\n        if (buttons.length > 0) {\n          await act(async () => {\n            buttons[0].click();\n          });\n        }\n      });\n\n      // User interactions should be prioritized\n      expect(interactionTime).toBeLessThan(100);\n    });\n  });\n});\n"],"names":["jest","mock","motion","div","children","props","button","AnimatePresence","__esModule","default","src","alt","img","useResponsive","isMobile","isTablet","isDesktop","breakpoint","describe","beforeEach","clearAllMocks","it","renderTime","measurePerformance","render","SocialMediaHub","expect","toBeLessThan","initialMemory","measureMemory","unmount","global","gc","finalMemory","memoryIncrease","usedJSHeapSize","largePosts","Array","from","length","_","i","id","content","author","name","timestamp","Date","renderCount","TestComponent","data","rerender","initialRenderCount","toBe","updateTime","act","batchTime","mountTime","cycleTime","not","toThrow","animationTime","buttons","screen","getAllByRole","slice","focus","blur","Object","defineProperty","window","writable","value","fn","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","getByRole","toBeInTheDocument","measurements","memory","push","Promise","resolve","setTimeout","firstMeasurement","lastMeasurement","growth","instances","peakMemory","forEach","memoryLeak","interactionTime","randomButton","Math","floor","random","click","expensiveOperation","debounceTime","inputs","queryAllByRole","toBeDefined","componentString","toString","includes","a11yTime","focusableElements","element","fetch","ok","json","cacheHits","cacheMisses","concurrentTime","promises","all"],"mappings":"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"}