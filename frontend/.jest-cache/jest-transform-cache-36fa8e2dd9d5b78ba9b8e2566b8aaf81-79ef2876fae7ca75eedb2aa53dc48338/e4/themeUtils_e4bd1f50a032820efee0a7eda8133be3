eeaac645cf652e2c936909eeb1b62553
/**
 * Theme Management Utilities
 * Enhanced utilities for theme management, accessibility, and user preferences
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    THEME_PRESETS: function() {
        return THEME_PRESETS;
    },
    ACCESSIBILITY_PRESETS: function() {
        return ACCESSIBILITY_PRESETS;
    },
    detectSystemPreferences: function() {
        return detectSystemPreferences;
    },
    getSunriseSunset: function() {
        return getSunriseSunset;
    },
    getCurrentLocation: function() {
        return getCurrentLocation;
    },
    shouldUseDarkModeBySchedule: function() {
        return shouldUseDarkModeBySchedule;
    },
    validateThemeConfig: function() {
        return validateThemeConfig;
    },
    exportThemeConfig: function() {
        return exportThemeConfig;
    },
    importThemeConfig: function() {
        return importThemeConfig;
    },
    generateThemeCSS: function() {
        return generateThemeCSS;
    },
    getContrastRatio: function() {
        return getContrastRatio;
    },
    meetsAccessibilityStandards: function() {
        return meetsAccessibilityStandards;
    }
});
const THEME_PRESETS = [
    {
        id: "auto",
        name: "Auto",
        description: "Follows your system preference",
        colorMode: "auto",
        palette: "mono",
        accentColor: "#007aff",
        preview: {
            background: "linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",
            foreground: "#1e293b",
            accent: "#007aff"
        }
    },
    {
        id: "light",
        name: "Light",
        description: "Clean and bright interface",
        colorMode: "light",
        palette: "mono",
        accentColor: "#007aff",
        preview: {
            background: "#ffffff",
            foreground: "#1e293b",
            accent: "#007aff"
        }
    },
    {
        id: "dark",
        name: "Dark",
        description: "Easy on the eyes in low light",
        colorMode: "dark",
        palette: "dark",
        accentColor: "#60a5fa",
        preview: {
            background: "#0f172a",
            foreground: "#f8fafc",
            accent: "#60a5fa"
        }
    },
    {
        id: "blue",
        name: "Ocean Blue",
        description: "Calming blue tones",
        colorMode: "light",
        palette: "blue",
        accentColor: "#3b82f6",
        preview: {
            background: "linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",
            foreground: "#1e3a8a",
            accent: "#3b82f6"
        }
    },
    {
        id: "green",
        name: "Nature Green",
        description: "Fresh and natural",
        colorMode: "light",
        palette: "green",
        accentColor: "#10b981",
        preview: {
            background: "linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",
            foreground: "#064e3b",
            accent: "#10b981"
        }
    },
    {
        id: "red",
        name: "Nothing Red",
        description: "Bold Nothing Phone style",
        colorMode: "light",
        palette: "red",
        accentColor: "#ef4444",
        preview: {
            background: "linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",
            foreground: "#7f1d1d",
            accent: "#ef4444"
        }
    }
];
const ACCESSIBILITY_PRESETS = {
    default: {
        reducedMotion: false,
        highContrast: false,
        forcedColors: false,
        fontSize: "medium",
        focusIndicators: "subtle"
    },
    accessible: {
        reducedMotion: true,
        highContrast: true,
        forcedColors: false,
        fontSize: "large",
        focusIndicators: "prominent"
    },
    lowVision: {
        reducedMotion: true,
        highContrast: true,
        forcedColors: true,
        fontSize: "xl",
        focusIndicators: "prominent"
    }
};
function detectSystemPreferences() {
    if (typeof window === "undefined") {
        return {
            colorScheme: "light",
            reducedMotion: false,
            highContrast: false,
            forcedColors: false
        };
    }
    return {
        colorScheme: window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light",
        reducedMotion: window.matchMedia("(prefers-reduced-motion: reduce)").matches,
        highContrast: window.matchMedia("(prefers-contrast: high)").matches,
        forcedColors: window.matchMedia("(forced-colors: active)").matches
    };
}
async function getSunriseSunset(lat, lng, date) {
    try {
        const targetDate = date || new Date();
        const dateStr = targetDate.toISOString().split("T")[0];
        const response = await fetch(`https://api.sunrise-sunset.org/json?lat=${lat}&lng=${lng}&date=${dateStr}&formatted=0`);
        if (!response.ok) throw new Error("Failed to fetch sunrise/sunset data");
        const data = await response.json();
        if (data.status !== "OK") throw new Error("Invalid sunrise/sunset response");
        return {
            sunrise: new Date(data.results.sunrise),
            sunset: new Date(data.results.sunset)
        };
    } catch (error) {
        console.warn("Failed to fetch sunrise/sunset times:", error);
        return null;
    }
}
function getCurrentLocation() {
    return new Promise((resolve, reject)=>{
        if (!navigator.geolocation) {
            reject(new Error("Geolocation is not supported"));
            return;
        }
        navigator.geolocation.getCurrentPosition(async (position)=>{
            const { latitude: lat, longitude: lng } = position.coords;
            try {
                // Try to get location name using reverse geocoding
                const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lng}&localityLanguage=en`);
                if (response.ok) {
                    const data = await response.json();
                    const name = data.city || data.locality || data.countryName || "Unknown Location";
                    resolve({
                        lat,
                        lng,
                        name
                    });
                } else {
                    resolve({
                        lat,
                        lng
                    });
                }
            } catch (error) {
                resolve({
                    lat,
                    lng
                });
            }
        }, (error)=>{
            reject(error);
        }, {
            enableHighAccuracy: false,
            timeout: 10000,
            maximumAge: 300000
        });
    });
}
function shouldUseDarkModeBySchedule(schedule, currentTime = new Date()) {
    if (!schedule.enabled || schedule.type === "off") {
        return false;
    }
    const hours = currentTime.getHours();
    const minutes = currentTime.getMinutes();
    const currentMinutes = hours * 60 + minutes;
    if (schedule.type === "time" && schedule.lightTime && schedule.darkTime) {
        const [lightHour, lightMin] = schedule.lightTime.split(":").map(Number);
        const [darkHour, darkMin] = schedule.darkTime.split(":").map(Number);
        const lightMinutes = lightHour * 60 + lightMin;
        const darkMinutes = darkHour * 60 + darkMin;
        if (lightMinutes > darkMinutes) {
            // Normal day (light time is after dark time)
            // Dark period: from darkTime to lightTime
            return currentMinutes >= darkMinutes && currentMinutes < lightMinutes;
        } else {
            // Overnight (light time is before dark time)
            // Light period: from lightTime to darkTime (crossing midnight)
            // Dark period: from darkTime to lightTime (next day)
            return currentMinutes >= darkMinutes || currentMinutes < lightMinutes;
        }
    }
    // For sunset/location-based scheduling, this would need to be implemented
    // with actual sunrise/sunset calculation
    return false;
}
function validateThemeConfig(config) {
    try {
        if (!config || typeof config !== "object") return false;
        // Check required properties
        if (![
            "light",
            "dark",
            "auto"
        ].includes(config.colorMode)) return false;
        if (typeof config.accentColor !== "string") return false;
        if (typeof config.palette !== "string") return false;
        // Validate hex color
        if (!/^#[0-9A-F]{6}$/i.test(config.accentColor)) return false;
        return true;
    } catch (error) {
        return false;
    }
}
function exportThemeConfig(theme) {
    const config = {
        version: "1.0",
        timestamp: new Date().toISOString(),
        theme: {
            colorMode: theme.colorMode,
            palette: theme.colorPalette,
            accentColor: theme.accentColor,
            accessibilityPrefs: theme.accessibilityPrefs,
            themeSchedule: theme.themeSchedule
        }
    };
    return JSON.stringify(config, null, 2);
}
function importThemeConfig(configString) {
    try {
        const config = JSON.parse(configString);
        if (!config.theme || !validateThemeConfig(config.theme)) {
            throw new Error("Invalid theme configuration");
        }
        return config.theme;
    } catch (error) {
        console.error("Failed to import theme configuration:", error);
        return null;
    }
}
function generateThemeCSS(theme) {
    const { colorMode, accentColor, accessibilityPrefs } = theme;
    let css = ":root {\n";
    css += `  --accent: ${accentColor};\n`;
    css += `  --accent-rgb: ${hexToRgb(accentColor)};\n`;
    if (accessibilityPrefs.highContrast) {
        css += "  --border-width: 2px;\n";
        css += "  --focus-ring-width: 3px;\n";
    }
    if (accessibilityPrefs.reducedMotion) {
        css += "  --transition-duration: 0ms;\n";
        css += "  --animation-duration: 0ms;\n";
    }
    css += "}\n";
    return css;
}
/**
 * Converts hex color to RGB values
 */ function hexToRgb(hex) {
    const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    if (!result) return "0, 0, 0";
    const r = parseInt(result[1], 16);
    const g = parseInt(result[2], 16);
    const b = parseInt(result[3], 16);
    return `${r}, ${g}, ${b}`;
}
function getContrastRatio(color1, color2) {
    const getLuminance = (hex)=>{
        const rgb = hexToRgb(hex).split(", ").map(Number);
        const [r, g, b] = rgb.map((c)=>{
            c = c / 255;
            return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
        });
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
    };
    const lum1 = getLuminance(color1);
    const lum2 = getLuminance(color2);
    const brightest = Math.max(lum1, lum2);
    const darkest = Math.min(lum1, lum2);
    return (brightest + 0.05) / (darkest + 0.05);
}
function meetsAccessibilityStandards(foreground, background, level = "AA") {
    const ratio = getContrastRatio(foreground, background);
    return level === "AA" ? ratio >= 4.5 : ratio >= 7;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZW5hL0RldmVsb3Blci9lY2hvL2Zyb250ZW5kL3NyYy91dGlscy90aGVtZVV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlbWUgTWFuYWdlbWVudCBVdGlsaXRpZXNcbiAqIEVuaGFuY2VkIHV0aWxpdGllcyBmb3IgdGhlbWUgbWFuYWdlbWVudCwgYWNjZXNzaWJpbGl0eSwgYW5kIHVzZXIgcHJlZmVyZW5jZXNcbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lUHJlc2V0IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjb2xvck1vZGU6ICdsaWdodCcgfCAnZGFyaycgfCAnYXV0byc7XG4gIHBhbGV0dGU6IHN0cmluZztcbiAgYWNjZW50Q29sb3I6IHN0cmluZztcbiAgcHJldmlldzoge1xuICAgIGJhY2tncm91bmQ6IHN0cmluZztcbiAgICBmb3JlZ3JvdW5kOiBzdHJpbmc7XG4gICAgYWNjZW50OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXNzaWJpbGl0eVNldHRpbmdzIHtcbiAgcmVkdWNlZE1vdGlvbjogYm9vbGVhbjtcbiAgaGlnaENvbnRyYXN0OiBib29sZWFuO1xuICBmb3JjZWRDb2xvcnM6IGJvb2xlYW47XG4gIGZvbnRTaXplOiAnc21hbGwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnIHwgJ3hsJztcbiAgZm9jdXNJbmRpY2F0b3JzOiAnc3VidGxlJyB8ICdwcm9taW5lbnQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lU2NoZWR1bGVDb25maWcge1xuICB0eXBlOiAnb2ZmJyB8ICdzdW5zZXQnIHwgJ3RpbWUnIHwgJ2xvY2F0aW9uJztcbiAgbGlnaHRUaW1lPzogc3RyaW5nO1xuICBkYXJrVGltZT86IHN0cmluZztcbiAgbG9jYXRpb24/OiB7XG4gICAgbGF0OiBudW1iZXI7XG4gICAgbG5nOiBudW1iZXI7XG4gICAgbmFtZTogc3RyaW5nO1xuICB9O1xuICBlbmFibGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIFByZWRlZmluZWQgdGhlbWUgcHJlc2V0c1xuICovXG5leHBvcnQgY29uc3QgVEhFTUVfUFJFU0VUUzogVGhlbWVQcmVzZXRbXSA9IFtcbiAge1xuICAgIGlkOiAnYXV0bycsXG4gICAgbmFtZTogJ0F1dG8nLFxuICAgIGRlc2NyaXB0aW9uOiAnRm9sbG93cyB5b3VyIHN5c3RlbSBwcmVmZXJlbmNlJyxcbiAgICBjb2xvck1vZGU6ICdhdXRvJyxcbiAgICBwYWxldHRlOiAnbW9ubycsXG4gICAgYWNjZW50Q29sb3I6ICcjMDA3YWZmJyxcbiAgICBwcmV2aWV3OiB7XG4gICAgICBiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZmFmYyAwJSwgI2UyZThmMCAxMDAlKScsXG4gICAgICBmb3JlZ3JvdW5kOiAnIzFlMjkzYicsXG4gICAgICBhY2NlbnQ6ICcjMDA3YWZmJyxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgaWQ6ICdsaWdodCcsXG4gICAgbmFtZTogJ0xpZ2h0JyxcbiAgICBkZXNjcmlwdGlvbjogJ0NsZWFuIGFuZCBicmlnaHQgaW50ZXJmYWNlJyxcbiAgICBjb2xvck1vZGU6ICdsaWdodCcsXG4gICAgcGFsZXR0ZTogJ21vbm8nLFxuICAgIGFjY2VudENvbG9yOiAnIzAwN2FmZicsXG4gICAgcHJldmlldzoge1xuICAgICAgYmFja2dyb3VuZDogJyNmZmZmZmYnLFxuICAgICAgZm9yZWdyb3VuZDogJyMxZTI5M2InLFxuICAgICAgYWNjZW50OiAnIzAwN2FmZicsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIGlkOiAnZGFyaycsXG4gICAgbmFtZTogJ0RhcmsnLFxuICAgIGRlc2NyaXB0aW9uOiAnRWFzeSBvbiB0aGUgZXllcyBpbiBsb3cgbGlnaHQnLFxuICAgIGNvbG9yTW9kZTogJ2RhcmsnLFxuICAgIHBhbGV0dGU6ICdkYXJrJyxcbiAgICBhY2NlbnRDb2xvcjogJyM2MGE1ZmEnLFxuICAgIHByZXZpZXc6IHtcbiAgICAgIGJhY2tncm91bmQ6ICcjMGYxNzJhJyxcbiAgICAgIGZvcmVncm91bmQ6ICcjZjhmYWZjJyxcbiAgICAgIGFjY2VudDogJyM2MGE1ZmEnLFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpZDogJ2JsdWUnLFxuICAgIG5hbWU6ICdPY2VhbiBCbHVlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0NhbG1pbmcgYmx1ZSB0b25lcycsXG4gICAgY29sb3JNb2RlOiAnbGlnaHQnLFxuICAgIHBhbGV0dGU6ICdibHVlJyxcbiAgICBhY2NlbnRDb2xvcjogJyMzYjgyZjYnLFxuICAgIHByZXZpZXc6IHtcbiAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZGJlYWZlIDAlLCAjYmZkYmZlIDEwMCUpJyxcbiAgICAgIGZvcmVncm91bmQ6ICcjMWUzYThhJyxcbiAgICAgIGFjY2VudDogJyMzYjgyZjYnLFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpZDogJ2dyZWVuJyxcbiAgICBuYW1lOiAnTmF0dXJlIEdyZWVuJyxcbiAgICBkZXNjcmlwdGlvbjogJ0ZyZXNoIGFuZCBuYXR1cmFsJyxcbiAgICBjb2xvck1vZGU6ICdsaWdodCcsXG4gICAgcGFsZXR0ZTogJ2dyZWVuJyxcbiAgICBhY2NlbnRDb2xvcjogJyMxMGI5ODEnLFxuICAgIHByZXZpZXc6IHtcbiAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZDFmYWU1IDAlLCAjYTdmM2QwIDEwMCUpJyxcbiAgICAgIGZvcmVncm91bmQ6ICcjMDY0ZTNiJyxcbiAgICAgIGFjY2VudDogJyMxMGI5ODEnLFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpZDogJ3JlZCcsXG4gICAgbmFtZTogJ05vdGhpbmcgUmVkJyxcbiAgICBkZXNjcmlwdGlvbjogJ0JvbGQgTm90aGluZyBQaG9uZSBzdHlsZScsXG4gICAgY29sb3JNb2RlOiAnbGlnaHQnLFxuICAgIHBhbGV0dGU6ICdyZWQnLFxuICAgIGFjY2VudENvbG9yOiAnI2VmNDQ0NCcsXG4gICAgcHJldmlldzoge1xuICAgICAgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmZWYyZjIgMCUsICNmZWNhY2EgMTAwJSknLFxuICAgICAgZm9yZWdyb3VuZDogJyM3ZjFkMWQnLFxuICAgICAgYWNjZW50OiAnI2VmNDQ0NCcsXG4gICAgfSxcbiAgfSxcbl07XG5cbi8qKlxuICogQWNjZXNzaWJpbGl0eSBwcmVzZXRzXG4gKi9cbmV4cG9ydCBjb25zdCBBQ0NFU1NJQklMSVRZX1BSRVNFVFM6IFJlY29yZDxzdHJpbmcsIEFjY2Vzc2liaWxpdHlTZXR0aW5ncz4gPSB7XG4gIGRlZmF1bHQ6IHtcbiAgICByZWR1Y2VkTW90aW9uOiBmYWxzZSxcbiAgICBoaWdoQ29udHJhc3Q6IGZhbHNlLFxuICAgIGZvcmNlZENvbG9yczogZmFsc2UsXG4gICAgZm9udFNpemU6ICdtZWRpdW0nLFxuICAgIGZvY3VzSW5kaWNhdG9yczogJ3N1YnRsZScsXG4gIH0sXG4gIGFjY2Vzc2libGU6IHtcbiAgICByZWR1Y2VkTW90aW9uOiB0cnVlLFxuICAgIGhpZ2hDb250cmFzdDogdHJ1ZSxcbiAgICBmb3JjZWRDb2xvcnM6IGZhbHNlLFxuICAgIGZvbnRTaXplOiAnbGFyZ2UnLFxuICAgIGZvY3VzSW5kaWNhdG9yczogJ3Byb21pbmVudCcsXG4gIH0sXG4gIGxvd1Zpc2lvbjoge1xuICAgIHJlZHVjZWRNb3Rpb246IHRydWUsXG4gICAgaGlnaENvbnRyYXN0OiB0cnVlLFxuICAgIGZvcmNlZENvbG9yczogdHJ1ZSxcbiAgICBmb250U2l6ZTogJ3hsJyxcbiAgICBmb2N1c0luZGljYXRvcnM6ICdwcm9taW5lbnQnLFxuICB9LFxufTtcblxuLyoqXG4gKiBEZXRlY3RzIHVzZXIncyBzeXN0ZW0gcHJlZmVyZW5jZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFN5c3RlbVByZWZlcmVuY2VzKCk6IHtcbiAgY29sb3JTY2hlbWU6ICdsaWdodCcgfCAnZGFyayc7XG4gIHJlZHVjZWRNb3Rpb246IGJvb2xlYW47XG4gIGhpZ2hDb250cmFzdDogYm9vbGVhbjtcbiAgZm9yY2VkQ29sb3JzOiBib29sZWFuO1xufSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB7XG4gICAgICBjb2xvclNjaGVtZTogJ2xpZ2h0JyxcbiAgICAgIHJlZHVjZWRNb3Rpb246IGZhbHNlLFxuICAgICAgaGlnaENvbnRyYXN0OiBmYWxzZSxcbiAgICAgIGZvcmNlZENvbG9yczogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY29sb3JTY2hlbWU6IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlc1xuICAgICAgPyAnZGFyaydcbiAgICAgIDogJ2xpZ2h0JyxcbiAgICByZWR1Y2VkTW90aW9uOiB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKVxuICAgICAgLm1hdGNoZXMsXG4gICAgaGlnaENvbnRyYXN0OiB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29udHJhc3Q6IGhpZ2gpJykubWF0Y2hlcyxcbiAgICBmb3JjZWRDb2xvcnM6IHdpbmRvdy5tYXRjaE1lZGlhKCcoZm9yY2VkLWNvbG9yczogYWN0aXZlKScpLm1hdGNoZXMsXG4gIH07XG59XG5cbi8qKlxuICogR2V0cyBzdW5yaXNlIGFuZCBzdW5zZXQgdGltZXMgZm9yIGEgbG9jYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1bnJpc2VTdW5zZXQoXG4gIGxhdDogbnVtYmVyLFxuICBsbmc6IG51bWJlcixcbiAgZGF0ZT86IERhdGVcbik6IFByb21pc2U8eyBzdW5yaXNlOiBEYXRlOyBzdW5zZXQ6IERhdGUgfSB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0YXJnZXREYXRlID0gZGF0ZSB8fCBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRhdGVTdHIgPSB0YXJnZXREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcGkuc3VucmlzZS1zdW5zZXQub3JnL2pzb24/bGF0PSR7bGF0fSZsbmc9JHtsbmd9JmRhdGU9JHtkYXRlU3RyfSZmb3JtYXR0ZWQ9MGBcbiAgICApO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc3VucmlzZS9zdW5zZXQgZGF0YScpO1xuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGlmIChkYXRhLnN0YXR1cyAhPT0gJ09LJylcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdW5yaXNlL3N1bnNldCByZXNwb25zZScpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1bnJpc2U6IG5ldyBEYXRlKGRhdGEucmVzdWx0cy5zdW5yaXNlKSxcbiAgICAgIHN1bnNldDogbmV3IERhdGUoZGF0YS5yZXN1bHRzLnN1bnNldCksXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBmZXRjaCBzdW5yaXNlL3N1bnNldCB0aW1lczonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHVzZXIncyBjdXJyZW50IGxvY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKTogUHJvbWlzZTx7XG4gIGxhdDogbnVtYmVyO1xuICBsbmc6IG51bWJlcjtcbiAgbmFtZT86IHN0cmluZztcbn0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcignR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgYXN5bmMgKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF0aXR1ZGU6IGxhdCwgbG9uZ2l0dWRlOiBsbmcgfSA9IHBvc2l0aW9uLmNvb3JkcztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRyeSB0byBnZXQgbG9jYXRpb24gbmFtZSB1c2luZyByZXZlcnNlIGdlb2NvZGluZ1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICBgaHR0cHM6Ly9hcGkuYmlnZGF0YWNsb3VkLm5ldC9kYXRhL3JldmVyc2UtZ2VvY29kZS1jbGllbnQ/bGF0aXR1ZGU9JHtsYXR9JmxvbmdpdHVkZT0ke2xuZ30mbG9jYWxpdHlMYW5ndWFnZT1lbmBcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgICAgICAgIGRhdGEuY2l0eSB8fFxuICAgICAgICAgICAgICBkYXRhLmxvY2FsaXR5IHx8XG4gICAgICAgICAgICAgIGRhdGEuY291bnRyeU5hbWUgfHxcbiAgICAgICAgICAgICAgJ1Vua25vd24gTG9jYXRpb24nO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IGxhdCwgbG5nLCBuYW1lIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHsgbGF0LCBsbmcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlc29sdmUoeyBsYXQsIGxuZyB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSxcbiAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgIG1heGltdW1BZ2U6IDMwMDAwMCwgLy8gNSBtaW51dGVzXG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBpZiBpdCBzaG91bGQgYmUgZGFyayBtb2RlIGJhc2VkIG9uIHNjaGVkdWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRVc2VEYXJrTW9kZUJ5U2NoZWR1bGUoXG4gIHNjaGVkdWxlOiBUaGVtZVNjaGVkdWxlQ29uZmlnLFxuICBjdXJyZW50VGltZTogRGF0ZSA9IG5ldyBEYXRlKClcbik6IGJvb2xlYW4ge1xuICBpZiAoIXNjaGVkdWxlLmVuYWJsZWQgfHwgc2NoZWR1bGUudHlwZSA9PT0gJ29mZicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBob3VycyA9IGN1cnJlbnRUaW1lLmdldEhvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBjdXJyZW50VGltZS5nZXRNaW51dGVzKCk7XG4gIGNvbnN0IGN1cnJlbnRNaW51dGVzID0gaG91cnMgKiA2MCArIG1pbnV0ZXM7XG5cbiAgaWYgKHNjaGVkdWxlLnR5cGUgPT09ICd0aW1lJyAmJiBzY2hlZHVsZS5saWdodFRpbWUgJiYgc2NoZWR1bGUuZGFya1RpbWUpIHtcbiAgICBjb25zdCBbbGlnaHRIb3VyLCBsaWdodE1pbl0gPSBzY2hlZHVsZS5saWdodFRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKTtcbiAgICBjb25zdCBbZGFya0hvdXIsIGRhcmtNaW5dID0gc2NoZWR1bGUuZGFya1RpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKTtcblxuICAgIGNvbnN0IGxpZ2h0TWludXRlcyA9IGxpZ2h0SG91ciAqIDYwICsgbGlnaHRNaW47XG4gICAgY29uc3QgZGFya01pbnV0ZXMgPSBkYXJrSG91ciAqIDYwICsgZGFya01pbjtcblxuICAgIGlmIChsaWdodE1pbnV0ZXMgPiBkYXJrTWludXRlcykge1xuICAgICAgLy8gTm9ybWFsIGRheSAobGlnaHQgdGltZSBpcyBhZnRlciBkYXJrIHRpbWUpXG4gICAgICAvLyBEYXJrIHBlcmlvZDogZnJvbSBkYXJrVGltZSB0byBsaWdodFRpbWVcbiAgICAgIHJldHVybiBjdXJyZW50TWludXRlcyA+PSBkYXJrTWludXRlcyAmJiBjdXJyZW50TWludXRlcyA8IGxpZ2h0TWludXRlcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3Zlcm5pZ2h0IChsaWdodCB0aW1lIGlzIGJlZm9yZSBkYXJrIHRpbWUpXG4gICAgICAvLyBMaWdodCBwZXJpb2Q6IGZyb20gbGlnaHRUaW1lIHRvIGRhcmtUaW1lIChjcm9zc2luZyBtaWRuaWdodClcbiAgICAgIC8vIERhcmsgcGVyaW9kOiBmcm9tIGRhcmtUaW1lIHRvIGxpZ2h0VGltZSAobmV4dCBkYXkpXG4gICAgICByZXR1cm4gY3VycmVudE1pbnV0ZXMgPj0gZGFya01pbnV0ZXMgfHwgY3VycmVudE1pbnV0ZXMgPCBsaWdodE1pbnV0ZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gRm9yIHN1bnNldC9sb2NhdGlvbi1iYXNlZCBzY2hlZHVsaW5nLCB0aGlzIHdvdWxkIG5lZWQgdG8gYmUgaW1wbGVtZW50ZWRcbiAgLy8gd2l0aCBhY3R1YWwgc3VucmlzZS9zdW5zZXQgY2FsY3VsYXRpb25cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGVtZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRoZW1lQ29uZmlnKGNvbmZpZzogYW55KTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgaWYgKCFjb25maWcgfHwgdHlwZW9mIGNvbmZpZyAhPT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIENoZWNrIHJlcXVpcmVkIHByb3BlcnRpZXNcbiAgICBpZiAoIVsnbGlnaHQnLCAnZGFyaycsICdhdXRvJ10uaW5jbHVkZXMoY29uZmlnLmNvbG9yTW9kZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5hY2NlbnRDb2xvciAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5wYWxldHRlICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gVmFsaWRhdGUgaGV4IGNvbG9yXG4gICAgaWYgKCEvXiNbMC05QS1GXXs2fSQvaS50ZXN0KGNvbmZpZy5hY2NlbnRDb2xvcikpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9ydHMgdGhlbWUgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0VGhlbWVDb25maWcodGhlbWU6IGFueSk6IHN0cmluZyB7XG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICB2ZXJzaW9uOiAnMS4wJyxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB0aGVtZToge1xuICAgICAgY29sb3JNb2RlOiB0aGVtZS5jb2xvck1vZGUsXG4gICAgICBwYWxldHRlOiB0aGVtZS5jb2xvclBhbGV0dGUsXG4gICAgICBhY2NlbnRDb2xvcjogdGhlbWUuYWNjZW50Q29sb3IsXG4gICAgICBhY2Nlc3NpYmlsaXR5UHJlZnM6IHRoZW1lLmFjY2Vzc2liaWxpdHlQcmVmcyxcbiAgICAgIHRoZW1lU2NoZWR1bGU6IHRoZW1lLnRoZW1lU2NoZWR1bGUsXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29uZmlnLCBudWxsLCAyKTtcbn1cblxuLyoqXG4gKiBJbXBvcnRzIHRoZW1lIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydFRoZW1lQ29uZmlnKGNvbmZpZ1N0cmluZzogc3RyaW5nKTogYW55IHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnID0gSlNPTi5wYXJzZShjb25maWdTdHJpbmcpO1xuXG4gICAgaWYgKCFjb25maWcudGhlbWUgfHwgIXZhbGlkYXRlVGhlbWVDb25maWcoY29uZmlnLnRoZW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRoZW1lIGNvbmZpZ3VyYXRpb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnLnRoZW1lO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbXBvcnQgdGhlbWUgY29uZmlndXJhdGlvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzIGZvciBhIHRoZW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRoZW1lQ1NTKHRoZW1lOiBhbnkpOiBzdHJpbmcge1xuICBjb25zdCB7IGNvbG9yTW9kZSwgYWNjZW50Q29sb3IsIGFjY2Vzc2liaWxpdHlQcmVmcyB9ID0gdGhlbWU7XG5cbiAgbGV0IGNzcyA9ICc6cm9vdCB7XFxuJztcbiAgY3NzICs9IGAgIC0tYWNjZW50OiAke2FjY2VudENvbG9yfTtcXG5gO1xuICBjc3MgKz0gYCAgLS1hY2NlbnQtcmdiOiAke2hleFRvUmdiKGFjY2VudENvbG9yKX07XFxuYDtcblxuICBpZiAoYWNjZXNzaWJpbGl0eVByZWZzLmhpZ2hDb250cmFzdCkge1xuICAgIGNzcyArPSAnICAtLWJvcmRlci13aWR0aDogMnB4O1xcbic7XG4gICAgY3NzICs9ICcgIC0tZm9jdXMtcmluZy13aWR0aDogM3B4O1xcbic7XG4gIH1cblxuICBpZiAoYWNjZXNzaWJpbGl0eVByZWZzLnJlZHVjZWRNb3Rpb24pIHtcbiAgICBjc3MgKz0gJyAgLS10cmFuc2l0aW9uLWR1cmF0aW9uOiAwbXM7XFxuJztcbiAgICBjc3MgKz0gJyAgLS1hbmltYXRpb24tZHVyYXRpb246IDBtcztcXG4nO1xuICB9XG5cbiAgY3NzICs9ICd9XFxuJztcblxuICByZXR1cm4gY3NzO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGhleCBjb2xvciB0byBSR0IgdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIGhleFRvUmdiKGhleDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIGlmICghcmVzdWx0KSByZXR1cm4gJzAsIDAsIDAnO1xuXG4gIGNvbnN0IHIgPSBwYXJzZUludChyZXN1bHRbMV0sIDE2KTtcbiAgY29uc3QgZyA9IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpO1xuICBjb25zdCBiID0gcGFyc2VJbnQocmVzdWx0WzNdLCAxNik7XG5cbiAgcmV0dXJuIGAke3J9LCAke2d9LCAke2J9YDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGNvbG9yIGNvbnRyYXN0IHJhdGlvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGNvbG9yMTogc3RyaW5nLCBjb2xvcjI6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IGdldEx1bWluYW5jZSA9IChoZXg6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgY29uc3QgcmdiID0gaGV4VG9SZ2IoaGV4KS5zcGxpdCgnLCAnKS5tYXAoTnVtYmVyKTtcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2IubWFwKChjKSA9PiB7XG4gICAgICBjID0gYyAvIDI1NTtcbiAgICAgIHJldHVybiBjIDw9IDAuMDM5MjggPyBjIC8gMTIuOTIgOiBNYXRoLnBvdygoYyArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH0pO1xuICAgIHJldHVybiAwLjIxMjYgKiByICsgMC43MTUyICogZyArIDAuMDcyMiAqIGI7XG4gIH07XG5cbiAgY29uc3QgbHVtMSA9IGdldEx1bWluYW5jZShjb2xvcjEpO1xuICBjb25zdCBsdW0yID0gZ2V0THVtaW5hbmNlKGNvbG9yMik7XG4gIGNvbnN0IGJyaWdodGVzdCA9IE1hdGgubWF4KGx1bTEsIGx1bTIpO1xuICBjb25zdCBkYXJrZXN0ID0gTWF0aC5taW4obHVtMSwgbHVtMik7XG5cbiAgcmV0dXJuIChicmlnaHRlc3QgKyAwLjA1KSAvIChkYXJrZXN0ICsgMC4wNSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGNvbG9yIGNvbWJpbmF0aW9uIG1lZXRzIFdDQUcgYWNjZXNzaWJpbGl0eSBzdGFuZGFyZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lZXRzQWNjZXNzaWJpbGl0eVN0YW5kYXJkcyhcbiAgZm9yZWdyb3VuZDogc3RyaW5nLFxuICBiYWNrZ3JvdW5kOiBzdHJpbmcsXG4gIGxldmVsOiAnQUEnIHwgJ0FBQScgPSAnQUEnXG4pOiBib29sZWFuIHtcbiAgY29uc3QgcmF0aW8gPSBnZXRDb250cmFzdFJhdGlvKGZvcmVncm91bmQsIGJhY2tncm91bmQpO1xuICByZXR1cm4gbGV2ZWwgPT09ICdBQScgPyByYXRpbyA+PSA0LjUgOiByYXRpbyA+PSA3O1xufVxuIl0sIm5hbWVzIjpbIlRIRU1FX1BSRVNFVFMiLCJBQ0NFU1NJQklMSVRZX1BSRVNFVFMiLCJkZXRlY3RTeXN0ZW1QcmVmZXJlbmNlcyIsImdldFN1bnJpc2VTdW5zZXQiLCJnZXRDdXJyZW50TG9jYXRpb24iLCJzaG91bGRVc2VEYXJrTW9kZUJ5U2NoZWR1bGUiLCJ2YWxpZGF0ZVRoZW1lQ29uZmlnIiwiZXhwb3J0VGhlbWVDb25maWciLCJpbXBvcnRUaGVtZUNvbmZpZyIsImdlbmVyYXRlVGhlbWVDU1MiLCJnZXRDb250cmFzdFJhdGlvIiwibWVldHNBY2Nlc3NpYmlsaXR5U3RhbmRhcmRzIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjb2xvck1vZGUiLCJwYWxldHRlIiwiYWNjZW50Q29sb3IiLCJwcmV2aWV3IiwiYmFja2dyb3VuZCIsImZvcmVncm91bmQiLCJhY2NlbnQiLCJkZWZhdWx0IiwicmVkdWNlZE1vdGlvbiIsImhpZ2hDb250cmFzdCIsImZvcmNlZENvbG9ycyIsImZvbnRTaXplIiwiZm9jdXNJbmRpY2F0b3JzIiwiYWNjZXNzaWJsZSIsImxvd1Zpc2lvbiIsIndpbmRvdyIsImNvbG9yU2NoZW1lIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJsYXQiLCJsbmciLCJkYXRlIiwidGFyZ2V0RGF0ZSIsIkRhdGUiLCJkYXRlU3RyIiwidG9JU09TdHJpbmciLCJzcGxpdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJzdGF0dXMiLCJzdW5yaXNlIiwicmVzdWx0cyIsInN1bnNldCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImNvb3JkcyIsImNpdHkiLCJsb2NhbGl0eSIsImNvdW50cnlOYW1lIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsIm1heGltdW1BZ2UiLCJzY2hlZHVsZSIsImN1cnJlbnRUaW1lIiwiZW5hYmxlZCIsInR5cGUiLCJob3VycyIsImdldEhvdXJzIiwibWludXRlcyIsImdldE1pbnV0ZXMiLCJjdXJyZW50TWludXRlcyIsImxpZ2h0VGltZSIsImRhcmtUaW1lIiwibGlnaHRIb3VyIiwibGlnaHRNaW4iLCJtYXAiLCJOdW1iZXIiLCJkYXJrSG91ciIsImRhcmtNaW4iLCJsaWdodE1pbnV0ZXMiLCJkYXJrTWludXRlcyIsImNvbmZpZyIsImluY2x1ZGVzIiwidGVzdCIsInRoZW1lIiwidmVyc2lvbiIsInRpbWVzdGFtcCIsImNvbG9yUGFsZXR0ZSIsImFjY2Vzc2liaWxpdHlQcmVmcyIsInRoZW1lU2NoZWR1bGUiLCJKU09OIiwic3RyaW5naWZ5IiwiY29uZmlnU3RyaW5nIiwicGFyc2UiLCJjc3MiLCJoZXhUb1JnYiIsImhleCIsInJlc3VsdCIsImV4ZWMiLCJyIiwicGFyc2VJbnQiLCJnIiwiYiIsImNvbG9yMSIsImNvbG9yMiIsImdldEx1bWluYW5jZSIsInJnYiIsImMiLCJNYXRoIiwicG93IiwibHVtMSIsImx1bTIiLCJicmlnaHRlc3QiLCJtYXgiLCJkYXJrZXN0IiwibWluIiwibGV2ZWwiLCJyYXRpbyJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDOzs7Ozs7Ozs7OztJQXVDWUEsYUFBYTtlQUFiQTs7SUFvRkFDLHFCQUFxQjtlQUFyQkE7O0lBMkJHQyx1QkFBdUI7ZUFBdkJBOztJQTZCTUMsZ0JBQWdCO2VBQWhCQTs7SUFpQ05DLGtCQUFrQjtlQUFsQkE7O0lBbURBQywyQkFBMkI7ZUFBM0JBOztJQXVDQUMsbUJBQW1CO2VBQW5CQTs7SUFxQkFDLGlCQUFpQjtlQUFqQkE7O0lBbUJBQyxpQkFBaUI7ZUFBakJBOztJQWtCQUMsZ0JBQWdCO2VBQWhCQTs7SUF1Q0FDLGdCQUFnQjtlQUFoQkE7O0lBcUJBQywyQkFBMkI7ZUFBM0JBOzs7QUE3WFQsTUFBTVgsZ0JBQStCO0lBQzFDO1FBQ0VZLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLFdBQVc7UUFDWEMsU0FBUztRQUNUQyxhQUFhO1FBQ2JDLFNBQVM7WUFDUEMsWUFBWTtZQUNaQyxZQUFZO1lBQ1pDLFFBQVE7UUFDVjtJQUNGO0lBQ0E7UUFDRVQsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsV0FBVztRQUNYQyxTQUFTO1FBQ1RDLGFBQWE7UUFDYkMsU0FBUztZQUNQQyxZQUFZO1lBQ1pDLFlBQVk7WUFDWkMsUUFBUTtRQUNWO0lBQ0Y7SUFDQTtRQUNFVCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxXQUFXO1FBQ1hDLFNBQVM7UUFDVEMsYUFBYTtRQUNiQyxTQUFTO1lBQ1BDLFlBQVk7WUFDWkMsWUFBWTtZQUNaQyxRQUFRO1FBQ1Y7SUFDRjtJQUNBO1FBQ0VULElBQUk7UUFDSkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLFdBQVc7UUFDWEMsU0FBUztRQUNUQyxhQUFhO1FBQ2JDLFNBQVM7WUFDUEMsWUFBWTtZQUNaQyxZQUFZO1lBQ1pDLFFBQVE7UUFDVjtJQUNGO0lBQ0E7UUFDRVQsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsV0FBVztRQUNYQyxTQUFTO1FBQ1RDLGFBQWE7UUFDYkMsU0FBUztZQUNQQyxZQUFZO1lBQ1pDLFlBQVk7WUFDWkMsUUFBUTtRQUNWO0lBQ0Y7SUFDQTtRQUNFVCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxXQUFXO1FBQ1hDLFNBQVM7UUFDVEMsYUFBYTtRQUNiQyxTQUFTO1lBQ1BDLFlBQVk7WUFDWkMsWUFBWTtZQUNaQyxRQUFRO1FBQ1Y7SUFDRjtDQUNEO0FBS00sTUFBTXBCLHdCQUErRDtJQUMxRXFCLFNBQVM7UUFDUEMsZUFBZTtRQUNmQyxjQUFjO1FBQ2RDLGNBQWM7UUFDZEMsVUFBVTtRQUNWQyxpQkFBaUI7SUFDbkI7SUFDQUMsWUFBWTtRQUNWTCxlQUFlO1FBQ2ZDLGNBQWM7UUFDZEMsY0FBYztRQUNkQyxVQUFVO1FBQ1ZDLGlCQUFpQjtJQUNuQjtJQUNBRSxXQUFXO1FBQ1ROLGVBQWU7UUFDZkMsY0FBYztRQUNkQyxjQUFjO1FBQ2RDLFVBQVU7UUFDVkMsaUJBQWlCO0lBQ25CO0FBQ0Y7QUFLTyxTQUFTekI7SUFNZCxJQUFJLE9BQU80QixXQUFXLGFBQWE7UUFDakMsT0FBTztZQUNMQyxhQUFhO1lBQ2JSLGVBQWU7WUFDZkMsY0FBYztZQUNkQyxjQUFjO1FBQ2hCO0lBQ0Y7SUFFQSxPQUFPO1FBQ0xNLGFBQWFELE9BQU9FLFVBQVUsQ0FBQyxnQ0FBZ0NDLE9BQU8sR0FDbEUsU0FDQTtRQUNKVixlQUFlTyxPQUFPRSxVQUFVLENBQUMsb0NBQzlCQyxPQUFPO1FBQ1ZULGNBQWNNLE9BQU9FLFVBQVUsQ0FBQyw0QkFBNEJDLE9BQU87UUFDbkVSLGNBQWNLLE9BQU9FLFVBQVUsQ0FBQywyQkFBMkJDLE9BQU87SUFDcEU7QUFDRjtBQUtPLGVBQWU5QixpQkFDcEIrQixHQUFXLEVBQ1hDLEdBQVcsRUFDWEMsSUFBVztJQUVYLElBQUk7UUFDRixNQUFNQyxhQUFhRCxRQUFRLElBQUlFO1FBQy9CLE1BQU1DLFVBQVVGLFdBQVdHLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBRXRELE1BQU1DLFdBQVcsTUFBTUMsTUFDckIsQ0FBQyx3Q0FBd0MsRUFBRVQsSUFBSSxLQUFLLEVBQUVDLElBQUksTUFBTSxFQUFFSSxRQUFRLFlBQVksQ0FBQztRQUd6RixJQUFJLENBQUNHLFNBQVNFLEVBQUUsRUFBRSxNQUFNLElBQUlDLE1BQU07UUFFbEMsTUFBTUMsT0FBTyxNQUFNSixTQUFTSyxJQUFJO1FBRWhDLElBQUlELEtBQUtFLE1BQU0sS0FBSyxNQUNsQixNQUFNLElBQUlILE1BQU07UUFFbEIsT0FBTztZQUNMSSxTQUFTLElBQUlYLEtBQUtRLEtBQUtJLE9BQU8sQ0FBQ0QsT0FBTztZQUN0Q0UsUUFBUSxJQUFJYixLQUFLUSxLQUFLSSxPQUFPLENBQUNDLE1BQU07UUFDdEM7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUMsSUFBSSxDQUFDLHlDQUF5Q0Y7UUFDdEQsT0FBTztJQUNUO0FBQ0Y7QUFLTyxTQUFTaEQ7SUFLZCxPQUFPLElBQUltRCxRQUFRLENBQUNDLFNBQVNDO1FBQzNCLElBQUksQ0FBQ0MsVUFBVUMsV0FBVyxFQUFFO1lBQzFCRixPQUFPLElBQUlaLE1BQU07WUFDakI7UUFDRjtRQUVBYSxVQUFVQyxXQUFXLENBQUNDLGtCQUFrQixDQUN0QyxPQUFPQztZQUNMLE1BQU0sRUFBRUMsVUFBVTVCLEdBQUcsRUFBRTZCLFdBQVc1QixHQUFHLEVBQUUsR0FBRzBCLFNBQVNHLE1BQU07WUFFekQsSUFBSTtnQkFDRixtREFBbUQ7Z0JBQ25ELE1BQU10QixXQUFXLE1BQU1DLE1BQ3JCLENBQUMsa0VBQWtFLEVBQUVULElBQUksV0FBVyxFQUFFQyxJQUFJLG9CQUFvQixDQUFDO2dCQUdqSCxJQUFJTyxTQUFTRSxFQUFFLEVBQUU7b0JBQ2YsTUFBTUUsT0FBTyxNQUFNSixTQUFTSyxJQUFJO29CQUNoQyxNQUFNbEMsT0FDSmlDLEtBQUttQixJQUFJLElBQ1RuQixLQUFLb0IsUUFBUSxJQUNicEIsS0FBS3FCLFdBQVcsSUFDaEI7b0JBQ0ZYLFFBQVE7d0JBQUV0Qjt3QkFBS0M7d0JBQUt0QjtvQkFBSztnQkFDM0IsT0FBTztvQkFDTDJDLFFBQVE7d0JBQUV0Qjt3QkFBS0M7b0JBQUk7Z0JBQ3JCO1lBQ0YsRUFBRSxPQUFPaUIsT0FBTztnQkFDZEksUUFBUTtvQkFBRXRCO29CQUFLQztnQkFBSTtZQUNyQjtRQUNGLEdBQ0EsQ0FBQ2lCO1lBQ0NLLE9BQU9MO1FBQ1QsR0FDQTtZQUNFZ0Isb0JBQW9CO1lBQ3BCQyxTQUFTO1lBQ1RDLFlBQVk7UUFDZDtJQUVKO0FBQ0Y7QUFLTyxTQUFTakUsNEJBQ2RrRSxRQUE2QixFQUM3QkMsY0FBb0IsSUFBSWxDLE1BQU07SUFFOUIsSUFBSSxDQUFDaUMsU0FBU0UsT0FBTyxJQUFJRixTQUFTRyxJQUFJLEtBQUssT0FBTztRQUNoRCxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxRQUFRSCxZQUFZSSxRQUFRO0lBQ2xDLE1BQU1DLFVBQVVMLFlBQVlNLFVBQVU7SUFDdEMsTUFBTUMsaUJBQWlCSixRQUFRLEtBQUtFO0lBRXBDLElBQUlOLFNBQVNHLElBQUksS0FBSyxVQUFVSCxTQUFTUyxTQUFTLElBQUlULFNBQVNVLFFBQVEsRUFBRTtRQUN2RSxNQUFNLENBQUNDLFdBQVdDLFNBQVMsR0FBR1osU0FBU1MsU0FBUyxDQUFDdkMsS0FBSyxDQUFDLEtBQUsyQyxHQUFHLENBQUNDO1FBQ2hFLE1BQU0sQ0FBQ0MsVUFBVUMsUUFBUSxHQUFHaEIsU0FBU1UsUUFBUSxDQUFDeEMsS0FBSyxDQUFDLEtBQUsyQyxHQUFHLENBQUNDO1FBRTdELE1BQU1HLGVBQWVOLFlBQVksS0FBS0M7UUFDdEMsTUFBTU0sY0FBY0gsV0FBVyxLQUFLQztRQUVwQyxJQUFJQyxlQUFlQyxhQUFhO1lBQzlCLDZDQUE2QztZQUM3QywwQ0FBMEM7WUFDMUMsT0FBT1Ysa0JBQWtCVSxlQUFlVixpQkFBaUJTO1FBQzNELE9BQU87WUFDTCw2Q0FBNkM7WUFDN0MsK0RBQStEO1lBQy9ELHFEQUFxRDtZQUNyRCxPQUFPVCxrQkFBa0JVLGVBQWVWLGlCQUFpQlM7UUFDM0Q7SUFDRjtJQUVBLDBFQUEwRTtJQUMxRSx5Q0FBeUM7SUFDekMsT0FBTztBQUNUO0FBS08sU0FBU2xGLG9CQUFvQm9GLE1BQVc7SUFDN0MsSUFBSTtRQUNGLElBQUksQ0FBQ0EsVUFBVSxPQUFPQSxXQUFXLFVBQVUsT0FBTztRQUVsRCw0QkFBNEI7UUFDNUIsSUFBSSxDQUFDO1lBQUM7WUFBUztZQUFRO1NBQU8sQ0FBQ0MsUUFBUSxDQUFDRCxPQUFPM0UsU0FBUyxHQUFHLE9BQU87UUFDbEUsSUFBSSxPQUFPMkUsT0FBT3pFLFdBQVcsS0FBSyxVQUFVLE9BQU87UUFDbkQsSUFBSSxPQUFPeUUsT0FBTzFFLE9BQU8sS0FBSyxVQUFVLE9BQU87UUFFL0MscUJBQXFCO1FBQ3JCLElBQUksQ0FBQyxrQkFBa0I0RSxJQUFJLENBQUNGLE9BQU96RSxXQUFXLEdBQUcsT0FBTztRQUV4RCxPQUFPO0lBQ1QsRUFBRSxPQUFPbUMsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGO0FBS08sU0FBUzdDLGtCQUFrQnNGLEtBQVU7SUFDMUMsTUFBTUgsU0FBUztRQUNiSSxTQUFTO1FBQ1RDLFdBQVcsSUFBSXpELE9BQU9FLFdBQVc7UUFDakNxRCxPQUFPO1lBQ0w5RSxXQUFXOEUsTUFBTTlFLFNBQVM7WUFDMUJDLFNBQVM2RSxNQUFNRyxZQUFZO1lBQzNCL0UsYUFBYTRFLE1BQU01RSxXQUFXO1lBQzlCZ0Ysb0JBQW9CSixNQUFNSSxrQkFBa0I7WUFDNUNDLGVBQWVMLE1BQU1LLGFBQWE7UUFDcEM7SUFDRjtJQUVBLE9BQU9DLEtBQUtDLFNBQVMsQ0FBQ1YsUUFBUSxNQUFNO0FBQ3RDO0FBS08sU0FBU2xGLGtCQUFrQjZGLFlBQW9CO0lBQ3BELElBQUk7UUFDRixNQUFNWCxTQUFTUyxLQUFLRyxLQUFLLENBQUNEO1FBRTFCLElBQUksQ0FBQ1gsT0FBT0csS0FBSyxJQUFJLENBQUN2RixvQkFBb0JvRixPQUFPRyxLQUFLLEdBQUc7WUFDdkQsTUFBTSxJQUFJaEQsTUFBTTtRQUNsQjtRQUVBLE9BQU82QyxPQUFPRyxLQUFLO0lBQ3JCLEVBQUUsT0FBT3pDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHlDQUF5Q0E7UUFDdkQsT0FBTztJQUNUO0FBQ0Y7QUFLTyxTQUFTM0MsaUJBQWlCb0YsS0FBVTtJQUN6QyxNQUFNLEVBQUU5RSxTQUFTLEVBQUVFLFdBQVcsRUFBRWdGLGtCQUFrQixFQUFFLEdBQUdKO0lBRXZELElBQUlVLE1BQU07SUFDVkEsT0FBTyxDQUFDLFlBQVksRUFBRXRGLFlBQVksR0FBRyxDQUFDO0lBQ3RDc0YsT0FBTyxDQUFDLGdCQUFnQixFQUFFQyxTQUFTdkYsYUFBYSxHQUFHLENBQUM7SUFFcEQsSUFBSWdGLG1CQUFtQnpFLFlBQVksRUFBRTtRQUNuQytFLE9BQU87UUFDUEEsT0FBTztJQUNUO0lBRUEsSUFBSU4sbUJBQW1CMUUsYUFBYSxFQUFFO1FBQ3BDZ0YsT0FBTztRQUNQQSxPQUFPO0lBQ1Q7SUFFQUEsT0FBTztJQUVQLE9BQU9BO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNELFNBQVNDLFNBQVNDLEdBQVc7SUFDM0IsTUFBTUMsU0FBUyw0Q0FBNENDLElBQUksQ0FBQ0Y7SUFDaEUsSUFBSSxDQUFDQyxRQUFRLE9BQU87SUFFcEIsTUFBTUUsSUFBSUMsU0FBU0gsTUFBTSxDQUFDLEVBQUUsRUFBRTtJQUM5QixNQUFNSSxJQUFJRCxTQUFTSCxNQUFNLENBQUMsRUFBRSxFQUFFO0lBQzlCLE1BQU1LLElBQUlGLFNBQVNILE1BQU0sQ0FBQyxFQUFFLEVBQUU7SUFFOUIsT0FBTyxDQUFDLEVBQUVFLEVBQUUsRUFBRSxFQUFFRSxFQUFFLEVBQUUsRUFBRUMsRUFBRSxDQUFDO0FBQzNCO0FBS08sU0FBU3JHLGlCQUFpQnNHLE1BQWMsRUFBRUMsTUFBYztJQUM3RCxNQUFNQyxlQUFlLENBQUNUO1FBQ3BCLE1BQU1VLE1BQU1YLFNBQVNDLEtBQUtoRSxLQUFLLENBQUMsTUFBTTJDLEdBQUcsQ0FBQ0M7UUFDMUMsTUFBTSxDQUFDdUIsR0FBR0UsR0FBR0MsRUFBRSxHQUFHSSxJQUFJL0IsR0FBRyxDQUFDLENBQUNnQztZQUN6QkEsSUFBSUEsSUFBSTtZQUNSLE9BQU9BLEtBQUssVUFBVUEsSUFBSSxRQUFRQyxLQUFLQyxHQUFHLENBQUMsQUFBQ0YsQ0FBQUEsSUFBSSxLQUFJLElBQUssT0FBTztRQUNsRTtRQUNBLE9BQU8sU0FBU1IsSUFBSSxTQUFTRSxJQUFJLFNBQVNDO0lBQzVDO0lBRUEsTUFBTVEsT0FBT0wsYUFBYUY7SUFDMUIsTUFBTVEsT0FBT04sYUFBYUQ7SUFDMUIsTUFBTVEsWUFBWUosS0FBS0ssR0FBRyxDQUFDSCxNQUFNQztJQUNqQyxNQUFNRyxVQUFVTixLQUFLTyxHQUFHLENBQUNMLE1BQU1DO0lBRS9CLE9BQU8sQUFBQ0MsQ0FBQUEsWUFBWSxJQUFHLElBQU1FLENBQUFBLFVBQVUsSUFBRztBQUM1QztBQUtPLFNBQVNoSCw0QkFDZFMsVUFBa0IsRUFDbEJELFVBQWtCLEVBQ2xCMEcsUUFBc0IsSUFBSTtJQUUxQixNQUFNQyxRQUFRcEgsaUJBQWlCVSxZQUFZRDtJQUMzQyxPQUFPMEcsVUFBVSxPQUFPQyxTQUFTLE1BQU1BLFNBQVM7QUFDbEQifQ==