{"version":3,"sources":["/home/runner/work/echo/echo/frontend/src/__tests__/setup/test-utils.tsx"],"sourcesContent":["/**\n * Enhanced Test Utilities\n * Comprehensive testing utilities for React components, hooks, and integration tests\n */\n\nimport React, { ReactElement, ReactNode } from 'react';\nimport { render, RenderOptions, RenderResult } from '@testing-library/react';\nimport {\n  renderHook,\n  RenderHookOptions,\n  RenderHookResult,\n} from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\n// Mock data generators\nexport const mockUser = (overrides = {}) => ({\n  id: 'user-123',\n  username: 'testuser',\n  displayName: 'Test User',\n  avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=test',\n  verified: false,\n  followers: 100,\n  following: 50,\n  isOnline: true,\n  bio: 'Test user bio',\n  location: 'Test City',\n  ...overrides,\n});\n\nexport const mockPost = (overrides = {}) => ({\n  id: 'post-123',\n  author: mockUser(),\n  content: 'Test post content',\n  type: 'text' as const,\n  timestamp: new Date('2024-01-01T12:00:00Z'),\n  likes: 10,\n  comments: 5,\n  shares: 2,\n  bookmarks: 1,\n  isLiked: false,\n  isBookmarked: false,\n  hashtags: ['#test'],\n  mentions: [],\n  ...overrides,\n});\n\nexport const mockMessage = (overrides = {}) => ({\n  id: 'message-123',\n  sender: mockUser(),\n  recipient: mockUser({ id: 'user-456' }),\n  content: 'Test message',\n  type: 'text' as const,\n  timestamp: new Date('2024-01-01T12:00:00Z'),\n  isRead: false,\n  isDelivered: true,\n  reactions: [],\n  isEdited: false,\n  isDeleted: false,\n  ...overrides,\n});\n\nexport const mockChat = (overrides = {}) => ({\n  id: 'chat-123',\n  participants: [mockUser()],\n  lastMessage: mockMessage(),\n  unreadCount: 1,\n  isGroup: false,\n  isPinned: false,\n  isMuted: false,\n  isArchived: false,\n  ...overrides,\n});\n\n// Theme mock data\nexport const mockTheme = {\n  colorMode: 'light' as const,\n  colorPalette: 'mono',\n  accentColor: '#007aff',\n  actualColorMode: 'light' as const,\n  setColorMode: jest.fn(),\n  setColorPalette: jest.fn(),\n  setAccentColor: jest.fn(),\n  toggleColorMode: jest.fn(),\n};\n\n// Language mock data\nexport const mockLanguage = {\n  language: 'en',\n  setLanguage: jest.fn(),\n  t: jest.fn((key: string) => key),\n  isRTL: false,\n};\n\n// Settings mock data\nexport const mockSettings = {\n  notifications: true,\n  autoSave: true,\n  theme: 'auto',\n  language: 'en',\n  accessibility: {\n    reducedMotion: false,\n    highContrast: false,\n    fontSize: 'medium',\n  },\n  updateSettings: jest.fn(),\n  resetSettings: jest.fn(),\n};\n\n// Simple wrapper for testing (contexts are mocked in jest.setup.js)\nconst TestWrapper = ({ children }: { children: ReactNode }) => {\n  return <div data-testid=\"test-wrapper\">{children}</div>;\n};\n\n// Custom render function with minimal wrapper\ninterface CustomRenderOptions extends Omit<RenderOptions, 'wrapper'> {\n  // Add any simple options here if needed\n}\n\nexport const customRender = (\n  ui: ReactElement,\n  options: CustomRenderOptions = {}\n): RenderResult => {\n  return render(ui, {\n    wrapper: TestWrapper,\n    ...options,\n  });\n};\n\n// Custom hook render function\nexport const customRenderHook = <TProps, TResult>(\n  hook: (props: TProps) => TResult,\n  options: RenderHookOptions<TProps> & CustomRenderOptions = {}\n): RenderHookResult<TResult, TProps> => {\n  return renderHook(hook, {\n    wrapper: TestWrapper,\n    ...options,\n  });\n};\n\n// User event setup\nexport const setupUserEvent = () => userEvent.setup();\n\n// Async utilities\nexport const waitForLoadingToFinish = () =>\n  new Promise((resolve) => setTimeout(resolve, 0));\n\nexport const waitForAnimation = () =>\n  new Promise((resolve) => setTimeout(resolve, 300));\n\n// Mock API responses\nexport const mockApiResponse = (data: any, status = 200) => ({\n  ok: status >= 200 && status < 300,\n  status,\n  json: () => Promise.resolve(data),\n  text: () => Promise.resolve(JSON.stringify(data)),\n});\n\nexport const mockApiError = (message = 'API Error', status = 500) => ({\n  ok: false,\n  status,\n  json: () => Promise.reject(new Error(message)),\n  text: () => Promise.reject(new Error(message)),\n});\n\n// Local storage mock utilities\nexport const mockLocalStorage = () => {\n  const store: Record<string, string> = {};\n\n  return {\n    getItem: jest.fn((key: string) => store[key] || null),\n    setItem: jest.fn((key: string, value: string) => {\n      store[key] = value;\n    }),\n    removeItem: jest.fn((key: string) => {\n      delete store[key];\n    }),\n    clear: jest.fn(() => {\n      Object.keys(store).forEach((key) => delete store[key]);\n    }),\n    get store() {\n      return { ...store };\n    },\n  };\n};\n\n// Intersection Observer mock\nexport const mockIntersectionObserver = () => {\n  const mockObserver = {\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  };\n\n  global.IntersectionObserver = jest\n    .fn()\n    .mockImplementation(() => mockObserver);\n\n  return mockObserver;\n};\n\n// Resize Observer mock\nexport const mockResizeObserver = () => {\n  const mockObserver = {\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  };\n\n  global.ResizeObserver = jest.fn().mockImplementation(() => mockObserver);\n\n  return mockObserver;\n};\n\n// Media query mock\nexport const mockMediaQuery = (matches = false) => {\n  const mockMQL = {\n    matches,\n    media: '',\n    onchange: null,\n    addListener: jest.fn(),\n    removeListener: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  };\n\n  Object.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation(() => mockMQL),\n  });\n\n  return mockMQL;\n};\n\n// Performance testing utilities\nexport const measurePerformance = async (fn: () => Promise<void> | void) => {\n  const start = performance.now();\n  await fn();\n  const end = performance.now();\n  return end - start;\n};\n\nexport const measureMemory = () => {\n  if ('memory' in performance) {\n    return (performance as any).memory;\n  }\n  return null;\n};\n\n// Accessibility testing utilities\nexport const checkAccessibility = async (container: HTMLElement) => {\n  // Mock implementation - in real scenario would use @axe-core/react\n  const issues: string[] = [];\n\n  // Check for missing alt text\n  const images = container.querySelectorAll('img');\n  images.forEach((img) => {\n    if (!img.alt && !img.getAttribute('aria-label')) {\n      issues.push('Image missing alt text');\n    }\n  });\n\n  // Check for missing labels\n  const inputs = container.querySelectorAll('input, textarea, select');\n  inputs.forEach((input) => {\n    const hasLabel =\n      input.getAttribute('aria-label') ||\n      input.getAttribute('aria-labelledby') ||\n      container.querySelector(`label[for=\"${input.id}\"]`);\n    if (!hasLabel) {\n      issues.push('Form control missing label');\n    }\n  });\n\n  // Check for proper heading hierarchy\n  const headings = container.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  let lastLevel = 0;\n  headings.forEach((heading) => {\n    const level = parseInt(heading.tagName.charAt(1));\n    if (level > lastLevel + 1) {\n      issues.push('Heading hierarchy skipped');\n    }\n    lastLevel = level;\n  });\n\n  return issues;\n};\n\n// Custom matchers\nexport const customMatchers = {\n  toBeAccessible: async (received: HTMLElement) => {\n    const issues = await checkAccessibility(received);\n    const pass = issues.length === 0;\n\n    return {\n      message: () =>\n        pass\n          ? `Expected element to have accessibility issues`\n          : `Expected element to be accessible, but found issues: ${issues.join(', ')}`,\n      pass,\n    };\n  },\n\n  toHavePerformanceWithin: (received: number, min: number, max: number) => {\n    const pass = received >= min && received <= max;\n\n    return {\n      message: () =>\n        pass\n          ? `Expected ${received}ms not to be within ${min}ms - ${max}ms`\n          : `Expected ${received}ms to be within ${min}ms - ${max}ms`,\n      pass,\n    };\n  },\n\n  toBeResponsive: (received: HTMLElement) => {\n    const computedStyle = window.getComputedStyle(received);\n    const hasFlexOrGrid =\n      computedStyle.display === 'flex' ||\n      computedStyle.display === 'grid' ||\n      computedStyle.display === 'inline-flex' ||\n      computedStyle.display === 'inline-grid';\n\n    const hasResponsiveUnits =\n      computedStyle.width?.includes('%') ||\n      computedStyle.width?.includes('vw') ||\n      computedStyle.width?.includes('rem') ||\n      computedStyle.maxWidth?.includes('%');\n\n    const pass = hasFlexOrGrid || hasResponsiveUnits;\n\n    return {\n      message: () =>\n        pass\n          ? `Expected element not to be responsive`\n          : `Expected element to be responsive (use flex/grid or responsive units)`,\n      pass,\n    };\n  },\n};\n\n// Test data factories\nexport const createTestData = {\n  users: (count = 5) =>\n    Array.from({ length: count }, (_, i) =>\n      mockUser({ id: `user-${i}`, username: `user${i}` })\n    ),\n\n  posts: (count = 10) =>\n    Array.from({ length: count }, (_, i) =>\n      mockPost({ id: `post-${i}`, content: `Test post ${i}` })\n    ),\n\n  messages: (count = 20) =>\n    Array.from({ length: count }, (_, i) =>\n      mockMessage({ id: `message-${i}`, content: `Test message ${i}` })\n    ),\n\n  chats: (count = 5) =>\n    Array.from({ length: count }, (_, i) => mockChat({ id: `chat-${i}` })),\n};\n\n// Export everything for easy importing\nexport * from '@testing-library/react';\nexport * from '@testing-library/user-event';\nexport { customRender as render, customRenderHook as renderHook };\n"],"names":["checkAccessibility","createTestData","customMatchers","customRender","customRenderHook","measureMemory","measurePerformance","mockApiError","mockApiResponse","mockChat","mockIntersectionObserver","mockLanguage","mockLocalStorage","mockMediaQuery","mockMessage","mockPost","mockResizeObserver","mockSettings","mockTheme","mockUser","render","renderHook","setupUserEvent","waitForAnimation","waitForLoadingToFinish","overrides","id","username","displayName","avatar","verified","followers","following","isOnline","bio","location","author","content","type","timestamp","Date","likes","comments","shares","bookmarks","isLiked","isBookmarked","hashtags","mentions","sender","recipient","isRead","isDelivered","reactions","isEdited","isDeleted","participants","lastMessage","unreadCount","isGroup","isPinned","isMuted","isArchived","colorMode","colorPalette","accentColor","actualColorMode","setColorMode","jest","fn","setColorPalette","setAccentColor","toggleColorMode","language","setLanguage","t","key","isRTL","notifications","autoSave","theme","accessibility","reducedMotion","highContrast","fontSize","updateSettings","resetSettings","TestWrapper","children","div","data-testid","ui","options","wrapper","hook","userEvent","setup","Promise","resolve","setTimeout","data","status","ok","json","text","JSON","stringify","message","reject","Error","store","getItem","setItem","value","removeItem","clear","Object","keys","forEach","mockObserver","observe","unobserve","disconnect","global","IntersectionObserver","mockImplementation","ResizeObserver","matches","mockMQL","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","defineProperty","window","writable","start","performance","now","end","memory","container","issues","images","querySelectorAll","img","alt","getAttribute","push","inputs","input","hasLabel","querySelector","headings","lastLevel","heading","level","parseInt","tagName","charAt","toBeAccessible","received","pass","length","join","toHavePerformanceWithin","min","max","toBeResponsive","computedStyle","getComputedStyle","hasFlexOrGrid","display","hasResponsiveUnits","width","includes","maxWidth","users","count","Array","from","_","i","posts","messages","chats"],"mappings":"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"}