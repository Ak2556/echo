{"version":3,"sources":["/home/runner/work/echo/echo/frontend/src/components/miniapps/EditRecordModal.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport type { CattleRecord } from './DairyFarmManagerApp';\n\ntype Props = {\n  visible: boolean;\n  record: CattleRecord | null;\n  language: 'english' | 'punjabi';\n  onClose: () => void;\n  onSave: (updates: Partial<CattleRecord>) => void;\n};\n\nexport default function EditRecordModal({\n  visible,\n  record,\n  language,\n  onClose,\n  onSave,\n}: Props) {\n  const [form, setForm] = useState<Partial<CattleRecord>>({});\n\n  useEffect(() => {\n    if (visible && record) {\n      setForm(record);\n    } else if (!visible) {\n      setForm({});\n    }\n  }, [visible, record]);\n\n  if (!visible) return null;\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000,\n      }}\n      onClick={onClose}\n    >\n      <div\n        style={{\n          background: 'var(--bg)',\n          padding: '1.5rem',\n          borderRadius: 12,\n          maxWidth: 700,\n          width: '95%',\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <h3 style={{ margin: '0 0 1rem 0' }}>\n          {language === 'english' ? 'Edit Cattle Record' : 'ਰਿਕਾਰਡ ਸੋਧੋ'}\n        </h3>\n        {!record ? (\n          <div>\n            {language === 'english'\n              ? 'Loading record...'\n              : 'ਰਿਕਾਰਡ ਲੋਡ ਕੀਤਾ ਜਾ ਰਿਹਾ ਹੈ...'}\n          </div>\n        ) : (\n          <div style={{ display: 'grid', gap: '0.75rem' }}>\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '0.5rem',\n              }}\n            >\n              <input\n                value={form.breed ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, breed: e.target.value }))\n                }\n                placeholder={language === 'english' ? 'Breed' : 'ਨਸਲ'}\n                style={{ padding: '0.5rem' }}\n              />\n              <input\n                value={form.tagNo ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, tagNo: e.target.value }))\n                }\n                placeholder={language === 'english' ? 'Tag No.' : 'ਟੈਗ ਨੰਬਰ'}\n                style={{ padding: '0.5rem' }}\n              />\n            </div>\n\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '0.5rem',\n              }}\n            >\n              <input\n                value={form.birthDate ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, birthDate: e.target.value }))\n                }\n                type=\"date\"\n                style={{ padding: '0.5rem' }}\n              />\n              <input\n                value={form.motherCode ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, motherCode: e.target.value }))\n                }\n                placeholder={language === 'english' ? 'Mother Code' : 'ਮਾਂ ਕੋਡ'}\n                style={{ padding: '0.5rem' }}\n              />\n            </div>\n\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '0.5rem',\n              }}\n            >\n              <input\n                value={form.fatherName ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, fatherName: e.target.value }))\n                }\n                placeholder={\n                  language === 'english' ? 'Father Name' : 'ਪਿਤਾ ਨਾਮ'\n                }\n                style={{ padding: '0.5rem' }}\n              />\n              <input\n                value={form.lactation ? String(form.lactation) : ''}\n                onChange={(e) =>\n                  setForm((p) => ({\n                    ...p,\n                    lactation:\n                      e.target.value === ''\n                        ? undefined\n                        : parseInt(e.target.value),\n                  }))\n                }\n                type=\"number\"\n                min={1}\n                placeholder={language === 'english' ? 'Lactation' : 'ਦੁੱਧ'}\n                style={{ padding: '0.5rem' }}\n              />\n            </div>\n\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '0.5rem',\n              }}\n            >\n              <input\n                value={form.aiLastCheckup ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, aiLastCheckup: e.target.value }))\n                }\n                type=\"date\"\n                style={{ padding: '0.5rem' }}\n              />\n              <input\n                value={form.heatCycle ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, heatCycle: e.target.value }))\n                }\n                placeholder={\n                  language === 'english' ? 'Heat Cycle' : 'ਗਰਮੀ ਚੱਕਰ'\n                }\n                style={{ padding: '0.5rem' }}\n              />\n            </div>\n\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '0.5rem',\n              }}\n            >\n              <input\n                value={form.deworming ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, deworming: e.target.value }))\n                }\n                type=\"date\"\n                style={{ padding: '0.5rem' }}\n              />\n              <input\n                value={form.semenDetail ?? ''}\n                onChange={(e) =>\n                  setForm((p) => ({ ...p, semenDetail: e.target.value }))\n                }\n                placeholder={\n                  language === 'english' ? 'Semen Detail' : 'ਵੀਰਜ ਵੇਰਵਾ'\n                }\n                style={{ padding: '0.5rem' }}\n              />\n            </div>\n\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'flex-end',\n                gap: '0.5rem',\n                marginTop: '0.5rem',\n              }}\n            >\n              <button\n                type=\"button\"\n                onClick={onClose}\n                style={{ padding: '0.5rem 1rem' }}\n              >\n                {language === 'english' ? 'Cancel' : 'ਰੱਦ ਕਰੋ'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  if (!record) return;\n                  const updates: Partial<CattleRecord> = {\n                    breed: form.breed ?? record.breed,\n                    tagNo: form.tagNo ?? record.tagNo,\n                    birthDate: form.birthDate ?? record.birthDate,\n                    motherCode: form.motherCode ?? record.motherCode,\n                    fatherName: form.fatherName ?? record.fatherName,\n                    lactation:\n                      typeof form.lactation === 'number'\n                        ? form.lactation\n                        : form.lactation\n                          ? parseInt(String(form.lactation))\n                          : record.lactation,\n                    aiLastCheckup: form.aiLastCheckup ?? record.aiLastCheckup,\n                    heatCycle: form.heatCycle ?? record.heatCycle,\n                    deworming: form.deworming ?? record.deworming,\n                    semenDetail: form.semenDetail ?? record.semenDetail,\n                  };\n                  onSave(updates);\n                }}\n                style={{\n                  padding: '0.5rem 1rem',\n                  background: 'var(--accent)',\n                  color: 'white',\n                  border: 'none',\n                }}\n              >\n                {language === 'english' ? 'Save' : 'ਸੇਵ'}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["EditRecordModal","visible","record","language","onClose","onSave","form","setForm","useState","useEffect","div","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","onClick","padding","borderRadius","maxWidth","width","e","stopPropagation","h3","margin","gap","gridTemplateColumns","input","value","breed","onChange","p","target","placeholder","tagNo","birthDate","type","motherCode","fatherName","lactation","String","undefined","parseInt","min","aiLastCheckup","heatCycle","deworming","semenDetail","marginTop","button","updates","color","border"],"mappings":"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"}