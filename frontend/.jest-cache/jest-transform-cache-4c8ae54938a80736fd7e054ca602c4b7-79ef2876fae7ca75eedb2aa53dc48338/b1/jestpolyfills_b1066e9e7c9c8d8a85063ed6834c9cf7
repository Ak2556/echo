c4005b14f1728f43fff40d6b3825460d
// Polyfills for Jest test environment
// TextEncoder/TextDecoder polyfill
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _util = require("util");
global.TextEncoder = _util.TextEncoder;
global.TextDecoder = _util.TextDecoder;
// Blob polyfill for file handling tests
global.Blob = class Blob {
    constructor(parts, options){
        this.parts = parts || [];
        this.type = options?.type || '';
        this.size = this.parts.join('').length;
    }
    text() {
        return Promise.resolve(this.parts.join(''));
    }
    arrayBuffer() {
        const text = this.parts.join('');
        const buffer = new ArrayBuffer(text.length);
        const view = new Uint8Array(buffer);
        for(let i = 0; i < text.length; i++){
            view[i] = text.charCodeAt(i);
        }
        return Promise.resolve(buffer);
    }
};
// File polyfill for upload tests
global.File = class File extends global.Blob {
    constructor(parts, name, options){
        super(parts, options);
        this.name = name;
        this.lastModified = options?.lastModified || Date.now();
    }
};
// URL polyfill
global.URL = class URL {
    constructor(url){
        this.href = url;
        this.origin = 'http://localhost:3000';
        this.protocol = 'http:';
        this.host = 'localhost:3000';
        this.hostname = 'localhost';
        this.port = '3000';
        this.pathname = '/';
        this.search = '';
        this.hash = '';
    }
    toString() {
        return this.href;
    }
    static createObjectURL() {
        return 'blob:mock-url';
    }
    static revokeObjectURL() {
    // Mock implementation
    }
};
// DOMRect polyfill for getBoundingClientRect
global.DOMRect = class DOMRect {
    constructor(x = 0, y = 0, width = 0, height = 0){
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.top = y;
        this.left = x;
        this.bottom = y + height;
        this.right = x + width;
    }
    static fromRect(other) {
        return new DOMRect(other.x, other.y, other.width, other.height);
    }
    toJSON() {
        return JSON.stringify(this);
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2VjaG8vZWNoby9mcm9udGVuZC9qZXN0LnBvbHlmaWxscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQb2x5ZmlsbHMgZm9yIEplc3QgdGVzdCBlbnZpcm9ubWVudFxuXG4vLyBUZXh0RW5jb2Rlci9UZXh0RGVjb2RlciBwb2x5ZmlsbFxuaW1wb3J0IHsgVGV4dEVuY29kZXIsIFRleHREZWNvZGVyIH0gZnJvbSAndXRpbCc7XG5cbmdsb2JhbC5UZXh0RW5jb2RlciA9IFRleHRFbmNvZGVyO1xuZ2xvYmFsLlRleHREZWNvZGVyID0gVGV4dERlY29kZXI7XG5cbi8vIEJsb2IgcG9seWZpbGwgZm9yIGZpbGUgaGFuZGxpbmcgdGVzdHNcbmdsb2JhbC5CbG9iID0gY2xhc3MgQmxvYiB7XG4gIGNvbnN0cnVjdG9yKHBhcnRzLCBvcHRpb25zKSB7XG4gICAgdGhpcy5wYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICAgIHRoaXMudHlwZSA9IG9wdGlvbnM/LnR5cGUgfHwgJyc7XG4gICAgdGhpcy5zaXplID0gdGhpcy5wYXJ0cy5qb2luKCcnKS5sZW5ndGg7XG4gIH1cblxuICB0ZXh0KCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5wYXJ0cy5qb2luKCcnKSk7XG4gIH1cblxuICBhcnJheUJ1ZmZlcigpIHtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5wYXJ0cy5qb2luKCcnKTtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGV4dC5sZW5ndGgpO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgdmlld1tpXSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShidWZmZXIpO1xuICB9XG59O1xuXG4vLyBGaWxlIHBvbHlmaWxsIGZvciB1cGxvYWQgdGVzdHNcbmdsb2JhbC5GaWxlID0gY2xhc3MgRmlsZSBleHRlbmRzIGdsb2JhbC5CbG9iIHtcbiAgY29uc3RydWN0b3IocGFydHMsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihwYXJ0cywgb3B0aW9ucyk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmxhc3RNb2RpZmllZCA9IG9wdGlvbnM/Lmxhc3RNb2RpZmllZCB8fCBEYXRlLm5vdygpO1xuICB9XG59O1xuXG4vLyBVUkwgcG9seWZpbGxcbmdsb2JhbC5VUkwgPSBjbGFzcyBVUkwge1xuICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICB0aGlzLmhyZWYgPSB1cmw7XG4gICAgdGhpcy5vcmlnaW4gPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwJztcbiAgICB0aGlzLnByb3RvY29sID0gJ2h0dHA6JztcbiAgICB0aGlzLmhvc3QgPSAnbG9jYWxob3N0OjMwMDAnO1xuICAgIHRoaXMuaG9zdG5hbWUgPSAnbG9jYWxob3N0JztcbiAgICB0aGlzLnBvcnQgPSAnMzAwMCc7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMuaGFzaCA9ICcnO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaHJlZjtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVPYmplY3RVUkwoKSB7XG4gICAgcmV0dXJuICdibG9iOm1vY2stdXJsJztcbiAgfVxuXG4gIHN0YXRpYyByZXZva2VPYmplY3RVUkwoKSB7XG4gICAgLy8gTW9jayBpbXBsZW1lbnRhdGlvblxuICB9XG59O1xuXG4vLyBET01SZWN0IHBvbHlmaWxsIGZvciBnZXRCb3VuZGluZ0NsaWVudFJlY3Rcbmdsb2JhbC5ET01SZWN0ID0gY2xhc3MgRE9NUmVjdCB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnRvcCA9IHk7XG4gICAgdGhpcy5sZWZ0ID0geDtcbiAgICB0aGlzLmJvdHRvbSA9IHkgKyBoZWlnaHQ7XG4gICAgdGhpcy5yaWdodCA9IHggKyB3aWR0aDtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tUmVjdChvdGhlcikge1xuICAgIHJldHVybiBuZXcgRE9NUmVjdChvdGhlci54LCBvdGhlci55LCBvdGhlci53aWR0aCwgb3RoZXIuaGVpZ2h0KTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiZ2xvYmFsIiwiVGV4dEVuY29kZXIiLCJUZXh0RGVjb2RlciIsIkJsb2IiLCJwYXJ0cyIsIm9wdGlvbnMiLCJ0eXBlIiwic2l6ZSIsImpvaW4iLCJsZW5ndGgiLCJ0ZXh0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJhcnJheUJ1ZmZlciIsImJ1ZmZlciIsIkFycmF5QnVmZmVyIiwidmlldyIsIlVpbnQ4QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIkZpbGUiLCJuYW1lIiwibGFzdE1vZGlmaWVkIiwiRGF0ZSIsIm5vdyIsIlVSTCIsInVybCIsImhyZWYiLCJvcmlnaW4iLCJwcm90b2NvbCIsImhvc3QiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJ0b1N0cmluZyIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkRPTVJlY3QiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiZnJvbVJlY3QiLCJvdGhlciIsInRvSlNPTiIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUV0QyxtQ0FBbUM7Ozs7O3NCQUNNO0FBRXpDQSxPQUFPQyxXQUFXLEdBQUdB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