b09627327af06d6ae25df46f55cc5d06
/**
 * Social Media Flow Integration Tests
 * End-to-end testing of social media functionality workflows
 */ "use strict";
// Mock framer-motion
jest.mock('framer-motion', ()=>({
        motion: {
            div: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    ...props,
                    children: children
                }),
            button: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    ...props,
                    children: children
                })
        },
        AnimatePresence: ({ children })=>children
    }));
// Mock Next.js Image
jest.mock('next/image', ()=>({
        __esModule: true,
        default: ({ src, alt, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
                src: src,
                alt: alt,
                ...props
            })
    }));
// Mock useResponsive hook
jest.mock('@/hooks/useResponsive', ()=>({
        useResponsive: ()=>({
                isMobile: false,
                isTablet: false,
                isDesktop: true,
                breakpoint: 'lg'
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _testutils = require("../setup/test-utils");
const _SocialMediaHub = /*#__PURE__*/ _interop_require_default(require("../../components/SocialMediaHub"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Social Media Flow Integration Tests', ()=>{
    const user = (0, _testutils.setupUserEvent)();
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Complete Post Creation Flow', ()=>{
        it('allows user to create and publish a post', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Start post creation
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            // Enter post content
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, 'This is my test post! #testing #socialmedia');
            // Verify post button is enabled
            const postButton = _react1.screen.getByRole('button', {
                name: /post/i
            });
            expect(postButton).toBeEnabled();
            // Publish the post
            await user.click(postButton);
            // Verify post creation interface is closed
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("What's on your mind?")).toBeInTheDocument();
                expect(_react1.screen.queryByPlaceholderText("What's happening?")).not.toBeInTheDocument();
            });
        });
        it('allows user to cancel post creation', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Start post creation
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            // Enter some content
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, 'This post will be cancelled');
            // Cancel the post
            const cancelButton = _react1.screen.getByRole('button', {
                name: /cancel/i
            });
            await user.click(cancelButton);
            // Verify interface is reset
            expect(_react1.screen.getByText("What's on your mind?")).toBeInTheDocument();
            expect(_react1.screen.queryByPlaceholderText("What's happening?")).not.toBeInTheDocument();
        });
        it('prevents posting empty content', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Start post creation
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            // Try to post without content
            const postButton = _react1.screen.getByRole('button', {
                name: /post/i
            });
            expect(postButton).toBeDisabled();
            // Add content and verify button becomes enabled
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, 'Now there is content');
            expect(postButton).toBeEnabled();
            // Clear content and verify button becomes disabled again
            await user.clear(textarea);
            expect(postButton).toBeDisabled();
        });
    });
    describe('Post Interaction Flow', ()=>{
        it('allows user to like and unlike posts', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Find the first like button (should be unliked initially)
            const likeButtons = _react1.screen.getAllByText('ðŸ¤');
            const firstLikeButton = likeButtons[0];
            // Like the post
            await user.click(firstLikeButton);
            // Verify post is now liked - there might be multiple hearts
            await (0, _react1.waitFor)(()=>{
                const hearts = _react1.screen.queryAllByText('â¤ï¸');
                expect(hearts.length).toBeGreaterThan(0);
            });
            // Unlike the post
            const likedButtons = _react1.screen.queryAllByText('â¤ï¸');
            if (likedButtons.length > 0) {
                await user.click(likedButtons[0]);
            }
            // Verify post is now unliked
            await (0, _react1.waitFor)(()=>{
                const emptyHearts = _react1.screen.queryAllByText('ðŸ¤');
                expect(emptyHearts.length).toBeGreaterThan(0);
            });
        });
        it('allows user to bookmark and unbookmark posts', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Find the first bookmark button
            const bookmarkButtons = _react1.screen.getAllByText('ðŸ“‘');
            const firstBookmarkButton = bookmarkButtons[0];
            // Bookmark the post
            await user.click(firstBookmarkButton);
            // Verify post is now bookmarked - there might be multiple bookmarks
            await (0, _react1.waitFor)(()=>{
                const bookmarkedIcons = _react1.screen.queryAllByText('ðŸ”–');
                expect(bookmarkedIcons.length).toBeGreaterThan(0);
            });
            // Unbookmark the post
            const bookmarkedButtons = _react1.screen.queryAllByText('ðŸ”–');
            if (bookmarkedButtons.length > 0) {
                await user.click(bookmarkedButtons[0]);
            }
            // Verify post is now unbookmarked
            await (0, _react1.waitFor)(()=>{
                const unbookmarkedIcons = _react1.screen.queryAllByText('ðŸ“‘');
                expect(unbookmarkedIcons.length).toBeGreaterThan(0);
            });
        });
        it('shows poll interaction correctly', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Find the poll question
            const pollQuestion = _react1.screen.getByText("What's your favorite frontend framework?");
            expect(pollQuestion).toBeInTheDocument();
            // Find poll options - there might be multiple matches for common words like "React"
            const allText = _react1.screen.queryAllByText(/^React$/);
            const vueOptions = _react1.screen.queryAllByText(/^Vue$/);
            const angularOptions = _react1.screen.queryAllByText(/^Angular$/);
            const svelteOptions = _react1.screen.queryAllByText(/^Svelte$/);
            expect(allText.length).toBeGreaterThan(0);
            expect(vueOptions.length).toBeGreaterThan(0);
            expect(angularOptions.length).toBeGreaterThan(0);
            expect(svelteOptions.length).toBeGreaterThan(0);
            // Verify poll shows percentages
            const percentages = _react1.screen.queryAllByText(/51\.9%|23\.8%/);
            expect(percentages.length).toBeGreaterThan(0);
        });
    });
    describe('Navigation Flow', ()=>{
        it('component no longer has internal navigation', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Internal navigation has been removed - component only shows feed
            expect(_react1.screen.queryByRole('button', {
                name: /stories/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole('button', {
                name: /messages/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole('button', {
                name: /explore/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole('button', {
                name: /profile/i
            })).not.toBeInTheDocument();
            // Feed content should be rendered
            expect(_react1.screen.getByText(/Just finished this amazing digital artwork/)).toBeInTheDocument();
        });
        it('always renders feed content', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component now only displays feed, no active tab state
            expect(_react1.screen.getByRole('main')).toBeInTheDocument();
            expect(_react1.screen.getByText(/Just finished this amazing digital artwork/)).toBeInTheDocument();
        });
    });
    describe('Messaging Flow', ()=>{
        it('does not have messaging interface in this component', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Messaging has been removed from this component
            expect(_react1.screen.queryByText('ðŸ’¬ Messages')).not.toBeInTheDocument();
            expect(_react1.screen.queryByText('Select a conversation')).not.toBeInTheDocument();
            expect(_react1.screen.queryByPlaceholderText('Type a message...')).not.toBeInTheDocument();
        });
    });
    describe('Stories Flow', ()=>{
        it('does not have stories interface in this component', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Stories have been removed from this component
            expect(_react1.screen.queryByText('ðŸ“¸ Stories')).not.toBeInTheDocument();
        });
    });
    describe('Explore Flow', ()=>{
        it('does not have explore interface in this component', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Explore has been removed from this component
            expect(_react1.screen.queryByText('ðŸ” Explore')).not.toBeInTheDocument();
            expect(_react1.screen.queryByText('ðŸ”¥ Trending Topics')).not.toBeInTheDocument();
            expect(_react1.screen.queryByText('â­ Popular Creators')).not.toBeInTheDocument();
        });
    });
    describe('Profile Flow', ()=>{
        it('does not have profile interface in this component', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Profile has been removed from this component
            expect(_react1.screen.queryByText('ðŸ‘¤ Profile')).not.toBeInTheDocument();
            expect(_react1.screen.queryByText('Edit Profile')).not.toBeInTheDocument();
        });
    });
    describe('Cross-Tab State Management', ()=>{
        it('maintains post creation state correctly', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Create a post
            const createPostButton = _react1.screen.getByText("What's on your mind?");
            await user.click(createPostButton);
            const textarea = _react1.screen.getByPlaceholderText("What's happening?");
            await user.type(textarea, 'Test post content');
            // State should be maintained in the component
            expect(textarea).toHaveValue('Test post content');
        });
    });
    describe('Error Handling and Edge Cases', ()=>{
        it('renders without crashing', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component should render successfully
            expect(_react1.screen.getByRole('main')).toBeInTheDocument();
        });
        it('handles empty states gracefully', ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component should render even without data
            expect(_react1.screen.getByRole('main')).toBeInTheDocument();
            expect(_react1.screen.getByText("What's on your mind?")).toBeInTheDocument();
        });
    });
    describe('Performance and Responsiveness', ()=>{
        it('renders within acceptable time', ()=>{
            const startTime = performance.now();
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const endTime = performance.now();
            // Should render in reasonable time
            expect(endTime - startTime).toBeLessThan(200); // 200ms
        });
        it('handles rapid user interactions', async ()=>{
            (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Simulate rapid button clicks
            const buttons = _react1.screen.queryAllByRole('button');
            if (buttons.length > 0) {
                for(let i = 0; i < Math.min(5, buttons.length); i++){
                    await user.click(buttons[i]);
                }
            }
            // Should handle all interactions without errors
            expect(_react1.screen.getByRole('main')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2VjaG8vZWNoby9mcm9udGVuZC9zcmMvX190ZXN0c19fL2ludGVncmF0aW9uL1NvY2lhbE1lZGlhRmxvdy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvY2lhbCBNZWRpYSBGbG93IEludGVncmF0aW9uIFRlc3RzXG4gKiBFbmQtdG8tZW5kIHRlc3Rpbmcgb2Ygc29jaWFsIG1lZGlhIGZ1bmN0aW9uYWxpdHkgd29ya2Zsb3dzXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNjcmVlbiwgd2FpdEZvciwgd2l0aGluIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQge1xuICByZW5kZXIsXG4gIHNldHVwVXNlckV2ZW50LFxuICBjcmVhdGVUZXN0RGF0YSxcbn0gZnJvbSAnQC9fX3Rlc3RzX18vc2V0dXAvdGVzdC11dGlscyc7XG5pbXBvcnQgU29jaWFsTWVkaWFIdWIgZnJvbSAnQC9jb21wb25lbnRzL1NvY2lhbE1lZGlhSHViJztcblxuLy8gTW9jayBmcmFtZXItbW90aW9uXG5qZXN0Lm1vY2soJ2ZyYW1lci1tb3Rpb24nLCAoKSA9PiAoe1xuICBtb3Rpb246IHtcbiAgICBkaXY6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9OiBhbnkpID0+IDxkaXYgey4uLnByb3BzfT57Y2hpbGRyZW59PC9kaXY+LFxuICAgIGJ1dHRvbjogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IGFueSkgPT4gKFxuICAgICAgPGJ1dHRvbiB7Li4ucHJvcHN9PntjaGlsZHJlbn08L2J1dHRvbj5cbiAgICApLFxuICB9LFxuICBBbmltYXRlUHJlc2VuY2U6ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gY2hpbGRyZW4sXG59KSk7XG5cbi8vIE1vY2sgTmV4dC5qcyBJbWFnZVxuamVzdC5tb2NrKCduZXh0L2ltYWdlJywgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogKHsgc3JjLCBhbHQsIC4uLnByb3BzIH06IGFueSkgPT4gKFxuICAgIDxpbWcgc3JjPXtzcmN9IGFsdD17YWx0fSB7Li4ucHJvcHN9IC8+XG4gICksXG59KSk7XG5cbi8vIE1vY2sgdXNlUmVzcG9uc2l2ZSBob29rXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlUmVzcG9uc2l2ZScsICgpID0+ICh7XG4gIHVzZVJlc3BvbnNpdmU6ICgpID0+ICh7XG4gICAgaXNNb2JpbGU6IGZhbHNlLFxuICAgIGlzVGFibGV0OiBmYWxzZSxcbiAgICBpc0Rlc2t0b3A6IHRydWUsXG4gICAgYnJlYWtwb2ludDogJ2xnJyxcbiAgfSksXG59KSk7XG5cbmRlc2NyaWJlKCdTb2NpYWwgTWVkaWEgRmxvdyBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgY29uc3QgdXNlciA9IHNldHVwVXNlckV2ZW50KCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wbGV0ZSBQb3N0IENyZWF0aW9uIEZsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ2FsbG93cyB1c2VyIHRvIGNyZWF0ZSBhbmQgcHVibGlzaCBhIHBvc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gU3RhcnQgcG9zdCBjcmVhdGlvblxuICAgICAgY29uc3QgY3JlYXRlUG9zdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoXCJXaGF0J3Mgb24geW91ciBtaW5kP1wiKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY3JlYXRlUG9zdEJ1dHRvbik7XG5cbiAgICAgIC8vIEVudGVyIHBvc3QgY29udGVudFxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJXaGF0J3MgaGFwcGVuaW5nP1wiKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZSh0ZXh0YXJlYSwgJ1RoaXMgaXMgbXkgdGVzdCBwb3N0ISAjdGVzdGluZyAjc29jaWFsbWVkaWEnKTtcblxuICAgICAgLy8gVmVyaWZ5IHBvc3QgYnV0dG9uIGlzIGVuYWJsZWRcbiAgICAgIGNvbnN0IHBvc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wb3N0L2kgfSk7XG4gICAgICBleHBlY3QocG9zdEJ1dHRvbikudG9CZUVuYWJsZWQoKTtcblxuICAgICAgLy8gUHVibGlzaCB0aGUgcG9zdFxuICAgICAgYXdhaXQgdXNlci5jbGljayhwb3N0QnV0dG9uKTtcblxuICAgICAgLy8gVmVyaWZ5IHBvc3QgY3JlYXRpb24gaW50ZXJmYWNlIGlzIGNsb3NlZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiV2hhdCdzIG9uIHlvdXIgbWluZD9cIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChcbiAgICAgICAgICBzY3JlZW4ucXVlcnlCeVBsYWNlaG9sZGVyVGV4dChcIldoYXQncyBoYXBwZW5pbmc/XCIpXG4gICAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdhbGxvd3MgdXNlciB0byBjYW5jZWwgcG9zdCBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBTdGFydCBwb3N0IGNyZWF0aW9uXG4gICAgICBjb25zdCBjcmVhdGVQb3N0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dChcIldoYXQncyBvbiB5b3VyIG1pbmQ/XCIpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhjcmVhdGVQb3N0QnV0dG9uKTtcblxuICAgICAgLy8gRW50ZXIgc29tZSBjb250ZW50XG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dChcIldoYXQncyBoYXBwZW5pbmc/XCIpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHRleHRhcmVhLCAnVGhpcyBwb3N0IHdpbGwgYmUgY2FuY2VsbGVkJyk7XG5cbiAgICAgIC8vIENhbmNlbCB0aGUgcG9zdFxuICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2FuY2VsL2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNhbmNlbEJ1dHRvbik7XG5cbiAgICAgIC8vIFZlcmlmeSBpbnRlcmZhY2UgaXMgcmVzZXRcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiV2hhdCdzIG9uIHlvdXIgbWluZD9cIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIHNjcmVlbi5xdWVyeUJ5UGxhY2Vob2xkZXJUZXh0KFwiV2hhdCdzIGhhcHBlbmluZz9cIilcbiAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgncHJldmVudHMgcG9zdGluZyBlbXB0eSBjb250ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIFN0YXJ0IHBvc3QgY3JlYXRpb25cbiAgICAgIGNvbnN0IGNyZWF0ZVBvc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KFwiV2hhdCdzIG9uIHlvdXIgbWluZD9cIik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNyZWF0ZVBvc3RCdXR0b24pO1xuXG4gICAgICAvLyBUcnkgdG8gcG9zdCB3aXRob3V0IGNvbnRlbnRcbiAgICAgIGNvbnN0IHBvc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wb3N0L2kgfSk7XG4gICAgICBleHBlY3QocG9zdEJ1dHRvbikudG9CZURpc2FibGVkKCk7XG5cbiAgICAgIC8vIEFkZCBjb250ZW50IGFuZCB2ZXJpZnkgYnV0dG9uIGJlY29tZXMgZW5hYmxlZFxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJXaGF0J3MgaGFwcGVuaW5nP1wiKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZSh0ZXh0YXJlYSwgJ05vdyB0aGVyZSBpcyBjb250ZW50Jyk7XG4gICAgICBleHBlY3QocG9zdEJ1dHRvbikudG9CZUVuYWJsZWQoKTtcblxuICAgICAgLy8gQ2xlYXIgY29udGVudCBhbmQgdmVyaWZ5IGJ1dHRvbiBiZWNvbWVzIGRpc2FibGVkIGFnYWluXG4gICAgICBhd2FpdCB1c2VyLmNsZWFyKHRleHRhcmVhKTtcbiAgICAgIGV4cGVjdChwb3N0QnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Bvc3QgSW50ZXJhY3Rpb24gRmxvdycsICgpID0+IHtcbiAgICBpdCgnYWxsb3dzIHVzZXIgdG8gbGlrZSBhbmQgdW5saWtlIHBvc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGxpa2UgYnV0dG9uIChzaG91bGQgYmUgdW5saWtlZCBpbml0aWFsbHkpXG4gICAgICBjb25zdCBsaWtlQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ/CfpI0nKTtcbiAgICAgIGNvbnN0IGZpcnN0TGlrZUJ1dHRvbiA9IGxpa2VCdXR0b25zWzBdO1xuXG4gICAgICAvLyBMaWtlIHRoZSBwb3N0XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGZpcnN0TGlrZUJ1dHRvbik7XG5cbiAgICAgIC8vIFZlcmlmeSBwb3N0IGlzIG5vdyBsaWtlZCAtIHRoZXJlIG1pZ2h0IGJlIG11bHRpcGxlIGhlYXJ0c1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhlYXJ0cyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgn4p2k77iPJyk7XG4gICAgICAgIGV4cGVjdChoZWFydHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVW5saWtlIHRoZSBwb3N0XG4gICAgICBjb25zdCBsaWtlZEJ1dHRvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoJ+KdpO+4jycpO1xuICAgICAgaWYgKGxpa2VkQnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2sobGlrZWRCdXR0b25zWzBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IHBvc3QgaXMgbm93IHVubGlrZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbXB0eUhlYXJ0cyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgn8J+kjScpO1xuICAgICAgICBleHBlY3QoZW1wdHlIZWFydHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdhbGxvd3MgdXNlciB0byBib29rbWFyayBhbmQgdW5ib29rbWFyayBwb3N0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBib29rbWFyayBidXR0b25cbiAgICAgIGNvbnN0IGJvb2ttYXJrQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ/Cfk5EnKTtcbiAgICAgIGNvbnN0IGZpcnN0Qm9va21hcmtCdXR0b24gPSBib29rbWFya0J1dHRvbnNbMF07XG5cbiAgICAgIC8vIEJvb2ttYXJrIHRoZSBwb3N0XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGZpcnN0Qm9va21hcmtCdXR0b24pO1xuXG4gICAgICAvLyBWZXJpZnkgcG9zdCBpcyBub3cgYm9va21hcmtlZCAtIHRoZXJlIG1pZ2h0IGJlIG11bHRpcGxlIGJvb2ttYXJrc1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvb2ttYXJrZWRJY29ucyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgn8J+UlicpO1xuICAgICAgICBleHBlY3QoYm9va21hcmtlZEljb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFVuYm9va21hcmsgdGhlIHBvc3RcbiAgICAgIGNvbnN0IGJvb2ttYXJrZWRCdXR0b25zID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KCfwn5SWJyk7XG4gICAgICBpZiAoYm9va21hcmtlZEJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKGJvb2ttYXJrZWRCdXR0b25zWzBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IHBvc3QgaXMgbm93IHVuYm9va21hcmtlZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuYm9va21hcmtlZEljb25zID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KCfwn5ORJyk7XG4gICAgICAgIGV4cGVjdCh1bmJvb2ttYXJrZWRJY29ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3dzIHBvbGwgaW50ZXJhY3Rpb24gY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIEZpbmQgdGhlIHBvbGwgcXVlc3Rpb25cbiAgICAgIGNvbnN0IHBvbGxRdWVzdGlvbiA9IHNjcmVlbi5nZXRCeVRleHQoXG4gICAgICAgIFwiV2hhdCdzIHlvdXIgZmF2b3JpdGUgZnJvbnRlbmQgZnJhbWV3b3JrP1wiXG4gICAgICApO1xuICAgICAgZXhwZWN0KHBvbGxRdWVzdGlvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gRmluZCBwb2xsIG9wdGlvbnMgLSB0aGVyZSBtaWdodCBiZSBtdWx0aXBsZSBtYXRjaGVzIGZvciBjb21tb24gd29yZHMgbGlrZSBcIlJlYWN0XCJcbiAgICAgIGNvbnN0IGFsbFRleHQgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoL15SZWFjdCQvKTtcbiAgICAgIGNvbnN0IHZ1ZU9wdGlvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVRleHQoL15WdWUkLyk7XG4gICAgICBjb25zdCBhbmd1bGFyT3B0aW9ucyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgvXkFuZ3VsYXIkLyk7XG4gICAgICBjb25zdCBzdmVsdGVPcHRpb25zID0gc2NyZWVuLnF1ZXJ5QWxsQnlUZXh0KC9eU3ZlbHRlJC8pO1xuXG4gICAgICBleHBlY3QoYWxsVGV4dC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdCh2dWVPcHRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KGFuZ3VsYXJPcHRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHN2ZWx0ZU9wdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIFZlcmlmeSBwb2xsIHNob3dzIHBlcmNlbnRhZ2VzXG4gICAgICBjb25zdCBwZXJjZW50YWdlcyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgvNTFcXC45JXwyM1xcLjglLyk7XG4gICAgICBleHBlY3QocGVyY2VudGFnZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdOYXZpZ2F0aW9uIEZsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ2NvbXBvbmVudCBubyBsb25nZXIgaGFzIGludGVybmFsIG5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gSW50ZXJuYWwgbmF2aWdhdGlvbiBoYXMgYmVlbiByZW1vdmVkIC0gY29tcG9uZW50IG9ubHkgc2hvd3MgZmVlZFxuICAgICAgZXhwZWN0KFxuICAgICAgICBzY3JlZW4ucXVlcnlCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3N0b3JpZXMvaSB9KVxuICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLnF1ZXJ5QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tZXNzYWdlcy9pIH0pXG4gICAgICApLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBzY3JlZW4ucXVlcnlCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2V4cGxvcmUvaSB9KVxuICAgICAgKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLnF1ZXJ5QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcm9maWxlL2kgfSlcbiAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIEZlZWQgY29udGVudCBzaG91bGQgYmUgcmVuZGVyZWRcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2NyZWVuLmdldEJ5VGV4dCgvSnVzdCBmaW5pc2hlZCB0aGlzIGFtYXppbmcgZGlnaXRhbCBhcnR3b3JrLylcbiAgICAgICkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdhbHdheXMgcmVuZGVycyBmZWVkIGNvbnRlbnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gQ29tcG9uZW50IG5vdyBvbmx5IGRpc3BsYXlzIGZlZWQsIG5vIGFjdGl2ZSB0YWIgc3RhdGVcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIHNjcmVlbi5nZXRCeVRleHQoL0p1c3QgZmluaXNoZWQgdGhpcyBhbWF6aW5nIGRpZ2l0YWwgYXJ0d29yay8pXG4gICAgICApLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZXNzYWdpbmcgRmxvdycsICgpID0+IHtcbiAgICBpdCgnZG9lcyBub3QgaGF2ZSBtZXNzYWdpbmcgaW50ZXJmYWNlIGluIHRoaXMgY29tcG9uZW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIE1lc3NhZ2luZyBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyBjb21wb25lbnRcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ/CfkqwgTWVzc2FnZXMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIHNjcmVlbi5xdWVyeUJ5VGV4dCgnU2VsZWN0IGEgY29udmVyc2F0aW9uJylcbiAgICAgICkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIHNjcmVlbi5xdWVyeUJ5UGxhY2Vob2xkZXJUZXh0KCdUeXBlIGEgbWVzc2FnZS4uLicpXG4gICAgICApLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3RvcmllcyBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdkb2VzIG5vdCBoYXZlIHN0b3JpZXMgaW50ZXJmYWNlIGluIHRoaXMgY29tcG9uZW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIFN0b3JpZXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGlzIGNvbXBvbmVudFxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgn8J+TuCBTdG9yaWVzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXhwbG9yZSBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdkb2VzIG5vdCBoYXZlIGV4cGxvcmUgaW50ZXJmYWNlIGluIHRoaXMgY29tcG9uZW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIEV4cGxvcmUgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCfwn5SNIEV4cGxvcmUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCfwn5SlIFRyZW5kaW5nIFRvcGljcycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ+KtkCBQb3B1bGFyIENyZWF0b3JzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJvZmlsZSBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdkb2VzIG5vdCBoYXZlIHByb2ZpbGUgaW50ZXJmYWNlIGluIHRoaXMgY29tcG9uZW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIFByb2ZpbGUgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCfwn5GkIFByb2ZpbGUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdFZGl0IFByb2ZpbGUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDcm9zcy1UYWIgU3RhdGUgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBpdCgnbWFpbnRhaW5zIHBvc3QgY3JlYXRpb24gc3RhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIENyZWF0ZSBhIHBvc3RcbiAgICAgIGNvbnN0IGNyZWF0ZVBvc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KFwiV2hhdCdzIG9uIHlvdXIgbWluZD9cIik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNyZWF0ZVBvc3RCdXR0b24pO1xuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dChcIldoYXQncyBoYXBwZW5pbmc/XCIpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHRleHRhcmVhLCAnVGVzdCBwb3N0IGNvbnRlbnQnKTtcblxuICAgICAgLy8gU3RhdGUgc2hvdWxkIGJlIG1haW50YWluZWQgaW4gdGhlIGNvbXBvbmVudFxuICAgICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVWYWx1ZSgnVGVzdCBwb3N0IGNvbnRlbnQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nIGFuZCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIHdpdGhvdXQgY3Jhc2hpbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gQ29tcG9uZW50IHNob3VsZCByZW5kZXIgc3VjY2Vzc2Z1bGx5XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnbWFpbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhbmRsZXMgZW1wdHkgc3RhdGVzIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcblxuICAgICAgLy8gQ29tcG9uZW50IHNob3VsZCByZW5kZXIgZXZlbiB3aXRob3V0IGRhdGFcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIldoYXQncyBvbiB5b3VyIG1pbmQ/XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIFJlc3BvbnNpdmVuZXNzJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIHdpdGhpbiBhY2NlcHRhYmxlIHRpbWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgLy8gU2hvdWxkIHJlbmRlciBpbiByZWFzb25hYmxlIHRpbWVcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMjAwKTsgLy8gMjAwbXNcbiAgICB9KTtcblxuICAgIGl0KCdoYW5kbGVzIHJhcGlkIHVzZXIgaW50ZXJhY3Rpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XG5cbiAgICAgIC8vIFNpbXVsYXRlIHJhcGlkIGJ1dHRvbiBjbGlja3NcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgaWYgKGJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKDUsIGJ1dHRvbnMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgYXdhaXQgdXNlci5jbGljayhidXR0b25zW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIGFsbCBpbnRlcmFjdGlvbnMgd2l0aG91dCBlcnJvcnNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJtb3Rpb24iLCJkaXYiLCJjaGlsZHJlbiIsInByb3BzIiwiYnV0dG9uIiwiQW5pbWF0ZVByZXNlbmNlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJzcmMiLCJhbHQiLCJpbWciLCJ1c2VSZXNwb25zaXZlIiwiaXNNb2JpbGUiLCJpc1RhYmxldCIsImlzRGVza3RvcCIsImJyZWFrcG9pbnQiLCJkZXNjcmliZSIsInVzZXIiLCJzZXR1cFVzZXJFdmVudCIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZW5kZXIiLCJTb2NpYWxNZWRpYUh1YiIsImNyZWF0ZVBvc3RCdXR0b24iLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJjbGljayIsInRleHRhcmVhIiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJ0eXBlIiwicG9zdEJ1dHRvbiIsImdldEJ5Um9sZSIsIm5hbWUiLCJleHBlY3QiLCJ0b0JlRW5hYmxlZCIsIndhaXRGb3IiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInF1ZXJ5QnlQbGFjZWhvbGRlclRleHQiLCJub3QiLCJjYW5jZWxCdXR0b24iLCJ0b0JlRGlzYWJsZWQiLCJjbGVhciIsImxpa2VCdXR0b25zIiwiZ2V0QWxsQnlUZXh0IiwiZmlyc3RMaWtlQnV0dG9uIiwiaGVhcnRzIiwicXVlcnlBbGxCeVRleHQiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJsaWtlZEJ1dHRvbnMiLCJlbXB0eUhlYXJ0cyIsImJvb2ttYXJrQnV0dG9ucyIsImZpcnN0Qm9va21hcmtCdXR0b24iLCJib29rbWFya2VkSWNvbnMiLCJib29rbWFya2VkQnV0dG9ucyIsInVuYm9va21hcmtlZEljb25zIiwicG9sbFF1ZXN0aW9uIiwiYWxsVGV4dCIsInZ1ZU9wdGlvbnMiLCJhbmd1bGFyT3B0aW9ucyIsInN2ZWx0ZU9wdGlvbnMiLCJwZXJjZW50YWdlcyIsInF1ZXJ5QnlSb2xlIiwicXVlcnlCeVRleHQiLCJ0b0hhdmVWYWx1ZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiZW5kVGltZSIsInRvQmVMZXNzVGhhbiIsImJ1dHRvbnMiLCJxdWVyeUFsbEJ5Um9sZSIsImkiLCJNYXRoIiwibWluIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7QUFXRCxxQkFBcUI7QUFDckJBLEtBQUtDLElBQUksQ0FBQyxpQkFBaUIsSUFBTyxDQUFBO1FBQ2hDQyxRQUFRO1lBQ05DLEtBQUssQ0FBQyxFQUFFQyxRQUFRLEVBQUUsR0FBR0MsT0FBWSxpQkFBSyxxQkFBQ0Y7b0JBQUssR0FBR0UsS0FBSzs4QkFBR0Q7O1lBQ3ZERSxRQUFRLENBQUMsRUFBRUYsUUFBUSxFQUFFLEdBQUdDLE9BQVksaUJBQ2xDLHFCQUFDQztvQkFBUSxHQUFHRCxLQUFLOzhCQUFHRDs7UUFFeEI7UUFDQUcsaUJBQWlCLENBQUMsRUFBRUgsUUFBUSxFQUFPLEdBQUtBO0lBQzFDLENBQUE7QUFFQSxxQkFBcUI7QUFDckJKLEtBQUtDLElBQUksQ0FBQyxjQUFjLElBQU8sQ0FBQTtRQUM3Qk8sWUFBWTtRQUNaQyxTQUFTLENBQUMsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR04sT0FBWSxpQkFDbkMscUJBQUNPO2dCQUFJRixLQUFLQTtnQkFBS0MsS0FBS0E7Z0JBQU0sR0FBR04sS0FBSzs7SUFFdEMsQ0FBQTtBQUVBLDBCQUEwQjtBQUMxQkwsS0FBS0MsSUFBSSxDQUFDLHlCQUF5QixJQUFPLENBQUE7UUFDeENZLGVBQWUsSUFBTyxDQUFBO2dCQUNwQkMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsV0FBVztnQkFDWEMsWUFBWTtZQUNkLENBQUE7SUFDRixDQUFBOzs7Ozs4REFwQ2tCO3dCQUNzQjsyQkFLakM7dUVBQ29COzs7Ozs7QUErQjNCQyxTQUFTLHVDQUF1QztJQUM5QyxNQUFNQyxPQUFPQyxJQUFBQSx5QkFBYztJQUUzQkMsV0FBVztRQUNUckIsS0FBS3NCLGFBQWE7SUFDcEI7SUFFQUosU0FBUywrQkFBK0I7UUFDdENLLEdBQUcsNENB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