7962836c144fdd67929229572726c574
/**
 * Component Performance Tests
 * Tests for measuring and ensuring optimal component performance
 */ "use strict";
// Mock framer-motion for performance testing
jest.mock('framer-motion', ()=>({
        motion: {
            div: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    ...props,
                    children: children
                }),
            button: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    ...props,
                    children: children
                })
        },
        AnimatePresence: ({ children })=>children
    }));
// Mock Next.js Image for performance testing
jest.mock('next/image', ()=>({
        __esModule: true,
        default: ({ src, alt, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
                src: src,
                alt: alt,
                ...props
            })
    }));
// Mock useResponsive hook
jest.mock('@/hooks/useResponsive', ()=>({
        useResponsive: ()=>({
                isMobile: false,
                isTablet: false,
                isDesktop: true,
                breakpoint: 'lg'
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _testutils = require("../setup/test-utils");
const _SocialMediaHub = /*#__PURE__*/ _interop_require_default(require("../../components/SocialMediaHub"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Component Performance Tests', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Initial Render Performance', ()=>{
        it('renders SocialMediaHub within acceptable time', async ()=>{
            const renderTime = await (0, _testutils.measurePerformance)(()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            });
            // Should render in under 100ms
            expect(renderTime).toBeLessThan(100);
        });
        it('renders without memory leaks', ()=>{
            const initialMemory = (0, _testutils.measureMemory)();
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Force garbage collection if available
            if (global.gc) {
                global.gc();
            }
            unmount();
            // Force garbage collection again
            if (global.gc) {
                global.gc();
            }
            const finalMemory = (0, _testutils.measureMemory)();
            // Memory usage should not increase significantly
            if (initialMemory && finalMemory) {
                const memoryIncrease = finalMemory.usedJSHeapSize - initialMemory.usedJSHeapSize;
                expect(memoryIncrease).toBeLessThan(1024 * 1024); // Less than 1MB increase
            }
        });
        it('handles large datasets efficiently', async ()=>{
            // Mock large dataset
            const largePosts = Array.from({
                length: 1000
            }, (_, i)=>({
                    id: `post-${i}`,
                    content: `Post content ${i}`,
                    author: {
                        name: `User ${i}`
                    },
                    timestamp: new Date()
                }));
            const renderTime = await (0, _testutils.measurePerformance)(()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            });
            // Should still render efficiently with large datasets
            expect(renderTime).toBeLessThan(200);
        });
    });
    describe('Re-render Performance', ()=>{
        it('minimizes re-renders on prop changes', ()=>{
            let renderCount = 0;
            const TestComponent = ({ data })=>{
                renderCount++;
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {});
            };
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {
                data: {
                    id: 1
                }
            }));
            const initialRenderCount = renderCount;
            // Re-render with same props
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {
                data: {
                    id: 1
                }
            }));
            // Should not cause unnecessary re-renders
            expect(renderCount).toBe(initialRenderCount + 1);
        });
        it('handles rapid state updates efficiently', async ()=>{
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const updateTime = await (0, _testutils.measurePerformance)(async ()=>{
                // Simulate rapid state updates
                for(let i = 0; i < 100; i++){
                    await (0, _react1.act)(async ()=>{
                        rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    });
                }
            });
            // Should handle rapid updates efficiently
            expect(updateTime).toBeLessThan(1000); // Under 1 second for 100 updates
        });
        it('batches multiple state updates', async ()=>{
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const batchTime = await (0, _testutils.measurePerformance)(async ()=>{
                await (0, _react1.act)(async ()=>{
                    // Multiple synchronous updates should be batched
                    rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                });
            });
            // Batched updates should be faster than individual updates
            expect(batchTime).toBeLessThan(50);
        });
    });
    describe('Component Mounting Performance', ()=>{
        it('mounts components efficiently', async ()=>{
            const mountTime = await (0, _testutils.measurePerformance)(()=>{
                const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                unmount();
            });
            // Mount and unmount should be fast
            expect(mountTime).toBeLessThan(50);
        });
        it('handles multiple mount/unmount cycles', async ()=>{
            const cycleTime = await (0, _testutils.measurePerformance)(()=>{
                for(let i = 0; i < 10; i++){
                    const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    unmount();
                }
            });
            // Multiple cycles should be efficient
            expect(cycleTime).toBeLessThan(500);
        });
        it('cleans up resources on unmount', ()=>{
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Component should unmount without errors
            expect(()=>unmount()).not.toThrow();
        });
    });
    describe('Animation Performance', ()=>{
        it('handles animations without blocking main thread', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Simulate animation-heavy interactions
            const animationTime = await (0, _testutils.measurePerformance)(async ()=>{
                // Trigger multiple animations
                const buttons = _react1.screen.getAllByRole('button');
                for (const button of buttons.slice(0, 5)){
                    await (0, _react1.act)(async ()=>{
                        button.focus();
                        button.blur();
                    });
                }
            });
            // Animations should not block significantly
            expect(animationTime).toBeLessThan(200);
        });
        it('respects reduced motion preferences', ()=>{
            // Mock reduced motion preference
            Object.defineProperty(window, 'matchMedia', {
                writable: true,
                value: jest.fn().mockImplementation((query)=>({
                        matches: query === '(prefers-reduced-motion: reduce)',
                        media: query,
                        onchange: null,
                        addListener: jest.fn(),
                        removeListener: jest.fn(),
                        addEventListener: jest.fn(),
                        removeEventListener: jest.fn(),
                        dispatchEvent: jest.fn()
                    }))
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Should render without animations when reduced motion is preferred
            expect(_react1.screen.getByRole('main')).toBeInTheDocument();
        });
    });
    describe('Memory Usage', ()=>{
        it('maintains stable memory usage over time', async ()=>{
            const measurements = [];
            for(let i = 0; i < 10; i++){
                const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                const memory = (0, _testutils.measureMemory)();
                if (memory) {
                    measurements.push(memory.usedJSHeapSize);
                }
                unmount();
                // Force garbage collection if available
                if (global.gc) {
                    global.gc();
                }
                // Wait a bit between measurements
                await new Promise((resolve)=>setTimeout(resolve, 10));
            }
            if (measurements.length > 1) {
                // Memory usage should not grow significantly over time
                const firstMeasurement = measurements[0];
                const lastMeasurement = measurements[measurements.length - 1];
                const growth = lastMeasurement - firstMeasurement;
                expect(growth).toBeLessThan(1024 * 1024); // Less than 1MB growth
            }
        });
        it('handles large component trees efficiently', ()=>{
            const initialMemory = (0, _testutils.measureMemory)();
            // Render multiple instances
            const instances = Array.from({
                length: 5
            }, ()=>(0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {})));
            const peakMemory = (0, _testutils.measureMemory)();
            // Cleanup all instances
            instances.forEach(({ unmount })=>unmount());
            if (global.gc) {
                global.gc();
            }
            const finalMemory = (0, _testutils.measureMemory)();
            if (initialMemory && peakMemory && finalMemory) {
                // Memory should be released after cleanup
                const memoryLeak = finalMemory.usedJSHeapSize - initialMemory.usedJSHeapSize;
                expect(memoryLeak).toBeLessThan(512 * 1024); // Less than 512KB leak
            }
        });
    });
    describe('Event Handling Performance', ()=>{
        it('handles rapid user interactions efficiently', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const interactionTime = await (0, _testutils.measurePerformance)(async ()=>{
                const buttons = _react1.screen.getAllByRole('button');
                // Simulate rapid clicking
                for(let i = 0; i < 50; i++){
                    const randomButton = buttons[Math.floor(Math.random() * buttons.length)];
                    await (0, _react1.act)(async ()=>{
                        randomButton.click();
                    });
                }
            });
            // Should handle rapid interactions efficiently
            expect(interactionTime).toBeLessThan(1000);
        });
        it('debounces expensive operations', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // Mock expensive operation
            const expensiveOperation = jest.fn();
            const debounceTime = await (0, _testutils.measurePerformance)(async ()=>{
                // Trigger multiple rapid events that should be debounced
                for(let i = 0; i < 10; i++){
                    await (0, _react1.act)(async ()=>{
                        // Simulate rapid input changes
                        const inputs = _react1.screen.queryAllByRole('textbox');
                        if (inputs.length > 0) {
                            inputs[0].focus();
                        }
                    });
                }
            });
            // Debounced operations should be efficient
            expect(debounceTime).toBeLessThan(100);
        });
    });
    describe('Bundle Size Impact', ()=>{
        it('has minimal impact on bundle size', ()=>{
            // This is a conceptual test - in real scenarios you'd use bundle analyzers
            // SocialMediaHub is a functional component, so we check it's defined
            expect(_SocialMediaHub.default).toBeDefined();
            expect(typeof _SocialMediaHub.default).toBe('function');
        });
        it('supports code splitting effectively', ()=>{
            // Verify that dynamic imports are used where appropriate
            const componentString = _SocialMediaHub.default.toString();
            // Should not include all dependencies in main bundle
            expect(componentString).toBeDefined();
        });
    });
    describe('Accessibility Performance', ()=>{
        it('maintains performance with accessibility features enabled', async ()=>{
            // Mock accessibility preferences
            Object.defineProperty(window, 'matchMedia', {
                writable: true,
                value: jest.fn().mockImplementation((query)=>({
                        matches: query.includes('prefers-reduced-motion') || query.includes('prefers-contrast'),
                        media: query,
                        onchange: null,
                        addListener: jest.fn(),
                        removeListener: jest.fn(),
                        addEventListener: jest.fn(),
                        removeEventListener: jest.fn(),
                        dispatchEvent: jest.fn()
                    }))
            });
            const renderTime = await (0, _testutils.measurePerformance)(()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            });
            // Should maintain performance with accessibility features
            expect(renderTime).toBeLessThan(150);
        });
        it('handles screen reader interactions efficiently', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const a11yTime = await (0, _testutils.measurePerformance)(async ()=>{
                // Simulate screen reader navigation
                const focusableElements = _react1.screen.getAllByRole('button');
                for (const element of focusableElements.slice(0, 10)){
                    await (0, _react1.act)(async ()=>{
                        element.focus();
                    });
                }
            });
            // Screen reader interactions should be responsive
            expect(a11yTime).toBeLessThan(200);
        });
    });
    describe('Network Performance', ()=>{
        it('handles slow network conditions gracefully', async ()=>{
            // Mock slow fetch
            global.fetch = jest.fn().mockImplementation(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                            ok: true,
                            json: ()=>Promise.resolve({
                                    data: 'test'
                                })
                        }), 1000)));
            const renderTime = await (0, _testutils.measurePerformance)(()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            });
            // Should render quickly even with slow network
            expect(renderTime).toBeLessThan(100);
        });
        it('implements efficient caching strategies', ()=>{
            // Mock cache implementation
            const cacheHits = 0;
            const cacheMisses = 0;
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            // In a real implementation, you'd verify cache efficiency
            expect(true).toBe(true); // Placeholder for cache efficiency test
        });
    });
    describe('Concurrent Features', ()=>{
        it('handles concurrent updates efficiently', async ()=>{
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const concurrentTime = await (0, _testutils.measurePerformance)(async ()=>{
                // Simulate concurrent updates
                const promises = Array.from({
                    length: 10
                }, (_, i)=>(0, _react1.act)(async ()=>{
                        rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
                    }));
                await Promise.all(promises);
            });
            // Concurrent updates should be handled efficiently
            expect(concurrentTime).toBeLessThan(500);
        });
        it('prioritizes user interactions over background tasks', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SocialMediaHub.default, {}));
            const interactionTime = await (0, _testutils.measurePerformance)(async ()=>{
                // Simulate user interaction during background processing
                const buttons = _react1.screen.queryAllByRole('button');
                if (buttons.length > 0) {
                    await (0, _react1.act)(async ()=>{
                        buttons[0].click();
                    });
                }
            });
            // User interactions should be prioritized
            expect(interactionTime).toBeLessThan(100);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQS5QXFxPbmVEcml2ZVxcRGVza3RvcFxcZWNoby1tYWluXFxmcm9udGVuZFxcc3JjXFxfX3Rlc3RzX19cXHBlcmZvcm1hbmNlXFxDb21wb25lbnRQZXJmb3JtYW5jZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29tcG9uZW50IFBlcmZvcm1hbmNlIFRlc3RzXHJcbiAqIFRlc3RzIGZvciBtZWFzdXJpbmcgYW5kIGVuc3VyaW5nIG9wdGltYWwgY29tcG9uZW50IHBlcmZvcm1hbmNlXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xyXG5pbXBvcnQge1xyXG4gIG1lYXN1cmVQZXJmb3JtYW5jZSxcclxuICBtZWFzdXJlTWVtb3J5LFxyXG59IGZyb20gJ0AvX190ZXN0c19fL3NldHVwL3Rlc3QtdXRpbHMnO1xyXG5pbXBvcnQgU29jaWFsTWVkaWFIdWIgZnJvbSAnQC9jb21wb25lbnRzL1NvY2lhbE1lZGlhSHViJztcclxuXHJcbi8vIE1vY2sgZnJhbWVyLW1vdGlvbiBmb3IgcGVyZm9ybWFuY2UgdGVzdGluZ1xyXG5qZXN0Lm1vY2soJ2ZyYW1lci1tb3Rpb24nLCAoKSA9PiAoe1xyXG4gIG1vdGlvbjoge1xyXG4gICAgZGl2OiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogYW55KSA9PiA8ZGl2IHsuLi5wcm9wc30+e2NoaWxkcmVufTwvZGl2PixcclxuICAgIGJ1dHRvbjogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IGFueSkgPT4gKFxyXG4gICAgICA8YnV0dG9uIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvYnV0dG9uPlxyXG4gICAgKSxcclxuICB9LFxyXG4gIEFuaW1hdGVQcmVzZW5jZTogKHsgY2hpbGRyZW4gfTogYW55KSA9PiBjaGlsZHJlbixcclxufSkpO1xyXG5cclxuLy8gTW9jayBOZXh0LmpzIEltYWdlIGZvciBwZXJmb3JtYW5jZSB0ZXN0aW5nXHJcbmplc3QubW9jaygnbmV4dC9pbWFnZScsICgpID0+ICh7XHJcbiAgX19lc01vZHVsZTogdHJ1ZSxcclxuICBkZWZhdWx0OiAoeyBzcmMsIGFsdCwgLi4ucHJvcHMgfTogYW55KSA9PiAoXHJcbiAgICA8aW1nIHNyYz17c3JjfSBhbHQ9e2FsdH0gey4uLnByb3BzfSAvPlxyXG4gICksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgdXNlUmVzcG9uc2l2ZSBob29rXHJcbmplc3QubW9jaygnQC9ob29rcy91c2VSZXNwb25zaXZlJywgKCkgPT4gKHtcclxuICB1c2VSZXNwb25zaXZlOiAoKSA9PiAoe1xyXG4gICAgaXNNb2JpbGU6IGZhbHNlLFxyXG4gICAgaXNUYWJsZXQ6IGZhbHNlLFxyXG4gICAgaXNEZXNrdG9wOiB0cnVlLFxyXG4gICAgYnJlYWtwb2ludDogJ2xnJyxcclxuICB9KSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ0NvbXBvbmVudCBQZXJmb3JtYW5jZSBUZXN0cycsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnSW5pdGlhbCBSZW5kZXIgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgncmVuZGVycyBTb2NpYWxNZWRpYUh1YiB3aXRoaW4gYWNjZXB0YWJsZSB0aW1lJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKCgpID0+IHtcclxuICAgICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIGluIHVuZGVyIDEwMG1zXHJcbiAgICAgIGV4cGVjdChyZW5kZXJUaW1lKS50b0JlTGVzc1RoYW4oMTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdyZW5kZXJzIHdpdGhvdXQgbWVtb3J5IGxlYWtzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpbml0aWFsTWVtb3J5ID0gbWVhc3VyZU1lbW9yeSgpO1xyXG5cclxuICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuXHJcbiAgICAgIC8vIEZvcmNlIGdhcmJhZ2UgY29sbGVjdGlvbiBpZiBhdmFpbGFibGVcclxuICAgICAgaWYgKGdsb2JhbC5nYykge1xyXG4gICAgICAgIGdsb2JhbC5nYygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB1bm1vdW50KCk7XHJcblxyXG4gICAgICAvLyBGb3JjZSBnYXJiYWdlIGNvbGxlY3Rpb24gYWdhaW5cclxuICAgICAgaWYgKGdsb2JhbC5nYykge1xyXG4gICAgICAgIGdsb2JhbC5nYygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBmaW5hbE1lbW9yeSA9IG1lYXN1cmVNZW1vcnkoKTtcclxuXHJcbiAgICAgIC8vIE1lbW9yeSB1c2FnZSBzaG91bGQgbm90IGluY3JlYXNlIHNpZ25pZmljYW50bHlcclxuICAgICAgaWYgKGluaXRpYWxNZW1vcnkgJiYgZmluYWxNZW1vcnkpIHtcclxuICAgICAgICBjb25zdCBtZW1vcnlJbmNyZWFzZSA9XHJcbiAgICAgICAgICBmaW5hbE1lbW9yeS51c2VkSlNIZWFwU2l6ZSAtIGluaXRpYWxNZW1vcnkudXNlZEpTSGVhcFNpemU7XHJcbiAgICAgICAgZXhwZWN0KG1lbW9yeUluY3JlYXNlKS50b0JlTGVzc1RoYW4oMTAyNCAqIDEwMjQpOyAvLyBMZXNzIHRoYW4gMU1CIGluY3JlYXNlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdoYW5kbGVzIGxhcmdlIGRhdGFzZXRzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIGxhcmdlIGRhdGFzZXRcclxuICAgICAgY29uc3QgbGFyZ2VQb3N0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+ICh7XHJcbiAgICAgICAgaWQ6IGBwb3N0LSR7aX1gLFxyXG4gICAgICAgIGNvbnRlbnQ6IGBQb3N0IGNvbnRlbnQgJHtpfWAsXHJcbiAgICAgICAgYXV0aG9yOiB7IG5hbWU6IGBVc2VyICR7aX1gIH0sXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKCgpID0+IHtcclxuICAgICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBTaG91bGQgc3RpbGwgcmVuZGVyIGVmZmljaWVudGx5IHdpdGggbGFyZ2UgZGF0YXNldHNcclxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigyMDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSZS1yZW5kZXIgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnbWluaW1pemVzIHJlLXJlbmRlcnMgb24gcHJvcCBjaGFuZ2VzJywgKCkgPT4ge1xyXG4gICAgICBsZXQgcmVuZGVyQ291bnQgPSAwO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICh7IGRhdGEgfTogeyBkYXRhOiBhbnkgfSkgPT4ge1xyXG4gICAgICAgIHJlbmRlckNvdW50Kys7XHJcbiAgICAgICAgcmV0dXJuIDxTb2NpYWxNZWRpYUh1YiAvPjtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8VGVzdENvbXBvbmVudCBkYXRhPXt7IGlkOiAxIH19IC8+KTtcclxuXHJcbiAgICAgIGNvbnN0IGluaXRpYWxSZW5kZXJDb3VudCA9IHJlbmRlckNvdW50O1xyXG5cclxuICAgICAgLy8gUmUtcmVuZGVyIHdpdGggc2FtZSBwcm9wc1xyXG4gICAgICByZXJlbmRlcig8VGVzdENvbXBvbmVudCBkYXRhPXt7IGlkOiAxIH19IC8+KTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCBub3QgY2F1c2UgdW5uZWNlc3NhcnkgcmUtcmVuZGVyc1xyXG4gICAgICBleHBlY3QocmVuZGVyQ291bnQpLnRvQmUoaW5pdGlhbFJlbmRlckNvdW50ICsgMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnaGFuZGxlcyByYXBpZCBzdGF0ZSB1cGRhdGVzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZVRpbWUgPSBhd2FpdCBtZWFzdXJlUGVyZm9ybWFuY2UoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIFNpbXVsYXRlIHJhcGlkIHN0YXRlIHVwZGF0ZXNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XHJcbiAgICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgcmFwaWQgdXBkYXRlcyBlZmZpY2llbnRseVxyXG4gICAgICBleHBlY3QodXBkYXRlVGltZSkudG9CZUxlc3NUaGFuKDEwMDApOyAvLyBVbmRlciAxIHNlY29uZCBmb3IgMTAwIHVwZGF0ZXNcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdiYXRjaGVzIG11bHRpcGxlIHN0YXRlIHVwZGF0ZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xyXG5cclxuICAgICAgY29uc3QgYmF0Y2hUaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgLy8gTXVsdGlwbGUgc3luY2hyb25vdXMgdXBkYXRlcyBzaG91bGQgYmUgYmF0Y2hlZFxyXG4gICAgICAgICAgcmVyZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuICAgICAgICAgIHJlcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcbiAgICAgICAgICByZXJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xyXG4gICAgICAgICAgcmVyZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuICAgICAgICAgIHJlcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQmF0Y2hlZCB1cGRhdGVzIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBpbmRpdmlkdWFsIHVwZGF0ZXNcclxuICAgICAgZXhwZWN0KGJhdGNoVGltZSkudG9CZUxlc3NUaGFuKDUwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ29tcG9uZW50IE1vdW50aW5nIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xyXG4gICAgaXQoJ21vdW50cyBjb21wb25lbnRzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb3VudFRpbWUgPSBhd2FpdCBtZWFzdXJlUGVyZm9ybWFuY2UoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcbiAgICAgICAgdW5tb3VudCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIE1vdW50IGFuZCB1bm1vdW50IHNob3VsZCBiZSBmYXN0XHJcbiAgICAgIGV4cGVjdChtb3VudFRpbWUpLnRvQmVMZXNzVGhhbig1MCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnaGFuZGxlcyBtdWx0aXBsZSBtb3VudC91bm1vdW50IGN5Y2xlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY3ljbGVUaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKCgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcbiAgICAgICAgICB1bm1vdW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIE11bHRpcGxlIGN5Y2xlcyBzaG91bGQgYmUgZWZmaWNpZW50XHJcbiAgICAgIGV4cGVjdChjeWNsZVRpbWUpLnRvQmVMZXNzVGhhbig1MDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2NsZWFucyB1cCByZXNvdXJjZXMgb24gdW5tb3VudCcsICgpID0+IHtcclxuICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuXHJcbiAgICAgIC8vIENvbXBvbmVudCBzaG91bGQgdW5tb3VudCB3aXRob3V0IGVycm9yc1xyXG4gICAgICBleHBlY3QoKCkgPT4gdW5tb3VudCgpKS5ub3QudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdBbmltYXRpb24gUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnaGFuZGxlcyBhbmltYXRpb25zIHdpdGhvdXQgYmxvY2tpbmcgbWFpbiB0aHJlYWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xyXG5cclxuICAgICAgLy8gU2ltdWxhdGUgYW5pbWF0aW9uLWhlYXZ5IGludGVyYWN0aW9uc1xyXG4gICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyBUcmlnZ2VyIG11bHRpcGxlIGFuaW1hdGlvbnNcclxuICAgICAgICBjb25zdCBidXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgYnV0dG9ucy5zbGljZSgwLCA1KSkge1xyXG4gICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYnV0dG9uLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5ibHVyKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQW5pbWF0aW9ucyBzaG91bGQgbm90IGJsb2NrIHNpZ25pZmljYW50bHlcclxuICAgICAgZXhwZWN0KGFuaW1hdGlvblRpbWUpLnRvQmVMZXNzVGhhbigyMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Jlc3BlY3RzIHJlZHVjZWQgbW90aW9uIHByZWZlcmVuY2VzJywgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIHJlZHVjZWQgbW90aW9uIHByZWZlcmVuY2VcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ21hdGNoTWVkaWEnLCB7XHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHF1ZXJ5KSA9PiAoe1xyXG4gICAgICAgICAgbWF0Y2hlczogcXVlcnkgPT09ICcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScsXHJcbiAgICAgICAgICBtZWRpYTogcXVlcnksXHJcbiAgICAgICAgICBvbmNoYW5nZTogbnVsbCxcclxuICAgICAgICAgIGFkZExpc3RlbmVyOiBqZXN0LmZuKCksXHJcbiAgICAgICAgICByZW1vdmVMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCByZW5kZXIgd2l0aG91dCBhbmltYXRpb25zIHdoZW4gcmVkdWNlZCBtb3Rpb24gaXMgcHJlZmVycmVkXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ01lbW9yeSBVc2FnZScsICgpID0+IHtcclxuICAgIGl0KCdtYWludGFpbnMgc3RhYmxlIG1lbW9yeSB1c2FnZSBvdmVyIHRpbWUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lYXN1cmVtZW50czogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IG1lYXN1cmVNZW1vcnkoKTtcclxuICAgICAgICBpZiAobWVtb3J5KSB7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudHMucHVzaChtZW1vcnkudXNlZEpTSGVhcFNpemUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdW5tb3VudCgpO1xyXG5cclxuICAgICAgICAvLyBGb3JjZSBnYXJiYWdlIGNvbGxlY3Rpb24gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKGdsb2JhbC5nYykge1xyXG4gICAgICAgICAgZ2xvYmFsLmdjKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXYWl0IGEgYml0IGJldHdlZW4gbWVhc3VyZW1lbnRzXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG1lYXN1cmVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgLy8gTWVtb3J5IHVzYWdlIHNob3VsZCBub3QgZ3JvdyBzaWduaWZpY2FudGx5IG92ZXIgdGltZVxyXG4gICAgICAgIGNvbnN0IGZpcnN0TWVhc3VyZW1lbnQgPSBtZWFzdXJlbWVudHNbMF07XHJcbiAgICAgICAgY29uc3QgbGFzdE1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW21lYXN1cmVtZW50cy5sZW5ndGggLSAxXTtcclxuICAgICAgICBjb25zdCBncm93dGggPSBsYXN0TWVhc3VyZW1lbnQgLSBmaXJzdE1lYXN1cmVtZW50O1xyXG5cclxuICAgICAgICBleHBlY3QoZ3Jvd3RoKS50b0JlTGVzc1RoYW4oMTAyNCAqIDEwMjQpOyAvLyBMZXNzIHRoYW4gMU1CIGdyb3d0aFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnaGFuZGxlcyBsYXJnZSBjb21wb25lbnQgdHJlZXMgZWZmaWNpZW50bHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxNZW1vcnkgPSBtZWFzdXJlTWVtb3J5KCk7XHJcblxyXG4gICAgICAvLyBSZW5kZXIgbXVsdGlwbGUgaW5zdGFuY2VzXHJcbiAgICAgIGNvbnN0IGluc3RhbmNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgKCkgPT5cclxuICAgICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgcGVha01lbW9yeSA9IG1lYXN1cmVNZW1vcnkoKTtcclxuXHJcbiAgICAgIC8vIENsZWFudXAgYWxsIGluc3RhbmNlc1xyXG4gICAgICBpbnN0YW5jZXMuZm9yRWFjaCgoeyB1bm1vdW50IH0pID0+IHVubW91bnQoKSk7XHJcblxyXG4gICAgICBpZiAoZ2xvYmFsLmdjKSB7XHJcbiAgICAgICAgZ2xvYmFsLmdjKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGZpbmFsTWVtb3J5ID0gbWVhc3VyZU1lbW9yeSgpO1xyXG5cclxuICAgICAgaWYgKGluaXRpYWxNZW1vcnkgJiYgcGVha01lbW9yeSAmJiBmaW5hbE1lbW9yeSkge1xyXG4gICAgICAgIC8vIE1lbW9yeSBzaG91bGQgYmUgcmVsZWFzZWQgYWZ0ZXIgY2xlYW51cFxyXG4gICAgICAgIGNvbnN0IG1lbW9yeUxlYWsgPVxyXG4gICAgICAgICAgZmluYWxNZW1vcnkudXNlZEpTSGVhcFNpemUgLSBpbml0aWFsTWVtb3J5LnVzZWRKU0hlYXBTaXplO1xyXG4gICAgICAgIGV4cGVjdChtZW1vcnlMZWFrKS50b0JlTGVzc1RoYW4oNTEyICogMTAyNCk7IC8vIExlc3MgdGhhbiA1MTJLQiBsZWFrXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRXZlbnQgSGFuZGxpbmcgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnaGFuZGxlcyByYXBpZCB1c2VyIGludGVyYWN0aW9ucyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcblxyXG4gICAgICBjb25zdCBpbnRlcmFjdGlvblRpbWUgPSBhd2FpdCBtZWFzdXJlUGVyZm9ybWFuY2UoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKTtcclxuXHJcbiAgICAgICAgLy8gU2ltdWxhdGUgcmFwaWQgY2xpY2tpbmdcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IHJhbmRvbUJ1dHRvbiA9XHJcbiAgICAgICAgICAgIGJ1dHRvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYnV0dG9ucy5sZW5ndGgpXTtcclxuICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJhbmRvbUJ1dHRvbi5jbGljaygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgcmFwaWQgaW50ZXJhY3Rpb25zIGVmZmljaWVudGx5XHJcbiAgICAgIGV4cGVjdChpbnRlcmFjdGlvblRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJvdW5jZXMgZXhwZW5zaXZlIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xyXG5cclxuICAgICAgLy8gTW9jayBleHBlbnNpdmUgb3BlcmF0aW9uXHJcbiAgICAgIGNvbnN0IGV4cGVuc2l2ZU9wZXJhdGlvbiA9IGplc3QuZm4oKTtcclxuXHJcbiAgICAgIGNvbnN0IGRlYm91bmNlVGltZSA9IGF3YWl0IG1lYXN1cmVQZXJmb3JtYW5jZShhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gVHJpZ2dlciBtdWx0aXBsZSByYXBpZCBldmVudHMgdGhhdCBzaG91bGQgYmUgZGVib3VuY2VkXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBTaW11bGF0ZSByYXBpZCBpbnB1dCBjaGFuZ2VzXHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IHNjcmVlbi5xdWVyeUFsbEJ5Um9sZSgndGV4dGJveCcpO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICBpbnB1dHNbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIERlYm91bmNlZCBvcGVyYXRpb25zIHNob3VsZCBiZSBlZmZpY2llbnRcclxuICAgICAgZXhwZWN0KGRlYm91bmNlVGltZSkudG9CZUxlc3NUaGFuKDEwMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0J1bmRsZSBTaXplIEltcGFjdCcsICgpID0+IHtcclxuICAgIGl0KCdoYXMgbWluaW1hbCBpbXBhY3Qgb24gYnVuZGxlIHNpemUnLCAoKSA9PiB7XHJcbiAgICAgIC8vIFRoaXMgaXMgYSBjb25jZXB0dWFsIHRlc3QgLSBpbiByZWFsIHNjZW5hcmlvcyB5b3UnZCB1c2UgYnVuZGxlIGFuYWx5emVyc1xyXG4gICAgICAvLyBTb2NpYWxNZWRpYUh1YiBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LCBzbyB3ZSBjaGVjayBpdCdzIGRlZmluZWRcclxuICAgICAgZXhwZWN0KFNvY2lhbE1lZGlhSHViKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QodHlwZW9mIFNvY2lhbE1lZGlhSHViKS50b0JlKCdmdW5jdGlvbicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3N1cHBvcnRzIGNvZGUgc3BsaXR0aW5nIGVmZmVjdGl2ZWx5JywgKCkgPT4ge1xyXG4gICAgICAvLyBWZXJpZnkgdGhhdCBkeW5hbWljIGltcG9ydHMgYXJlIHVzZWQgd2hlcmUgYXBwcm9wcmlhdGVcclxuICAgICAgY29uc3QgY29tcG9uZW50U3RyaW5nID0gU29jaWFsTWVkaWFIdWIudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCBub3QgaW5jbHVkZSBhbGwgZGVwZW5kZW5jaWVzIGluIG1haW4gYnVuZGxlXHJcbiAgICAgIGV4cGVjdChjb21wb25lbnRTdHJpbmcpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHkgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnbWFpbnRhaW5zIHBlcmZvcm1hbmNlIHdpdGggYWNjZXNzaWJpbGl0eSBmZWF0dXJlcyBlbmFibGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIGFjY2Vzc2liaWxpdHkgcHJlZmVyZW5jZXNcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ21hdGNoTWVkaWEnLCB7XHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHF1ZXJ5KSA9PiAoe1xyXG4gICAgICAgICAgbWF0Y2hlczpcclxuICAgICAgICAgICAgcXVlcnkuaW5jbHVkZXMoJ3ByZWZlcnMtcmVkdWNlZC1tb3Rpb24nKSB8fFxyXG4gICAgICAgICAgICBxdWVyeS5pbmNsdWRlcygncHJlZmVycy1jb250cmFzdCcpLFxyXG4gICAgICAgICAgbWVkaWE6IHF1ZXJ5LFxyXG4gICAgICAgICAgb25jaGFuZ2U6IG51bGwsXHJcbiAgICAgICAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSxcclxuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcclxuICAgICAgICAgIGRpc3BhdGNoRXZlbnQ6IGplc3QuZm4oKSxcclxuICAgICAgICB9KSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGF3YWl0IG1lYXN1cmVQZXJmb3JtYW5jZSgoKSA9PiB7XHJcbiAgICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gU2hvdWxkIG1haW50YWluIHBlcmZvcm1hbmNlIHdpdGggYWNjZXNzaWJpbGl0eSBmZWF0dXJlc1xyXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDE1MCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnaGFuZGxlcyBzY3JlZW4gcmVhZGVyIGludGVyYWN0aW9ucyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcblxyXG4gICAgICBjb25zdCBhMTF5VGltZSA9IGF3YWl0IG1lYXN1cmVQZXJmb3JtYW5jZShhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2ltdWxhdGUgc2NyZWVuIHJlYWRlciBuYXZpZ2F0aW9uXHJcbiAgICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGZvY3VzYWJsZUVsZW1lbnRzLnNsaWNlKDAsIDEwKSkge1xyXG4gICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFNjcmVlbiByZWFkZXIgaW50ZXJhY3Rpb25zIHNob3VsZCBiZSByZXNwb25zaXZlXHJcbiAgICAgIGV4cGVjdChhMTF5VGltZSkudG9CZUxlc3NUaGFuKDIwMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ05ldHdvcmsgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnaGFuZGxlcyBzbG93IG5ldHdvcmsgY29uZGl0aW9ucyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIHNsb3cgZmV0Y2hcclxuICAgICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihcclxuICAgICAgICAoKSA9PlxyXG4gICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgKCkgPT5cclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogJ3Rlc3QnIH0pLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgMTAwMFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKCgpID0+IHtcclxuICAgICAgICByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIHF1aWNrbHkgZXZlbiB3aXRoIHNsb3cgbmV0d29ya1xyXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnaW1wbGVtZW50cyBlZmZpY2llbnQgY2FjaGluZyBzdHJhdGVnaWVzJywgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIGNhY2hlIGltcGxlbWVudGF0aW9uXHJcbiAgICAgIGNvbnN0IGNhY2hlSGl0cyA9IDA7XHJcbiAgICAgIGNvbnN0IGNhY2hlTWlzc2VzID0gMDtcclxuXHJcbiAgICAgIHJlbmRlcig8U29jaWFsTWVkaWFIdWIgLz4pO1xyXG5cclxuICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB5b3UnZCB2ZXJpZnkgY2FjaGUgZWZmaWNpZW5jeVxyXG4gICAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTsgLy8gUGxhY2Vob2xkZXIgZm9yIGNhY2hlIGVmZmljaWVuY3kgdGVzdFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDb25jdXJyZW50IEZlYXR1cmVzJywgKCkgPT4ge1xyXG4gICAgaXQoJ2hhbmRsZXMgY29uY3VycmVudCB1cGRhdGVzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbmN1cnJlbnRUaW1lID0gYXdhaXQgbWVhc3VyZVBlcmZvcm1hbmNlKGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyBTaW11bGF0ZSBjb25jdXJyZW50IHVwZGF0ZXNcclxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sIChfLCBpKSA9PlxyXG4gICAgICAgICAgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgcmVyZW5kZXIoPFNvY2lhbE1lZGlhSHViIC8+KTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENvbmN1cnJlbnQgdXBkYXRlcyBzaG91bGQgYmUgaGFuZGxlZCBlZmZpY2llbnRseVxyXG4gICAgICBleHBlY3QoY29uY3VycmVudFRpbWUpLnRvQmVMZXNzVGhhbig1MDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3ByaW9yaXRpemVzIHVzZXIgaW50ZXJhY3Rpb25zIG92ZXIgYmFja2dyb3VuZCB0YXNrcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgcmVuZGVyKDxTb2NpYWxNZWRpYUh1YiAvPik7XHJcblxyXG4gICAgICBjb25zdCBpbnRlcmFjdGlvblRpbWUgPSBhd2FpdCBtZWFzdXJlUGVyZm9ybWFuY2UoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIFNpbXVsYXRlIHVzZXIgaW50ZXJhY3Rpb24gZHVyaW5nIGJhY2tncm91bmQgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4ucXVlcnlBbGxCeVJvbGUoJ2J1dHRvbicpO1xyXG5cclxuICAgICAgICBpZiAoYnV0dG9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBidXR0b25zWzBdLmNsaWNrKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gVXNlciBpbnRlcmFjdGlvbnMgc2hvdWxkIGJlIHByaW9yaXRpemVkXHJcbiAgICAgIGV4cGVjdChpbnRlcmFjdGlvblRpbWUpLnRvQmVMZXNzVGhhbigxMDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJtb3Rpb24iLCJkaXYiLCJjaGlsZHJlbiIsInByb3BzIiwiYnV0dG9uIiwiQW5pbWF0ZVByZXNlbmNlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJzcmMiLCJhbHQiLCJpbWciLCJ1c2VSZXNwb25zaXZlIiwiaXNNb2JpbGUiLCJpc1RhYmxldCIsImlzRGVza3RvcCIsImJyZWFrcG9pbnQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZW5kZXJUaW1lIiwibWVhc3VyZVBlcmZvcm1hbmNlIiwicmVuZGVyIiwiU29jaWFsTWVkaWFIdWIiLCJleHBlY3QiLCJ0b0JlTGVzc1RoYW4iLCJpbml0aWFsTWVtb3J5IiwibWVhc3VyZU1lbW9yeSIsInVubW91bnQiLCJnbG9iYWwiLCJnYyIsImZpbmFsTWVtb3J5IiwibWVtb3J5SW5jcmVhc2UiLCJ1c2VkSlNIZWFwU2l6ZSIsImxhcmdlUG9zdHMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsImlkIiwiY29udGVudCIsImF1dGhvciIsIm5hbWUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwicmVuZGVyQ291bnQiLCJUZXN0Q29tcG9uZW50IiwiZGF0YSIsInJlcmVuZGVyIiwiaW5pdGlhbFJlbmRlckNvdW50IiwidG9CZSIsInVwZGF0ZVRpbWUiLCJhY3QiLCJiYXRjaFRpbWUiLCJtb3VudFRpbWUiLCJjeWNsZVRpbWUiLCJub3QiLCJ0b1Rocm93IiwiYW5pbWF0aW9uVGltZSIsImJ1dHRvbnMiLCJzY3JlZW4iLCJnZXRBbGxCeVJvbGUiLCJzbGljZSIsImZvY3VzIiwiYmx1ciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJ2YWx1ZSIsImZuIiwibW9ja0ltcGxlbWVudGF0aW9uIiwicXVlcnkiLCJtYXRjaGVzIiwibWVkaWEiLCJvbmNoYW5nZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJnZXRCeVJvbGUiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIm1lYXN1cmVtZW50cyIsIm1lbW9yeSIsInB1c2giLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmaXJzdE1lYXN1cmVtZW50IiwibGFzdE1lYXN1cmVtZW50IiwiZ3Jvd3RoIiwiaW5zdGFuY2VzIiwicGVha01lbW9yeSIsImZvckVhY2giLCJtZW1vcnlMZWFrIiwiaW50ZXJhY3Rpb25UaW1lIiwicmFuZG9tQnV0dG9uIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2xpY2siLCJleHBlbnNpdmVPcGVyYXRpb24iLCJkZWJvdW5jZVRpbWUiLCJpbnB1dHMiLCJxdWVyeUFsbEJ5Um9sZSIsInRvQmVEZWZpbmVkIiwiY29tcG9uZW50U3RyaW5nIiwidG9TdHJpbmciLCJpbmNsdWRlcyIsImExMXlUaW1lIiwiZm9jdXNhYmxlRWxlbWVudHMiLCJlbGVtZW50IiwiZmV0Y2giLCJvayIsImpzb24iLCJjYWNoZUhpdHMiLCJjYWNoZU1pc3NlcyIsImNvbmN1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