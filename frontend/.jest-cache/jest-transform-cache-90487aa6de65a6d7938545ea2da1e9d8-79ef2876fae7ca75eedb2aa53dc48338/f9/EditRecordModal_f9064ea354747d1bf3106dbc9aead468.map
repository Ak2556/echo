{"version":3,"sources":["C:\\Users\\A.P\\OneDrive\\Desktop\\echo-main\\frontend\\src\\components\\miniapps\\EditRecordModal.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport type { CattleRecord } from './DairyFarmManagerApp';\r\n\r\ntype Props = {\r\n  visible: boolean;\r\n  record: CattleRecord | null;\r\n  language: 'english' | 'punjabi';\r\n  onClose: () => void;\r\n  onSave: (updates: Partial<CattleRecord>) => void;\r\n};\r\n\r\nexport default function EditRecordModal({ visible, record, language, onClose, onSave }: Props) {\r\n  const [form, setForm] = useState<Partial<CattleRecord>>({});\r\n\r\n  useEffect(() => {\r\n    if (visible && record) {\r\n      setForm(record);\r\n    } else if (!visible) {\r\n      setForm({});\r\n    }\r\n  }, [visible, record]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(0, 0, 0, 0.5)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 1000,\r\n      }}\r\n      onClick={onClose}\r\n    >\r\n      <div style={{ background: 'var(--bg)', padding: '1.5rem', borderRadius: 12, maxWidth: 700, width: '95%' }} onClick={(e) => e.stopPropagation()}>\r\n        <h3 style={{ margin: '0 0 1rem 0' }}>{language === 'english' ? 'Edit Cattle Record' : 'ਰਿਕਾਰਡ ਸੋਧੋ'}</h3>\r\n        {!record ? (\r\n          <div>{language === 'english' ? 'Loading record...' : 'ਰਿਕਾਰਡ ਲੋਡ ਕੀਤਾ ਜਾ ਰਿਹਾ ਹੈ...'}</div>\r\n        ) : (\r\n          <div style={{ display: 'grid', gap: '0.75rem' }}>\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.5rem' }}>\r\n              <input value={form.breed ?? ''} onChange={(e) => setForm((p) => ({ ...p, breed: e.target.value }))} placeholder={language === 'english' ? 'Breed' : 'ਨਸਲ'} style={{ padding: '0.5rem' }} />\r\n              <input value={form.tagNo ?? ''} onChange={(e) => setForm((p) => ({ ...p, tagNo: e.target.value }))} placeholder={language === 'english' ? 'Tag No.' : 'ਟੈਗ ਨੰਬਰ'} style={{ padding: '0.5rem' }} />\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.5rem' }}>\r\n              <input value={form.birthDate ?? ''} onChange={(e) => setForm((p) => ({ ...p, birthDate: e.target.value }))} type=\"date\" style={{ padding: '0.5rem' }} />\r\n              <input value={form.motherCode ?? ''} onChange={(e) => setForm((p) => ({ ...p, motherCode: e.target.value }))} placeholder={language === 'english' ? 'Mother Code' : 'ਮਾਂ ਕੋਡ'} style={{ padding: '0.5rem' }} />\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.5rem' }}>\r\n              <input value={form.fatherName ?? ''} onChange={(e) => setForm((p) => ({ ...p, fatherName: e.target.value }))} placeholder={language === 'english' ? 'Father Name' : 'ਪਿਤਾ ਨਾਮ'} style={{ padding: '0.5rem' }} />\r\n              <input value={form.lactation ? String(form.lactation) : ''} onChange={(e) => setForm((p) => ({ ...p, lactation: e.target.value === '' ? undefined : parseInt(e.target.value) }))} type=\"number\" min={1} placeholder={language === 'english' ? 'Lactation' : 'ਦੁੱਧ'} style={{ padding: '0.5rem' }} />\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.5rem' }}>\r\n              <input value={form.aiLastCheckup ?? ''} onChange={(e) => setForm((p) => ({ ...p, aiLastCheckup: e.target.value }))} type=\"date\" style={{ padding: '0.5rem' }} />\r\n              <input value={form.heatCycle ?? ''} onChange={(e) => setForm((p) => ({ ...p, heatCycle: e.target.value }))} placeholder={language === 'english' ? 'Heat Cycle' : 'ਗਰਮੀ ਚੱਕਰ'} style={{ padding: '0.5rem' }} />\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.5rem' }}>\r\n              <input value={form.deworming ?? ''} onChange={(e) => setForm((p) => ({ ...p, deworming: e.target.value }))} type=\"date\" style={{ padding: '0.5rem' }} />\r\n              <input value={form.semenDetail ?? ''} onChange={(e) => setForm((p) => ({ ...p, semenDetail: e.target.value }))} placeholder={language === 'english' ? 'Semen Detail' : 'ਵੀਰਜ ਵੇਰਵਾ'} style={{ padding: '0.5rem' }} />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n              <button type=\"button\" onClick={onClose} style={{ padding: '0.5rem 1rem' }}>{language === 'english' ? 'Cancel' : 'ਰੱਦ ਕਰੋ'}</button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  if (!record) return;\r\n                  const updates: Partial<CattleRecord> = {\r\n                    breed: form.breed ?? record.breed,\r\n                    tagNo: form.tagNo ?? record.tagNo,\r\n                    birthDate: form.birthDate ?? record.birthDate,\r\n                    motherCode: form.motherCode ?? record.motherCode,\r\n                    fatherName: form.fatherName ?? record.fatherName,\r\n                    lactation: typeof form.lactation === 'number' ? form.lactation : (form.lactation ? parseInt(String(form.lactation)) : record.lactation),\r\n                    aiLastCheckup: form.aiLastCheckup ?? record.aiLastCheckup,\r\n                    heatCycle: form.heatCycle ?? record.heatCycle,\r\n                    deworming: form.deworming ?? record.deworming,\r\n                    semenDetail: form.semenDetail ?? record.semenDetail,\r\n                  };\r\n                  onSave(updates);\r\n                }}\r\n                style={{ padding: '0.5rem 1rem', background: 'var(--accent)', color: 'white', border: 'none' }}\r\n              >\r\n                {language === 'english' ? 'Save' : 'ਸੇਵ'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["EditRecordModal","visible","record","language","onClose","onSave","form","setForm","useState","useEffect","div","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","onClick","padding","borderRadius","maxWidth","width","e","stopPropagation","h3","margin","gap","gridTemplateColumns","input","value","breed","onChange","p","target","placeholder","tagNo","birthDate","type","motherCode","fatherName","lactation","String","undefined","parseInt","min","aiLastCheckup","heatCycle","deworming","semenDetail","marginTop","button","updates","color","border"],"mappings":"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"}