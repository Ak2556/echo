d40658e92a781d4d15d5b5631b752d86
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _DairyFarmManagerApp = /*#__PURE__*/ _interop_require_default(require("../DairyFarmManagerApp"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('DairyFarmManagerApp - Records flows', ()=>{
    test('opens view modal when clicking View Details', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DairyFarmManagerApp.default, {
            isVisible: true,
            onClose: ()=>{}
        }));
        // Find the first View Details button and click it
        const viewButtons = await _react1.screen.findAllByText(/View Details/i);
        expect(viewButtons.length).toBeGreaterThan(0);
        _react1.fireEvent.click(viewButtons[0]);
        // Expect modal to show Breed label or the breed value (e.g., Gir)
        expect(await _react1.screen.findByText(/Breed|Gir/i)).toBeInTheDocument();
    });
    test('deletes a record when confirmed', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DairyFarmManagerApp.default, {
            isVisible: true,
            onClose: ()=>{}
        }));
        // Find all delete buttons
        const deleteButtons = await _react1.screen.findAllByText(/Delete/i);
        expect(deleteButtons.length).toBeGreaterThan(0);
        // Mock confirm to return true
        const originalConfirm = window.confirm;
        window.confirm = jest.fn(()=>true);
        // Capture a tag value present before deletion
        const tagText = await _react1.screen.findByText(/001-GIR-2022/i);
        expect(tagText).toBeInTheDocument();
        _react1.fireEvent.click(deleteButtons[0]);
        // After deletion, the specific tag may no longer be in the document
        expect(_react1.screen.queryByText(/001-GIR-2022/i)).not.toBeInTheDocument();
        // restore
        window.confirm = originalConfirm;
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQS5QXFxPbmVEcml2ZVxcRGVza3RvcFxcZWNoby1tYWluXFxmcm9udGVuZFxcc3JjXFxjb21wb25lbnRzXFxtaW5pYXBwc1xcX190ZXN0c19fXFxEYWlyeUZhcm1NYW5hZ2VyQXBwLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcclxuaW1wb3J0IERhaXJ5RmFybU1hbmFnZXJBcHAgZnJvbSAnLi4vRGFpcnlGYXJtTWFuYWdlckFwcCc7XHJcblxyXG5kZXNjcmliZSgnRGFpcnlGYXJtTWFuYWdlckFwcCAtIFJlY29yZHMgZmxvd3MnLCAoKSA9PiB7XHJcbiAgdGVzdCgnb3BlbnMgdmlldyBtb2RhbCB3aGVuIGNsaWNraW5nIFZpZXcgRGV0YWlscycsIGFzeW5jICgpID0+IHtcclxuICAgIHJlbmRlcig8RGFpcnlGYXJtTWFuYWdlckFwcCBpc1Zpc2libGU9e3RydWV9IG9uQ2xvc2U9eygpID0+IHt9fSAvPik7XHJcblxyXG4gICAgLy8gRmluZCB0aGUgZmlyc3QgVmlldyBEZXRhaWxzIGJ1dHRvbiBhbmQgY2xpY2sgaXRcclxuICAgIGNvbnN0IHZpZXdCdXR0b25zID0gYXdhaXQgc2NyZWVuLmZpbmRBbGxCeVRleHQoL1ZpZXcgRGV0YWlscy9pKTtcclxuICAgIGV4cGVjdCh2aWV3QnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIGZpcmVFdmVudC5jbGljayh2aWV3QnV0dG9uc1swXSk7XHJcblxyXG4gICAgLy8gRXhwZWN0IG1vZGFsIHRvIHNob3cgQnJlZWQgbGFiZWwgb3IgdGhlIGJyZWVkIHZhbHVlIChlLmcuLCBHaXIpXHJcbiAgICBleHBlY3QoYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoL0JyZWVkfEdpci9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnZGVsZXRlcyBhIHJlY29yZCB3aGVuIGNvbmZpcm1lZCcsIGFzeW5jICgpID0+IHtcclxuICAgIHJlbmRlcig8RGFpcnlGYXJtTWFuYWdlckFwcCBpc1Zpc2libGU9e3RydWV9IG9uQ2xvc2U9eygpID0+IHt9fSAvPik7XHJcblxyXG4gICAgLy8gRmluZCBhbGwgZGVsZXRlIGJ1dHRvbnNcclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbnMgPSBhd2FpdCBzY3JlZW4uZmluZEFsbEJ5VGV4dCgvRGVsZXRlL2kpO1xyXG4gICAgZXhwZWN0KGRlbGV0ZUJ1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcblxyXG4gICAgLy8gTW9jayBjb25maXJtIHRvIHJldHVybiB0cnVlXHJcbiAgICBjb25zdCBvcmlnaW5hbENvbmZpcm0gPSB3aW5kb3cuY29uZmlybTtcclxuICAgIHdpbmRvdy5jb25maXJtID0gamVzdC5mbigoKSA9PiB0cnVlKSBhcyBhbnk7XHJcblxyXG4gICAgLy8gQ2FwdHVyZSBhIHRhZyB2YWx1ZSBwcmVzZW50IGJlZm9yZSBkZWxldGlvblxyXG4gICAgY29uc3QgdGFnVGV4dCA9IGF3YWl0IHNjcmVlbi5maW5kQnlUZXh0KC8wMDEtR0lSLTIwMjIvaSk7XHJcbiAgICBleHBlY3QodGFnVGV4dCkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuXHJcbiAgICBmaXJlRXZlbnQuY2xpY2soZGVsZXRlQnV0dG9uc1swXSk7XHJcblxyXG4gICAgLy8gQWZ0ZXIgZGVsZXRpb24sIHRoZSBzcGVjaWZpYyB0YWcgbWF5IG5vIGxvbmdlciBiZSBpbiB0aGUgZG9jdW1lbnRcclxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoLzAwMS1HSVItMjAyMi9pKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XHJcblxyXG4gICAgLy8gcmVzdG9yZVxyXG4gICAgd2luZG93LmNvbmZpcm0gPSBvcmlnaW5hbENvbmZpcm07XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJ0ZXN0IiwicmVuZGVyIiwiRGFpcnlGYXJtTWFuYWdlckFwcCIsImlzVmlzaWJsZSIsIm9uQ2xvc2UiLCJ2aWV3QnV0dG9ucyIsInNjcmVlbiIsImZpbmRBbGxCeVRleHQiLCJleHBlY3QiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJmaXJlRXZlbnQiLCJjbGljayIsImZpbmRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImRlbGV0ZUJ1dHRvbnMiLCJvcmlnaW5hbENvbmZpcm0iLCJ3aW5kb3ciLCJjb25maXJtIiwiamVzdCIsImZuIiwidGFnVGV4dCIsInF1ZXJ5QnlUZXh0Iiwibm90Il0sIm1hcHBpbmdzIjoiOzs7Ozs4REFBa0I7d0JBQ3dCO1FBQ25DOzRFQUN5Qjs7Ozs7O0FBRWhDQSxTQUFTLHVDQUF1QztJQUM5Q0MsS0FBSywrQ0FBK0M7UUFDbERDLElBQUFBLGNBQU0sZ0JBQUMscUJBQUNDLDRCQUFtQjtZQUFDQyxXQUFXO1lBQU1DLFNBQVMsS0FBTzs7UUFFN0Qsa0RBQWtEO1FBQ2xELE1BQU1DLGNBQWMsTUFBTUMsY0FBTSxDQUFDQyxhQUFhLENBQUM7UUFDL0NDLE9BQU9ILFlBQVlJLE1BQU0sRUFBRUMsZUFBZSxDQUFDO1FBQzNDQyxpQkFBUyxDQUFDQyxLQUFLLENBQUNQLFdBQVcsQ0FBQyxFQUFFO1FBRTlCLGtFQUFrRTtRQUNsRUcsT0FBTyxNQUFNRixjQUFNLENBQUNPLFVBQVUsQ0FBQyxlQUFlQyxpQkFBaUI7SUFDakU7SUFFQWQsS0FBSyxtQ0FBbUM7UUFDdENDLElBQUFBLGNBQU0sZ0JBQUMscUJBQUNDLDRCQUFtQjtZQUFDQyxXQUFXO1lBQU1DLFNBQVMsS0FBTzs7UUFFN0QsMEJBQTBCO1FBQzFCLE1BQU1XLGdCQUFnQixNQUFNVCxjQUFNLENBQUNDLGFBQWEsQ0FBQztRQUNqREMsT0FBT08sY0FBY04sTUFBTSxFQUFFQyxlQUFlLENBQUM7UUFFN0MsOEJBQThCO1FBQzlCLE1BQU1NLGtCQUFrQkMsT0FBT0MsT0FBTztRQUN0Q0QsT0FBT0MsT0FBTyxHQUFHQyxLQUFLQyxFQUFFLENBQUMsSUFBTTtRQUUvQiw4Q0FBOEM7UUFDOUMsTUFBTUMsVUFBVSxNQUFNZixjQUFNLENBQUNPLFVBQVUsQ0FBQztRQUN4Q0wsT0FBT2EsU0FBU1AsaUJBQWlCO1FBRWpDSCxpQkFBUyxDQUFDQyxLQUFLLENBQUNHLGFBQWEsQ0FBQyxFQUFFO1FBRWhDLG9FQUFvRTtRQUNwRVAsT0FBT0YsY0FBTSxDQUFDZ0IsV0FBVyxDQUFDLGtCQUFrQkMsR0FBRyxDQUFDVCxpQkFBaUI7UUFFakUsVUFBVTtRQUNWRyxPQUFPQyxPQUFPLEdBQUdGO0lBQ25CO0FBQ0YifQ==