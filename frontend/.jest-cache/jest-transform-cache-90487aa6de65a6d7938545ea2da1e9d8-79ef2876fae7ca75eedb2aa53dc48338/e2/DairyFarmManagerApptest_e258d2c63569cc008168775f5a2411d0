5ee3cfe18e5841bb85b81d497f2f6452
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _DairyFarmManagerApp = /*#__PURE__*/ _interop_require_default(require("../DairyFarmManagerApp"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('DairyFarmManagerApp - Records flows', ()=>{
    test('opens view modal when clicking View Details', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DairyFarmManagerApp.default, {
            isVisible: true,
            onClose: ()=>{}
        }));
        // Click the Records tab to render the records list
        const recordsTab = _react1.screen.getByText(/Records/i);
        _react1.fireEvent.click(recordsTab);
        // Find the first View Details button and click it
        const viewButtons = await _react1.screen.findAllByText(/View Details/i);
        expect(viewButtons.length).toBeGreaterThan(0);
        _react1.fireEvent.click(viewButtons[0]);
        // Expect modal to show Breed label or the breed value (e.g., Gir)
        expect(await _react1.screen.findByText(/Breed|Gir/i)).toBeInTheDocument();
    });
    test('deletes a record when confirmed', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DairyFarmManagerApp.default, {
            isVisible: true,
            onClose: ()=>{}
        }));
        // Click the Records tab to render the records list
        const recordsTab = _react1.screen.getByText(/Records/i);
        _react1.fireEvent.click(recordsTab);
        // Find all delete buttons
        const deleteButtons = await _react1.screen.findAllByText(/Delete/i);
        expect(deleteButtons.length).toBeGreaterThan(0);
        // Mock confirm to return true
        const originalConfirm = window.confirm;
        window.confirm = jest.fn(()=>true);
        // Capture a tag value present before deletion
        const tagText = await _react1.screen.findByText(/001-GIR-2022/i);
        expect(tagText).toBeInTheDocument();
        _react1.fireEvent.click(deleteButtons[0]);
        // After deletion, the specific tag may no longer be in the document
        expect(_react1.screen.queryByText(/001-GIR-2022/i)).not.toBeInTheDocument();
        // restore
        window.confirm = originalConfirm;
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQS5QXFxPbmVEcml2ZVxcRGVza3RvcFxcZWNoby1tYWluXFxmcm9udGVuZFxcc3JjXFxjb21wb25lbnRzXFxtaW5pYXBwc1xcX190ZXN0c19fXFxEYWlyeUZhcm1NYW5hZ2VyQXBwLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcclxuaW1wb3J0IERhaXJ5RmFybU1hbmFnZXJBcHAgZnJvbSAnLi4vRGFpcnlGYXJtTWFuYWdlckFwcCc7XHJcblxyXG5kZXNjcmliZSgnRGFpcnlGYXJtTWFuYWdlckFwcCAtIFJlY29yZHMgZmxvd3MnLCAoKSA9PiB7XHJcbiAgdGVzdCgnb3BlbnMgdmlldyBtb2RhbCB3aGVuIGNsaWNraW5nIFZpZXcgRGV0YWlscycsIGFzeW5jICgpID0+IHtcclxuICAgIHJlbmRlcig8RGFpcnlGYXJtTWFuYWdlckFwcCBpc1Zpc2libGU9e3RydWV9IG9uQ2xvc2U9eygpID0+IHt9fSAvPik7XHJcblxyXG4gICAgLy8gQ2xpY2sgdGhlIFJlY29yZHMgdGFiIHRvIHJlbmRlciB0aGUgcmVjb3JkcyBsaXN0XHJcbiAgICBjb25zdCByZWNvcmRzVGFiID0gc2NyZWVuLmdldEJ5VGV4dCgvUmVjb3Jkcy9pKTtcclxuICAgIGZpcmVFdmVudC5jbGljayhyZWNvcmRzVGFiKTtcclxuXHJcbiAgICAvLyBGaW5kIHRoZSBmaXJzdCBWaWV3IERldGFpbHMgYnV0dG9uIGFuZCBjbGljayBpdFxyXG4gICAgY29uc3Qgdmlld0J1dHRvbnMgPSBhd2FpdCBzY3JlZW4uZmluZEFsbEJ5VGV4dCgvVmlldyBEZXRhaWxzL2kpO1xyXG4gICAgZXhwZWN0KHZpZXdCdXR0b25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgZmlyZUV2ZW50LmNsaWNrKHZpZXdCdXR0b25zWzBdKTtcclxuXHJcbiAgICAvLyBFeHBlY3QgbW9kYWwgdG8gc2hvdyBCcmVlZCBsYWJlbCBvciB0aGUgYnJlZWQgdmFsdWUgKGUuZy4sIEdpcilcclxuICAgIGV4cGVjdChhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgvQnJlZWR8R2lyL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdkZWxldGVzIGEgcmVjb3JkIHdoZW4gY29uZmlybWVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxEYWlyeUZhcm1NYW5hZ2VyQXBwIGlzVmlzaWJsZT17dHJ1ZX0gb25DbG9zZT17KCkgPT4ge319IC8+KTtcclxuXHJcbiAgICAvLyBDbGljayB0aGUgUmVjb3JkcyB0YWIgdG8gcmVuZGVyIHRoZSByZWNvcmRzIGxpc3RcclxuICAgIGNvbnN0IHJlY29yZHNUYWIgPSBzY3JlZW4uZ2V0QnlUZXh0KC9SZWNvcmRzL2kpO1xyXG4gICAgZmlyZUV2ZW50LmNsaWNrKHJlY29yZHNUYWIpO1xyXG5cclxuICAgIC8vIEZpbmQgYWxsIGRlbGV0ZSBidXR0b25zXHJcbiAgICBjb25zdCBkZWxldGVCdXR0b25zID0gYXdhaXQgc2NyZWVuLmZpbmRBbGxCeVRleHQoL0RlbGV0ZS9pKTtcclxuICAgIGV4cGVjdChkZWxldGVCdXR0b25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG5cclxuICAgIC8vIE1vY2sgY29uZmlybSB0byByZXR1cm4gdHJ1ZVxyXG4gICAgY29uc3Qgb3JpZ2luYWxDb25maXJtID0gd2luZG93LmNvbmZpcm07XHJcbiAgICB3aW5kb3cuY29uZmlybSA9IGplc3QuZm4oKCkgPT4gdHJ1ZSkgYXMgYW55O1xyXG5cclxuICAgIC8vIENhcHR1cmUgYSB0YWcgdmFsdWUgcHJlc2VudCBiZWZvcmUgZGVsZXRpb25cclxuICAgIGNvbnN0IHRhZ1RleHQgPSBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgvMDAxLUdJUi0yMDIyL2kpO1xyXG4gICAgZXhwZWN0KHRhZ1RleHQpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcblxyXG4gICAgZmlyZUV2ZW50LmNsaWNrKGRlbGV0ZUJ1dHRvbnNbMF0pO1xyXG5cclxuICAgIC8vIEFmdGVyIGRlbGV0aW9uLCB0aGUgc3BlY2lmaWMgdGFnIG1heSBubyBsb25nZXIgYmUgaW4gdGhlIGRvY3VtZW50XHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KC8wMDEtR0lSLTIwMjIvaSkpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG5cclxuICAgIC8vIHJlc3RvcmVcclxuICAgIHdpbmRvdy5jb25maXJtID0gb3JpZ2luYWxDb25maXJtO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwidGVzdCIsInJlbmRlciIsIkRhaXJ5RmFybU1hbmFnZXJBcHAiLCJpc1Zpc2libGUiLCJvbkNsb3NlIiwicmVjb3Jkc1RhYiIsInNjcmVlbiIsImdldEJ5VGV4dCIsImZpcmVFdmVudCIsImNsaWNrIiwidmlld0J1dHRvbnMiLCJmaW5kQWxsQnlUZXh0IiwiZXhwZWN0IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZmluZEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiZGVsZXRlQnV0dG9ucyIsIm9yaWdpbmFsQ29uZmlybSIsIndpbmRvdyIsImNvbmZpcm0iLCJqZXN0IiwiZm4iLCJ0YWdUZXh0IiwicXVlcnlCeVRleHQiLCJub3QiXSwibWFwcGluZ3MiOiI7Ozs7OzhEQUFrQjt3QkFDd0I7UUFDbkM7NEVBQ3lCOzs7Ozs7QUFFaENBLFNBQVMsdUNBQXVDO0lBQzlDQyxLQUFLLCtDQUErQztRQUNsREMsSUFBQUEsY0FBTSxnQkFBQyxxQkFBQ0MsNEJBQW1CO1lBQUNDLFdBQVc7WUFBTUMsU0FBUyxLQUFPOztRQUU3RCxtREFBbUQ7UUFDbkQsTUFBTUMsYUFBYUMsY0FBTSxDQUFDQyxTQUFTLENBQUM7UUFDcENDLGlCQUFTLENBQUNDLEtBQUssQ0FBQ0o7UUFFaEIsa0RBQWtEO1FBQ2xELE1BQU1LLGNBQWMsTUFBTUosY0FBTSxDQUFDSyxhQUFhLENBQUM7UUFDL0NDLE9BQU9GLFlBQVlHLE1BQU0sRUFBRUMsZUFBZSxDQUFDO1FBQzNDTixpQkFBUyxDQUFDQyxLQUFLLENBQUNDLFdBQVcsQ0FBQyxFQUFFO1FBRTlCLGtFQUFrRTtRQUNsRUUsT0FBTyxNQUFNTixjQUFNLENBQUNTLFVBQVUsQ0FBQyxlQUFlQyxpQkFBaUI7SUFDakU7SUFFQWhCLEtBQUssbUNBQW1DO1FBQ3RDQyxJQUFBQSxjQUFNLGdCQUFDLHFCQUFDQyw0QkFBbUI7WUFBQ0MsV0FBVztZQUFNQyxTQUFTLEtBQU87O1FBRTdELG1EQUFtRDtRQUNuRCxNQUFNQyxhQUFhQyxjQUFNLENBQUNDLFNBQVMsQ0FBQztRQUNwQ0MsaUJBQVMsQ0FBQ0MsS0FBSyxDQUFDSjtRQUVoQiwwQkFBMEI7UUFDMUIsTUFBTVksZ0JBQWdCLE1BQU1YLGNBQU0sQ0FBQ0ssYUFBYSxDQUFDO1FBQ2pEQyxPQUFPSyxjQUFjSixNQUFNLEVBQUVDLGVBQWUsQ0FBQztRQUU3Qyw4QkFBOEI7UUFDOUIsTUFBTUksa0JBQWtCQyxPQUFPQyxPQUFPO1FBQ3RDRCxPQUFPQyxPQUFPLEdBQUdDLEtBQUtDLEVBQUUsQ0FBQyxJQUFNO1FBRS9CLDhDQUE4QztRQUM5QyxNQUFNQyxVQUFVLE1BQU1qQixjQUFNLENBQUNTLFVBQVUsQ0FBQztRQUN4Q0gsT0FBT1csU0FBU1AsaUJBQWlCO1FBRWpDUixpQkFBUyxDQUFDQyxLQUFLLENBQUNRLGFBQWEsQ0FBQyxFQUFFO1FBRWhDLG9FQUFvRTtRQUNwRUwsT0FBT04sY0FBTSxDQUFDa0IsV0FBVyxDQUFDLGtCQUFrQkMsR0FBRyxDQUFDVCxpQkFBaUI7UUFFakUsVUFBVTtRQUNWRyxPQUFPQyxPQUFPLEdBQUdGO0lBQ25CO0FBQ0YifQ==