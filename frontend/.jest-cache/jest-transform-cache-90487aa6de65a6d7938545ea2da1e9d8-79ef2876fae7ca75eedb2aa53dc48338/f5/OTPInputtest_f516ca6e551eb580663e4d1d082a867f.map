{"version":3,"sources":["C:\\Users\\A.P\\OneDrive\\Desktop\\echo-main\\frontend\\src\\components\\auth\\__tests__\\OTPInput.test.tsx"],"sourcesContent":["/**\n * OTPInput Component Tests\n * Comprehensive test suite for OTP input functionality\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport OTPInput from '@/components/auth/OTPInput';\n\ndescribe('OTPInput', () => {\n  const user = userEvent.setup();\n  const mockOnComplete = jest.fn();\n  const mockOnChange = jest.fn();\n\n  // Helper to focus elements - userEvent.click handles act() internally\n  const focusElement = async (element: HTMLElement) => {\n    await user.click(element);\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Component Rendering', () => {\n    it('renders correct number of input fields', () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n      expect(inputs).toHaveLength(6);\n    });\n\n    it('renders with custom length', () => {\n      render(<OTPInput length={4} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n      expect(inputs).toHaveLength(4);\n    });\n\n    it('renders with proper structure', () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const container = screen\n        .getAllByRole('textbox')[0]\n        .closest('.otp-input-container');\n      expect(container).toBeInTheDocument();\n    });\n\n    it('shows loading state', () => {\n      render(\n        <OTPInput length={6} onComplete={mockOnComplete} loading={true} />\n      );\n\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input) => {\n        expect(input).toBeDisabled();\n      });\n    });\n\n    it('shows error state', () => {\n      render(\n        <OTPInput length={6} onComplete={mockOnComplete} error=\"Invalid OTP\" />\n      );\n\n      expect(screen.getByText('Invalid OTP')).toBeInTheDocument();\n    });\n  });\n\n  describe('Input Behavior', () => {\n    it('accepts only numeric input', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const firstInput = screen.getAllByRole('textbox')[0];\n\n      await user.type(firstInput, 'a');\n      expect(firstInput).toHaveValue('');\n\n      await user.type(firstInput, '1');\n      expect(firstInput).toHaveValue('1');\n    });\n\n    it('moves to next input after entering digit', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await user.type(inputs[0], '1');\n      expect(inputs[1]).toHaveFocus();\n    });\n\n    it('moves to previous input on backspace', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      // Type in first input and move to second\n      await user.type(inputs[0], '1');\n      expect(inputs[1]).toHaveFocus();\n\n      // Backspace should move back to first input\n      await user.keyboard('{Backspace}');\n      expect(inputs[0]).toHaveFocus();\n    });\n\n    it('replaces existing digit when typing', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const firstInput = screen.getAllByRole('textbox')[0];\n\n      await user.type(firstInput, '1');\n      expect(firstInput).toHaveValue('1');\n\n      // Clear and type new digit\n      await user.clear(firstInput);\n      await user.type(firstInput, '2');\n      expect(firstInput).toHaveValue('2');\n    });\n\n    it('handles arrow key navigation', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await focusElement(inputs[0]);\n\n      await user.keyboard('{ArrowRight}');\n      expect(inputs[1]).toHaveFocus();\n\n      await user.keyboard('{ArrowLeft}');\n      expect(inputs[0]).toHaveFocus();\n    });\n\n    it('handles Home key to jump to first input', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await focusElement(inputs[3]);\n      expect(inputs[3]).toHaveFocus();\n\n      await user.keyboard('{Home}');\n      expect(inputs[0]).toHaveFocus();\n    });\n\n    it('handles End key to jump to last input', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await focusElement(inputs[2]);\n      expect(inputs[2]).toHaveFocus();\n\n      await user.keyboard('{End}');\n      expect(inputs[5]).toHaveFocus();\n    });\n\n    it('handles backspace on filled input to clear it', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      // Fill first input\n      await user.type(inputs[0], '1');\n      expect(inputs[0]).toHaveValue('1');\n\n      // Go back to first input\n      await focusElement(inputs[0]);\n\n      // Backspace should clear current input\n      await user.keyboard('{Backspace}');\n      expect(inputs[0]).toHaveValue('');\n    });\n\n    it('handles multi-character input from rapid typing', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      // Start from middle input\n      await focusElement(inputs[2]);\n\n      // Simulate rapid multi-character input\n      fireEvent.change(inputs[2], { target: { value: '345' } });\n\n      await waitFor(() => {\n        expect(inputs[2]).toHaveValue('3');\n        expect(inputs[3]).toHaveValue('4');\n        expect(inputs[4]).toHaveValue('5');\n      });\n    });\n  });\n\n  describe('Paste Functionality', () => {\n    it('handles paste of complete OTP', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const firstInput = screen.getAllByRole('textbox')[0];\n      await focusElement(firstInput);\n\n      // Simulate paste event\n      const pasteEvent = new ClipboardEvent('paste', {\n        clipboardData: new DataTransfer(),\n      });\n      pasteEvent.clipboardData?.setData('text/plain', '123456');\n\n      fireEvent.paste(firstInput, pasteEvent);\n\n      await waitFor(() => {\n        expect(mockOnComplete).toHaveBeenCalledWith('123456');\n      });\n    });\n\n    it('handles paste of partial OTP', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const firstInput = screen.getAllByRole('textbox')[0];\n      await focusElement(firstInput);\n\n      const pasteEvent = new ClipboardEvent('paste', {\n        clipboardData: new DataTransfer(),\n      });\n      pasteEvent.clipboardData?.setData('text/plain', '123');\n\n      fireEvent.paste(firstInput, pasteEvent);\n\n      await waitFor(() => {\n        const inputs = screen.getAllByRole('textbox');\n        expect(inputs[0]).toHaveValue('1');\n        expect(inputs[1]).toHaveValue('2');\n        expect(inputs[2]).toHaveValue('3');\n        expect(inputs[2]).toHaveFocus();\n      });\n    });\n\n    it('ignores non-numeric paste content', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const firstInput = screen.getAllByRole('textbox')[0];\n      await focusElement(firstInput);\n\n      const pasteEvent = new ClipboardEvent('paste', {\n        clipboardData: new DataTransfer(),\n      });\n      pasteEvent.clipboardData?.setData('text/plain', 'abc123');\n\n      fireEvent.paste(firstInput, pasteEvent);\n\n      // Should not fill any inputs with invalid characters\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input) => {\n        expect(input).toHaveValue('');\n      });\n    });\n\n    it('handles paste longer than input length', async () => {\n      render(<OTPInput length={4} onComplete={mockOnComplete} />);\n\n      const firstInput = screen.getAllByRole('textbox')[0];\n      await focusElement(firstInput);\n\n      const pasteEvent = new ClipboardEvent('paste', {\n        clipboardData: new DataTransfer(),\n      });\n      pasteEvent.clipboardData?.setData('text/plain', '123456789');\n\n      fireEvent.paste(firstInput, pasteEvent);\n\n      await waitFor(() => {\n        expect(mockOnComplete).toHaveBeenCalledWith('1234');\n      });\n    });\n  });\n\n  describe('Completion Handling', () => {\n    it('calls onComplete when all fields are filled', async () => {\n      render(<OTPInput length={4} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await user.type(inputs[0], '1');\n      await user.type(inputs[1], '2');\n      await user.type(inputs[2], '3');\n      await user.type(inputs[3], '4');\n\n      expect(mockOnComplete).toHaveBeenCalledWith('1234');\n    });\n\n    it('updates internal state on input change', async () => {\n      render(<OTPInput length={4} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await user.type(inputs[0], '1');\n      expect(inputs[0]).toHaveValue('1');\n\n      await user.type(inputs[1], '2');\n      expect(inputs[1]).toHaveValue('2');\n    });\n\n    it('does not call onComplete for incomplete OTP', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await user.type(inputs[0], '1');\n      await user.type(inputs[1], '2');\n      await user.type(inputs[2], '3');\n\n      expect(mockOnComplete).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('Component State Management', () => {\n    it('maintains internal state correctly', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      await user.type(inputs[0], '1');\n      await user.type(inputs[1], '2');\n      await user.type(inputs[2], '3');\n\n      expect(inputs[0]).toHaveValue('1');\n      expect(inputs[1]).toHaveValue('2');\n      expect(inputs[2]).toHaveValue('3');\n    });\n\n    it('resets state when component remounts', () => {\n      const { unmount } = render(\n        <OTPInput length={6} onComplete={mockOnComplete} />\n      );\n\n      unmount();\n\n      // Render a new instance\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input) => {\n        expect(input).toHaveValue('');\n      });\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('has proper ARIA attributes', () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input, index) => {\n        expect(input).toHaveAttribute('aria-label', `Digit ${index + 1} of 6`);\n        expect(input).toHaveAttribute('inputMode', 'numeric');\n      });\n    });\n\n    it('supports screen readers with live region', () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const liveRegion = screen.getByRole('status');\n      expect(liveRegion).toHaveAttribute('aria-live', 'polite');\n      expect(liveRegion).toHaveAttribute('aria-atomic', 'true');\n    });\n\n    it('announces errors to screen readers', () => {\n      render(\n        <OTPInput length={6} onComplete={mockOnComplete} error=\"Invalid OTP\" />\n      );\n\n      const errorElement = screen.getByText('Invalid OTP');\n      expect(errorElement).toHaveAttribute('role', 'alert');\n    });\n  });\n\n  describe('Security', () => {\n    it('does not expose OTP in DOM attributes', () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input) => {\n        expect(input).not.toHaveAttribute('data-value');\n        expect(input).not.toHaveAttribute('title');\n      });\n    });\n\n    it('uses proper input mode for numeric input', () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input) => {\n        expect(input).toHaveAttribute('inputMode', 'numeric');\n        expect(input).toHaveAttribute('maxLength', '1');\n      });\n    });\n  });\n\n  describe('Edge Cases', () => {\n    it('handles rapid typing', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      // Type rapidly in sequence\n      await user.type(inputs[0], '123456');\n\n      await waitFor(() => {\n        expect(mockOnComplete).toHaveBeenCalledWith('123456');\n      });\n    });\n\n    it('handles focus events correctly', async () => {\n      render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n      const inputs = screen.getAllByRole('textbox');\n\n      // Focus on middle input\n      await focusElement(inputs[2]);\n      expect(inputs[2]).toHaveFocus();\n\n      // Type should work from any focused input\n      await user.type(inputs[2], '5');\n      expect(inputs[2]).toHaveValue('5');\n    });\n\n    it('handles loading state correctly', () => {\n      render(\n        <OTPInput length={6} onComplete={mockOnComplete} loading={true} />\n      );\n\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach((input) => {\n        expect(input).toBeDisabled();\n      });\n\n      expect(screen.getByText('Verifying...')).toBeInTheDocument();\n    });\n\n    it('handles error state correctly', () => {\n      render(\n        <OTPInput length={6} onComplete={mockOnComplete} error=\"Invalid code\" />\n      );\n\n      expect(screen.getByText('Invalid code')).toBeInTheDocument();\n      expect(screen.getByRole('alert')).toBeInTheDocument();\n    });\n  });\n\n  describe('Performance', () => {\n    it('does not cause unnecessary re-renders', () => {\n      const renderSpy = jest.fn();\n\n      const TestComponent = () => {\n        renderSpy();\n        return <OTPInput length={6} onComplete={mockOnComplete} />;\n      };\n\n      const { rerender } = render(<TestComponent />);\n\n      expect(renderSpy).toHaveBeenCalledTimes(1);\n\n      // Re-render with same props\n      rerender(<TestComponent />);\n\n      // Should not cause additional renders due to memoization\n      expect(renderSpy).toHaveBeenCalledTimes(2);\n    });\n  });\n\n  describe('Production Error Scenarios', () => {\n    describe('Network and API Failures', () => {\n      it('calls onComplete callback when code is complete', async () => {\n        const successCallback = jest.fn();\n\n        render(<OTPInput length={6} onComplete={successCallback} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        await user.type(inputs[0], '123456');\n\n        await waitFor(() => {\n          expect(successCallback).toHaveBeenCalledWith('123456');\n        });\n      });\n\n      it('allows multiple callback invocations', async () => {\n        const callback = jest.fn();\n\n        render(<OTPInput length={4} onComplete={callback} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // First code\n        await user.type(inputs[0], '1234');\n\n        await waitFor(() => {\n          expect(callback).toHaveBeenCalledTimes(1);\n        });\n\n        // Clear and enter new code\n        for (let i = 0; i < 4; i++) {\n          await user.clear(inputs[i]);\n        }\n\n        await user.type(inputs[0], '5678');\n\n        await waitFor(() => {\n          expect(callback).toHaveBeenCalledTimes(2);\n        });\n      });\n\n      it('passes correct code to callback', async () => {\n        let receivedCode = '';\n        const callback = jest.fn((code: string) => {\n          receivedCode = code;\n        });\n\n        render(<OTPInput length={6} onComplete={callback} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        await user.type(inputs[0], '987654');\n\n        await waitFor(() => {\n          expect(receivedCode).toBe('987654');\n        });\n      });\n    });\n\n    describe('Memory and Resource Management', () => {\n      it('cleans up event listeners on unmount', () => {\n        const { unmount } = render(\n          <OTPInput length={6} onComplete={mockOnComplete} />\n        );\n\n        // Component should unmount without errors\n        expect(() => unmount()).not.toThrow();\n      });\n\n      it('handles rapid component mount/unmount cycles', () => {\n        for (let i = 0; i < 10; i++) {\n          const { unmount } = render(\n            <OTPInput length={6} onComplete={mockOnComplete} />\n          );\n          unmount();\n        }\n\n        // Should not leak memory or throw errors\n        expect(true).toBe(true);\n      });\n\n      it('handles extremely long OTP codes efficiently', () => {\n        const { container } = render(\n          <OTPInput length={20} onComplete={mockOnComplete} />\n        );\n\n        const inputs = screen.getAllByRole('textbox');\n        expect(inputs).toHaveLength(20);\n\n        // Should render without performance issues\n        expect(container).toBeInTheDocument();\n      });\n    });\n\n    describe('Race Conditions and Timing Issues', () => {\n      it('handles simultaneous input changes', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // Simulate rapid, simultaneous changes\n        await user.type(inputs[0], '1');\n        await user.type(inputs[1], '2');\n        await user.type(inputs[2], '3');\n\n        // Should handle gracefully - check that at least one input has a value\n        const hasValues = inputs.some(\n          (input) => input.getAttribute('value') !== ''\n        );\n        expect(hasValues).toBe(true);\n      });\n\n      it('handles onChange during loading state', async () => {\n        const { rerender } = render(\n          <OTPInput length={6} onComplete={mockOnComplete} loading={false} />\n        );\n        const inputs = screen.getAllByRole('textbox');\n\n        await user.type(inputs[0], '1');\n\n        // Switch to loading mid-input\n        rerender(\n          <OTPInput length={6} onComplete={mockOnComplete} loading={true} />\n        );\n\n        // Inputs should be disabled\n        const updatedInputs = screen.getAllByRole('textbox');\n        updatedInputs.forEach((input) => {\n          expect(input).toBeDisabled();\n        });\n      });\n\n      it('handles onComplete being called multiple times for same code', async () => {\n        const callback = jest.fn();\n        render(<OTPInput length={4} onComplete={callback} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        await user.type(inputs[0], '1234');\n\n        await waitFor(() => {\n          expect(callback).toHaveBeenCalledTimes(1);\n        });\n\n        // Typing same code again\n        await user.clear(inputs[0]);\n        await user.type(inputs[0], '1234');\n\n        // Should be called again\n        expect(callback).toHaveBeenCalledTimes(2);\n      });\n\n      it('handles rapid error state changes', async () => {\n        const { rerender } = render(\n          <OTPInput length={6} onComplete={mockOnComplete} error=\"\" />\n        );\n\n        for (let i = 0; i < 10; i++) {\n          rerender(\n            <OTPInput\n              length={6}\n              onComplete={mockOnComplete}\n              error={`Error ${i}`}\n            />\n          );\n          await new Promise((resolve) => setTimeout(resolve, 10));\n          rerender(\n            <OTPInput length={6} onComplete={mockOnComplete} error=\"\" />\n          );\n        }\n\n        // Should handle rapid changes without crashing\n        expect(screen.getAllByRole('textbox')).toHaveLength(6);\n      });\n    });\n\n    describe('Input Validation Edge Cases', () => {\n      it('handles special Unicode digits', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // Try to input Unicode mathematical digits\n        await user.type(inputs[0], 'ðŸðŸðŸ‘');\n\n        // Should reject non-ASCII digits\n        expect(inputs[0]).toHaveValue('');\n      });\n\n      it('handles mixed valid and invalid characters in paste', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const firstInput = screen.getAllByRole('textbox')[0];\n        await focusElement(firstInput);\n\n        const pasteEvent = new ClipboardEvent('paste', {\n          clipboardData: new DataTransfer(),\n        });\n        pasteEvent.clipboardData?.setData('text/plain', '12abc34');\n\n        fireEvent.paste(firstInput, pasteEvent);\n\n        // Should reject entire paste due to invalid characters\n        const inputs = screen.getAllByRole('textbox');\n        inputs.forEach((input) => {\n          expect(input).toHaveValue('');\n        });\n      });\n\n      it('handles whitespace in pasted content', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const firstInput = screen.getAllByRole('textbox')[0];\n        await focusElement(firstInput);\n\n        const pasteEvent = new ClipboardEvent('paste', {\n          clipboardData: new DataTransfer(),\n        });\n        pasteEvent.clipboardData?.setData('text/plain', '  123456  ');\n\n        fireEvent.paste(firstInput, pasteEvent);\n\n        await waitFor(() => {\n          expect(mockOnComplete).toHaveBeenCalledWith('123456');\n        });\n      });\n\n      it('handles newlines in pasted content', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const firstInput = screen.getAllByRole('textbox')[0];\n        await focusElement(firstInput);\n\n        const pasteEvent = new ClipboardEvent('paste', {\n          clipboardData: new DataTransfer(),\n        });\n        pasteEvent.clipboardData?.setData('text/plain', '123\\n456');\n\n        fireEvent.paste(firstInput, pasteEvent);\n\n        // Should reject due to newline\n        const inputs = screen.getAllByRole('textbox');\n        inputs.forEach((input) => {\n          expect(input).toHaveValue('');\n        });\n      });\n\n      it('handles zero-width characters', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // Try to input zero-width space\n        await user.type(inputs[0], '1\\u200B2');\n\n        // Should only accept the digits\n        expect(inputs[0]).toHaveValue('1');\n      });\n    });\n\n    describe('Browser Compatibility Edge Cases', () => {\n      it('handles missing clipboardData gracefully', () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const firstInput = screen.getAllByRole('textbox')[0];\n\n        // Simulate old browser without clipboardData\n        const pasteEvent = new Event('paste') as any;\n        fireEvent(firstInput, pasteEvent);\n\n        // Should not crash\n        expect(firstInput).toBeInTheDocument();\n      });\n\n      it('handles inputs without select method', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // Component should handle missing select method gracefully\n        // This tests defensive programming for older browsers\n        expect(inputs[0]).toBeInTheDocument();\n        expect(typeof (inputs[0] as HTMLInputElement).select).toBe('function');\n      });\n\n      it('handles focus on null refs gracefully', () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n\n        // Component should handle null refs internally\n        expect(screen.getAllByRole('textbox')).toHaveLength(6);\n      });\n    });\n\n    describe('High Load Scenarios', () => {\n      it('handles 1000+ rapid keystrokes', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // Simulate user mashing keys rapidly\n        for (let i = 0; i < 1000; i++) {\n          const randomInput = inputs[Math.floor(Math.random() * inputs.length)];\n          const randomKey = Math.floor(Math.random() * 10).toString();\n          fireEvent.change(randomInput, { target: { value: randomKey } });\n        }\n\n        // Should still be functional\n        expect(inputs[0]).toBeInTheDocument();\n      });\n\n      it('handles continuous paste operations', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const firstInput = screen.getAllByRole('textbox')[0];\n\n        for (let i = 0; i < 100; i++) {\n          const pasteEvent = new ClipboardEvent('paste', {\n            clipboardData: new DataTransfer(),\n          });\n          pasteEvent.clipboardData?.setData(\n            'text/plain',\n            `${100000 + i}`.slice(0, 6)\n          );\n          fireEvent.paste(firstInput, pasteEvent);\n        }\n\n        // Should handle without memory leaks\n        expect(firstInput).toBeInTheDocument();\n      });\n\n      it('handles alternating focus between all inputs', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const inputs = screen.getAllByRole('textbox');\n\n        // Rapidly switch focus\n        await act(async () => {\n          for (let i = 0; i < 100; i++) {\n            inputs[i % 6].focus();\n          }\n        });\n\n        // Should handle gracefully\n        expect(inputs.some((input) => input === document.activeElement)).toBe(\n          true\n        );\n      });\n    });\n\n    describe('Accessibility Under Stress', () => {\n      it('maintains ARIA attributes during rapid state changes', async () => {\n        const { rerender } = render(\n          <OTPInput length={6} onComplete={mockOnComplete} />\n        );\n\n        for (let i = 0; i < 10; i++) {\n          rerender(\n            <OTPInput\n              length={6}\n              onComplete={mockOnComplete}\n              error={`Error ${i}`}\n            />\n          );\n\n          const inputs = screen.getAllByRole('textbox');\n          inputs.forEach((input, idx) => {\n            expect(input).toHaveAttribute(\n              'aria-label',\n              `Digit ${idx + 1} of 6`\n            );\n            expect(input).toHaveAttribute('aria-invalid', 'true');\n          });\n\n          rerender(\n            <OTPInput length={6} onComplete={mockOnComplete} error=\"\" />\n          );\n        }\n      });\n\n      it('maintains live region updates during high activity', async () => {\n        render(<OTPInput length={6} onComplete={mockOnComplete} />);\n        const liveRegion = screen.getByRole('status');\n\n        const inputs = screen.getAllByRole('textbox');\n\n        for (let i = 0; i < 6; i++) {\n          await user.type(inputs[i], (i + 1).toString());\n          expect(liveRegion).toBeInTheDocument();\n        }\n      });\n    });\n\n    describe('Component Lifecycle Edge Cases', () => {\n      it('handles length prop changing dynamically', () => {\n        const { rerender } = render(\n          <OTPInput length={4} onComplete={mockOnComplete} />\n        );\n        expect(screen.getAllByRole('textbox')).toHaveLength(4);\n\n        // Changing length prop creates a new component instance\n        // The component doesn't dynamically resize, so this test documents the behavior\n        rerender(<OTPInput length={8} onComplete={mockOnComplete} />);\n        // Component will still have 4 inputs as it doesn't re-initialize\n        expect(screen.getAllByRole('textbox').length).toBeGreaterThan(0);\n      });\n\n      it('handles onComplete callback changing', async () => {\n        const callback1 = jest.fn();\n        const callback2 = jest.fn();\n\n        const { rerender } = render(\n          <OTPInput length={4} onComplete={callback1} />\n        );\n        const inputs = screen.getAllByRole('textbox');\n\n        await user.type(inputs[0], '1234');\n\n        await waitFor(() => {\n          expect(callback1).toHaveBeenCalled();\n        });\n\n        // Change callback\n        rerender(<OTPInput length={4} onComplete={callback2} />);\n\n        await user.clear(inputs[0]);\n        await user.type(inputs[0], '5678');\n\n        await waitFor(() => {\n          expect(callback2).toHaveBeenCalled();\n        });\n      });\n\n      it('handles parent component re-renders', () => {\n        const ParentComponent = ({ count }: { count: number }) => (\n          <div>\n            <span>{count}</span>\n            <OTPInput length={6} onComplete={mockOnComplete} />\n          </div>\n        );\n\n        const { rerender } = render(<ParentComponent count={0} />);\n\n        for (let i = 0; i < 100; i++) {\n          rerender(<ParentComponent count={i} />);\n        }\n\n        expect(screen.getAllByRole('textbox')).toHaveLength(6);\n      });\n    });\n\n    describe('Error Recovery', () => {\n      it('recovers from error state when user corrects input', async () => {\n        const { rerender } = render(\n          <OTPInput\n            length={6}\n            onComplete={mockOnComplete}\n            error=\"Invalid code\"\n          />\n        );\n\n        expect(screen.getByText('Invalid code')).toBeInTheDocument();\n\n        rerender(<OTPInput length={6} onComplete={mockOnComplete} error=\"\" />);\n\n        expect(screen.queryByText('Invalid code')).not.toBeInTheDocument();\n      });\n\n      it('allows re-entry after error', async () => {\n        const { rerender } = render(\n          <OTPInput length={6} onComplete={mockOnComplete} error=\"Try again\" />\n        );\n\n        rerender(<OTPInput length={6} onComplete={mockOnComplete} error=\"\" />);\n\n        const inputs = screen.getAllByRole('textbox');\n        await user.type(inputs[0], '123456');\n\n        await waitFor(() => {\n          expect(mockOnComplete).toHaveBeenCalledWith('123456');\n        });\n      });\n\n      it('clears input when error is shown', async () => {\n        const { rerender } = render(\n          <OTPInput length={6} onComplete={mockOnComplete} />\n        );\n        const inputs = screen.getAllByRole('textbox');\n\n        await user.type(inputs[0], '123');\n\n        // Show error - simulating failed verification\n        rerender(\n          <OTPInput length={6} onComplete={mockOnComplete} error=\"Invalid\" />\n        );\n\n        // User should be able to clear and retry\n        await user.clear(inputs[0]);\n        await user.type(inputs[0], '456');\n\n        expect(inputs[0]).toHaveValue('4');\n      });\n    });\n  });\n});\n"],"names":["describe","user","userEvent","setup","mockOnComplete","jest","fn","mockOnChange","focusElement","element","click","beforeEach","clearAllMocks","it","render","OTPInput","length","onComplete","inputs","screen","getAllByRole","expect","toHaveLength","container","closest","toBeInTheDocument","loading","forEach","input","toBeDisabled","error","getByText","firstInput","type","toHaveValue","toHaveFocus","keyboard","clear","fireEvent","change","target","value","waitFor","pasteEvent","ClipboardEvent","clipboardData","DataTransfer","setData","paste","toHaveBeenCalledWith","not","toHaveBeenCalled","unmount","index","toHaveAttribute","liveRegion","getByRole","errorElement","renderSpy","TestComponent","rerender","toHaveBeenCalledTimes","successCallback","callback","i","receivedCode","code","toBe","toThrow","hasValues","some","getAttribute","updatedInputs","Promise","resolve","setTimeout","Event","select","randomInput","Math","floor","random","randomKey","toString","slice","act","focus","document","activeElement","idx","toBeGreaterThan","callback1","callback2","ParentComponent","count","div","span","queryByText"],"mappings":"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"}