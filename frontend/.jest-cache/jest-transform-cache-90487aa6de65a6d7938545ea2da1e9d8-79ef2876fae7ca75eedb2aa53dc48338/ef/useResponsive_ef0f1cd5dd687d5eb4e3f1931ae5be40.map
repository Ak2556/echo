{"version":3,"sources":["C:\\Users\\A.P\\OneDrive\\Desktop\\echo-main\\frontend\\src\\hooks\\useResponsive.tsx"],"sourcesContent":["/**\r\n * @fileoverview Responsive Design Hook\r\n * @description Custom hook for detecting viewport size and responsive breakpoints\r\n * @version 1.0.0\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from 'react';\r\n\r\nexport interface ResponsiveState {\r\n  isMobile: boolean;\r\n  isTablet: boolean;\r\n  isDesktop: boolean;\r\n  isLargeDesktop: boolean;\r\n  width: number;\r\n  height: number;\r\n  breakpoint: 'sm' | 'md' | 'lg' | 'xl';\r\n  isPortrait?: boolean;\r\n  isLandscape?: boolean;\r\n  isTouchDevice?: boolean;\r\n  prefersReducedMotion?: boolean;\r\n  prefersHighContrast?: boolean;\r\n  prefersDarkMode?: boolean;\r\n}\r\n\r\ninterface BreakpointConfig {\r\n  mobile?: string;\r\n  tablet?: string;\r\n  desktop?: string;\r\n  xl?: string;\r\n}\r\n\r\n/**\r\n * Hook to detect current viewport size and breakpoints\r\n */\r\nexport function useResponsive(\r\n  customBreakpoints?: BreakpointConfig\r\n): ResponsiveState {\r\n  const [state, setState] = useState<ResponsiveState>(() => {\r\n    // SSR-safe initial state\r\n    if (typeof window === 'undefined') {\r\n      return {\r\n        isMobile: false,\r\n        isTablet: false,\r\n        isDesktop: true,\r\n        isLargeDesktop: false,\r\n        width: 1024,\r\n        height: 768,\r\n        breakpoint: 'lg',\r\n        isPortrait: false,\r\n        isLandscape: true,\r\n        isTouchDevice: false,\r\n        prefersReducedMotion: false,\r\n        prefersHighContrast: false,\r\n        prefersDarkMode: false,\r\n      };\r\n    }\r\n\r\n    // Calculate initial state based on current window dimensions\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    const isMobile = width < 768;\r\n    const isTablet = width >= 768 && width < 1024;\r\n    const isDesktop = width >= 1024 && width < 1280;\r\n    const isLargeDesktop = width >= 1280;\r\n    const breakpoint: ResponsiveState['breakpoint'] = isMobile\r\n      ? 'sm'\r\n      : isTablet\r\n        ? 'md'\r\n        : isLargeDesktop\r\n          ? 'xl'\r\n          : 'lg';\r\n\r\n    return {\r\n      isMobile,\r\n      isTablet,\r\n      isDesktop,\r\n      isLargeDesktop,\r\n      width,\r\n      height,\r\n      breakpoint,\r\n      isPortrait: height > width,\r\n      isLandscape: width >= height,\r\n      isTouchDevice:\r\n        typeof navigator !== 'undefined' ? navigator.maxTouchPoints > 0 : false,\r\n      prefersReducedMotion: false,\r\n      prefersHighContrast: false,\r\n      prefersDarkMode: false,\r\n    };\r\n  });\r\n\r\n  const mediaQueries = useMemo(() => {\r\n    if (typeof window === 'undefined' || !window.matchMedia) {\r\n      return null;\r\n    }\r\n\r\n    // Use custom breakpoints if provided, otherwise use defaults\r\n    const breakpoints = customBreakpoints || {\r\n      mobile: '(max-width: 767px)',\r\n      tablet: '(min-width: 768px) and (max-width: 1023px)',\r\n      desktop: '(min-width: 1024px)',\r\n      xl: '(min-width: 1280px)',\r\n    };\r\n\r\n    try {\r\n      return {\r\n        mobile: window.matchMedia(breakpoints.mobile || '(max-width: 767px)'),\r\n        tablet: window.matchMedia(\r\n          breakpoints.tablet || '(min-width: 768px) and (max-width: 1023px)'\r\n        ),\r\n        desktop: window.matchMedia(\r\n          breakpoints.desktop || '(min-width: 1024px)'\r\n        ),\r\n        xl: window.matchMedia(breakpoints.xl || '(min-width: 1280px)'),\r\n        portrait: window.matchMedia('(orientation: portrait)'),\r\n        landscape: window.matchMedia('(orientation: landscape)'),\r\n        reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)'),\r\n        highContrast: window.matchMedia('(prefers-contrast: high)'),\r\n        darkMode: window.matchMedia('(prefers-color-scheme: dark)'),\r\n      };\r\n    } catch (error) {\r\n      // Handle invalid media query syntax\r\n      console.warn('Invalid media query syntax:', error);\r\n      return null;\r\n    }\r\n  }, [customBreakpoints]);\r\n\r\n  // PERFORMANCE FIX: Memoize updateState with useCallback to prevent recreating on every render\r\n  const updateState = useCallback(() => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n\r\n    // Use window dimensions as fallback if matchMedia is not available\r\n    let isMobile, isTablet, isDesktop, isLargeDesktop;\r\n\r\n    if (mediaQueries) {\r\n      isMobile = mediaQueries.mobile.matches;\r\n      isTablet = mediaQueries.tablet.matches;\r\n      isDesktop = mediaQueries.desktop.matches && !mediaQueries.xl.matches;\r\n      isLargeDesktop = mediaQueries.xl.matches;\r\n    } else {\r\n      // Fallback to window dimensions\r\n      isMobile = width < 768;\r\n      isTablet = width >= 768 && width < 1024;\r\n      isDesktop = width >= 1024 && width < 1280;\r\n      isLargeDesktop = width >= 1280;\r\n    }\r\n\r\n    const breakpoint: ResponsiveState['breakpoint'] = isMobile\r\n      ? 'sm'\r\n      : isTablet\r\n        ? 'md'\r\n        : isLargeDesktop\r\n          ? 'xl'\r\n          : 'lg';\r\n\r\n    setState({\r\n      isMobile,\r\n      isTablet,\r\n      isDesktop,\r\n      isLargeDesktop,\r\n      width,\r\n      height,\r\n      breakpoint,\r\n      isPortrait: mediaQueries ? mediaQueries.portrait.matches : height > width,\r\n      isLandscape: mediaQueries\r\n        ? mediaQueries.landscape.matches\r\n        : width >= height,\r\n      isTouchDevice:\r\n        typeof navigator !== 'undefined' ? navigator.maxTouchPoints > 0 : false,\r\n      prefersReducedMotion: mediaQueries\r\n        ? mediaQueries.reducedMotion.matches\r\n        : false,\r\n      prefersHighContrast: mediaQueries\r\n        ? mediaQueries.highContrast.matches\r\n        : false,\r\n      prefersDarkMode: mediaQueries ? mediaQueries.darkMode.matches : false,\r\n    });\r\n  }, [mediaQueries]);\r\n\r\n  useEffect(() => {\r\n    // PERFORMANCE FIX: Debounce resize events with requestAnimationFrame\r\n    let rafId: number | null = null;\r\n    const debouncedUpdateState = () => {\r\n      if (rafId !== null) {\r\n        cancelAnimationFrame(rafId);\r\n      }\r\n      rafId = requestAnimationFrame(() => {\r\n        updateState();\r\n        rafId = null;\r\n      });\r\n    };\r\n\r\n    // Initial call\r\n    updateState();\r\n\r\n    // Add event listeners\r\n    if (mediaQueries) {\r\n      const queries = Object.values(mediaQueries);\r\n      queries.forEach((query) => {\r\n        if (query && query.addEventListener) {\r\n          // Use updateState directly for media query changes (they're already specific)\r\n          query.addEventListener('change', updateState);\r\n        }\r\n      });\r\n    }\r\n\r\n    // PERFORMANCE FIX: Use debounced version for resize events (fires frequently)\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener('resize', debouncedUpdateState);\r\n    }\r\n\r\n    // Cleanup\r\n    return () => {\r\n      // Cancel any pending animation frame\r\n      if (rafId !== null) {\r\n        cancelAnimationFrame(rafId);\r\n      }\r\n\r\n      if (mediaQueries) {\r\n        const queries = Object.values(mediaQueries);\r\n        queries.forEach((query) => {\r\n          if (query && query.removeEventListener) {\r\n            query.removeEventListener('change', updateState);\r\n          }\r\n        });\r\n      }\r\n      if (typeof window !== 'undefined') {\r\n        window.removeEventListener('resize', debouncedUpdateState);\r\n      }\r\n    };\r\n  }, [mediaQueries, updateState]);\r\n\r\n  return state;\r\n}\r\n\r\n/**\r\n * Hook to check if viewport matches specific breakpoint\r\n */\r\nexport function useBreakpoint(breakpoint: string): boolean {\r\n  const [matches, setMatches] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    function updateMatches() {\r\n      const width = window.innerWidth;\r\n\r\n      // Handle both media query strings and breakpoint names\r\n      if (breakpoint.includes('(')) {\r\n        // It's a media query string\r\n        if (window.matchMedia) {\r\n          const mediaQuery = window.matchMedia(breakpoint);\r\n          setMatches(mediaQuery.matches);\r\n        }\r\n      } else {\r\n        // It's a breakpoint name, use width-based logic\r\n        let result = false;\r\n        switch (breakpoint) {\r\n          case 'sm':\r\n            result = width < 768;\r\n            break;\r\n          case 'md':\r\n            result = width >= 768 && width < 1024;\r\n            break;\r\n          case 'lg':\r\n            result = width >= 1024 && width < 1280;\r\n            break;\r\n          case 'xl':\r\n            result = width >= 1280;\r\n            break;\r\n          default:\r\n            // For other strings, try as media query if matchMedia is available\r\n            if (window.matchMedia) {\r\n              const mediaQuery = window.matchMedia(breakpoint);\r\n              result = mediaQuery.matches;\r\n            }\r\n        }\r\n        setMatches(result);\r\n      }\r\n    }\r\n\r\n    updateMatches();\r\n\r\n    // Set up listeners\r\n    if (breakpoint.includes('(') && window.matchMedia) {\r\n      const mediaQuery = window.matchMedia(breakpoint);\r\n      mediaQuery.addEventListener('change', updateMatches);\r\n      window.addEventListener('resize', updateMatches);\r\n      return () => {\r\n        mediaQuery.removeEventListener('change', updateMatches);\r\n        window.removeEventListener('resize', updateMatches);\r\n      };\r\n    } else {\r\n      window.addEventListener('resize', updateMatches);\r\n      return () => window.removeEventListener('resize', updateMatches);\r\n    }\r\n  }, [breakpoint]);\r\n\r\n  return matches;\r\n}\r\n\r\n/**\r\n * Hook for window dimensions\r\n * PERFORMANCE FIX: Debounced with requestAnimationFrame\r\n */\r\nexport function useWindowSize() {\r\n  const [size, setSize] = useState({\r\n    width: typeof window !== 'undefined' ? window.innerWidth : 0,\r\n    height: typeof window !== 'undefined' ? window.innerHeight : 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let rafId: number | null = null;\r\n\r\n    const handleResize = () => {\r\n      if (rafId !== null) {\r\n        cancelAnimationFrame(rafId);\r\n      }\r\n      rafId = requestAnimationFrame(() => {\r\n        setSize({\r\n          width: window.innerWidth,\r\n          height: window.innerHeight,\r\n        });\r\n        rafId = null;\r\n      });\r\n    };\r\n\r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    return () => {\r\n      if (rafId !== null) {\r\n        cancelAnimationFrame(rafId);\r\n      }\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return size;\r\n}\r\n\r\n/**\r\n * Hook for orientation detection\r\n */\r\nexport function useOrientation() {\r\n  const [orientation, setOrientation] = useState<'portrait' | 'landscape'>(\r\n    'portrait'\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleOrientationChange() {\r\n      setOrientation(\r\n        window.innerHeight > window.innerWidth ? 'portrait' : 'landscape'\r\n      );\r\n    }\r\n\r\n    handleOrientationChange();\r\n    window.addEventListener('resize', handleOrientationChange);\r\n    return () => window.removeEventListener('resize', handleOrientationChange);\r\n  }, []);\r\n\r\n  return orientation;\r\n}\r\n\r\nexport default useResponsive;\r\n"],"names":["useBreakpoint","useOrientation","useResponsive","useWindowSize","customBreakpoints","state","setState","useState","window","isMobile","isTablet","isDesktop","isLargeDesktop","width","height","breakpoint","isPortrait","isLandscape","isTouchDevice","prefersReducedMotion","prefersHighContrast","prefersDarkMode","innerWidth","innerHeight","navigator","maxTouchPoints","mediaQueries","useMemo","matchMedia","breakpoints","mobile","tablet","desktop","xl","portrait","landscape","reducedMotion","highContrast","darkMode","error","console","warn","updateState","useCallback","matches","useEffect","rafId","debouncedUpdateState","cancelAnimationFrame","requestAnimationFrame","queries","Object","values","forEach","query","addEventListener","removeEventListener","setMatches","updateMatches","includes","mediaQuery","result","size","setSize","handleResize","orientation","setOrientation","handleOrientationChange"],"mappings":"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"}