{"version":3,"sources":["C:\\Users\\A.P\\Documents\\DEV\\echo-main\\frontend\\jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom';\r\n\r\n// Suppress React 18 act() warnings in tests\r\nconst originalError = console.error;\r\nbeforeAll(() => {\r\n  console.error = (...args) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      (args[0].includes('Warning: ReactDOM.render is no longer supported') ||\r\n        args[0].includes('Warning: An invalid form control') ||\r\n        args[0].includes('Warning: React.jsx: type is invalid') ||\r\n        args[0].includes('Warning: An update to') ||\r\n        args[0].includes('was not wrapped in act') ||\r\n        args[0].includes('The above error occurred'))\r\n    ) {\r\n      return;\r\n    }\r\n    originalError.call(console, ...args);\r\n  };\r\n});\r\n\r\nafterAll(() => {\r\n  console.error = originalError;\r\n});\r\n\r\n// Mock framer-motion globally\r\njest.mock('framer-motion', () => {\r\n  const createMotionComponent =\r\n    (tag) =>\r\n    ({ children, ...props }) => {\r\n      const {\r\n        animate,\r\n        initial,\r\n        transition,\r\n        whileHover,\r\n        whileTap,\r\n        whileInView,\r\n        variants,\r\n        ...restProps\r\n      } = props;\r\n      return React.createElement(tag, restProps, children);\r\n    };\r\n\r\n  return {\r\n    motion: {\r\n      div: createMotionComponent('div'),\r\n      p: createMotionComponent('p'),\r\n      span: createMotionComponent('span'),\r\n      button: createMotionComponent('button'),\r\n      li: createMotionComponent('li'),\r\n      ul: createMotionComponent('ul'),\r\n      h1: createMotionComponent('h1'),\r\n      h2: createMotionComponent('h2'),\r\n      h3: createMotionComponent('h3'),\r\n      h4: createMotionComponent('h4'),\r\n      h5: createMotionComponent('h5'),\r\n      h6: createMotionComponent('h6'),\r\n      a: createMotionComponent('a'),\r\n      img: createMotionComponent('img'),\r\n      section: createMotionComponent('section'),\r\n      article: createMotionComponent('article'),\r\n      header: createMotionComponent('header'),\r\n      footer: createMotionComponent('footer'),\r\n      nav: createMotionComponent('nav'),\r\n      main: createMotionComponent('main'),\r\n      aside: createMotionComponent('aside'),\r\n      form: createMotionComponent('form'),\r\n      input: createMotionComponent('input'),\r\n      textarea: createMotionComponent('textarea'),\r\n      select: createMotionComponent('select'),\r\n      label: createMotionComponent('label'),\r\n    },\r\n    AnimatePresence: ({ children }) => children,\r\n    useAnimation: () => ({\r\n      start: jest.fn(),\r\n      stop: jest.fn(),\r\n      set: jest.fn(),\r\n    }),\r\n    useMotionValue: () => ({ get: jest.fn(), set: jest.fn() }),\r\n    useTransform: () => ({ get: jest.fn(), set: jest.fn() }),\r\n    useSpring: () => ({ get: jest.fn(), set: jest.fn() }),\r\n  };\r\n});\r\n\r\n// Mock browser APIs\r\n// Mock window.alert to prevent \"Not implemented\" errors in tests\r\nglobal.alert = jest.fn();\r\n\r\nglobal.ClipboardEvent = class ClipboardEvent extends Event {\r\n  constructor(type, eventInitDict = {}) {\r\n    super(type, eventInitDict);\r\n    this.clipboardData = eventInitDict.clipboardData || {\r\n      getData: jest.fn(),\r\n      setData: jest.fn(),\r\n    };\r\n  }\r\n};\r\n\r\nglobal.DataTransfer = class DataTransfer {\r\n  constructor() {\r\n    this.data = {};\r\n  }\r\n\r\n  getData(format) {\r\n    return this.data[format] || '';\r\n  }\r\n\r\n  setData(format, data) {\r\n    this.data[format] = data;\r\n  }\r\n};\r\n\r\n// Mock IntersectionObserver\r\nglobal.IntersectionObserver = class IntersectionObserver {\r\n  constructor() {}\r\n  disconnect() {}\r\n  observe() {}\r\n  unobserve() {}\r\n};\r\n\r\n// Mock ResizeObserver\r\nglobal.ResizeObserver = class ResizeObserver {\r\n  constructor() {}\r\n  disconnect() {}\r\n  observe() {}\r\n  unobserve() {}\r\n};\r\n\r\n// Mock matchMedia\r\nObject.defineProperty(window, 'matchMedia', {\r\n  writable: true,\r\n  value: jest.fn().mockImplementation((query) => ({\r\n    matches: false,\r\n    media: query,\r\n    onchange: null,\r\n    addListener: jest.fn(), // deprecated\r\n    removeListener: jest.fn(), // deprecated\r\n    addEventListener: jest.fn(),\r\n    removeEventListener: jest.fn(),\r\n    dispatchEvent: jest.fn(),\r\n  })),\r\n});\r\n\r\n// Mock navigator.geolocation\r\nconst mockGeolocation = {\r\n  getCurrentPosition: jest.fn(),\r\n  watchPosition: jest.fn(),\r\n  clearWatch: jest.fn(),\r\n};\r\n\r\nObject.defineProperty(navigator, 'geolocation', {\r\n  value: mockGeolocation,\r\n  writable: true,\r\n});\r\n\r\n// Make React available globally for JSX in mocks\r\nglobal.React = require('react');\r\n\r\n// Mock context hooks to avoid provider requirements in tests\r\njest.mock('@/contexts/ThemeContext', () => ({\r\n  useTheme: () => ({\r\n    theme: 'nothing',\r\n    colorMode: 'light',\r\n    actualColorMode: 'light',\r\n    colorPalette: 'mono',\r\n    accentColor: '#007aff',\r\n    accessibilityPrefs: {\r\n      reducedMotion: false,\r\n      highContrast: false,\r\n      forcedColors: false,\r\n    },\r\n    themeSchedule: { type: 'off' },\r\n    isTransitioning: false,\r\n    setTheme: jest.fn(),\r\n    setColorMode: jest.fn(),\r\n    setColorPalette: jest.fn(),\r\n    setAccentColor: jest.fn(),\r\n    setAccessibilityPrefs: jest.fn(),\r\n    setThemeSchedule: jest.fn(),\r\n    toggleColorMode: jest.fn(),\r\n    previewTheme: jest.fn(),\r\n    getColors: () => ({\r\n      primary: '#FFFFFF',\r\n      secondary: '#F2F2F7',\r\n      accent: '#E5E5EA',\r\n    }),\r\n    getSystemPreference: () => 'light',\r\n    getSunriseSunset: () =>\r\n      Promise.resolve({ sunrise: '06:00', sunset: '18:00' }),\r\n  }),\r\n  ThemeProvider: ({ children }) => children,\r\n}));\r\n\r\njest.mock('@/contexts/LanguageContext', () => ({\r\n  useLanguage: () => ({\r\n    language: 'en',\r\n    setLanguage: jest.fn(),\r\n    t: (key) => key, // Simple pass-through for translation keys\r\n    isRTL: false,\r\n    supportedLanguages: {\r\n      en: { name: 'English', nativeName: 'English' },\r\n      es: { name: 'Spanish', nativeName: 'Español' },\r\n      fr: { name: 'French', nativeName: 'Français' },\r\n    },\r\n  }),\r\n  LanguageProvider: ({ children }) => children,\r\n}));\r\n"],"names":["jest","mock","createMotionComponent","tag","children","props","animate","initial","transition","whileHover","whileTap","whileInView","variants","restProps","React","createElement","motion","div","p","span","button","li","ul","h1","h2","h3","h4","h5","h6","a","img","section","article","header","footer","nav","main","aside","form","input","textarea","select","label","AnimatePresence","useAnimation","start","fn","stop","set","useMotionValue","get","useTransform","useSpring","useTheme","theme","colorMode","actualColorMode","colorPalette","accentColor","accessibilityPrefs","reducedMotion","highContrast","forcedColors","themeSchedule","type","isTransitioning","setTheme","setColorMode","setColorPalette","setAccentColor","setAccessibilityPrefs","setThemeSchedule","toggleColorMode","previewTheme","getColors","primary","secondary","accent","getSystemPreference","getSunriseSunset","Promise","resolve","sunrise","sunset","ThemeProvider","useLanguage","language","setLanguage","t","key","isRTL","supportedLanguages","en","name","nativeName","es","fr","LanguageProvider","originalError","console","error","beforeAll","args","includes","call","afterAll","global","alert","ClipboardEvent","Event","eventInitDict","clipboardData","getData","setData","DataTransfer","data","format","IntersectionObserver","disconnect","observe","unobserve","ResizeObserver","Object","defineProperty","window","writable","value","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","mockGeolocation","getCurrentPosition","watchPosition","clearWatch","navigator","require"],"mappings":"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"}