'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { useToast } from '@/contexts/ToastContext';\nimport {\n  THEME_PRESETS,\n  ACCESSIBILITY_PRESETS,\n  detectSystemPreferences,\n  getCurrentLocation,\n  getSunriseSunset,\n  exportThemeConfig,\n  importThemeConfig,\n  type ThemePreset,\n  type AccessibilitySettings,\n  type ThemeScheduleConfig\n} from '@/utils/themeUtils';\n\ninterface ThemeSettingsProps {\n  className?: string;\n}\n\nexport default function ThemeSettings({ className = '' }: ThemeSettingsProps) {\n  const {\n    colorMode,\n    actualColorMode,\n    accessibilityPrefs,\n    themeSchedule,\n    isTransitioning,\n    setColorMode,\n    setAccessibilityPrefs,\n    setThemeSchedule,\n    previewTheme,\n    getSystemPreference,\n    getSunriseSunset: getApiSunriseSunset\n  } = useTheme();\n  \n  const toast = useToast();\n  const [activeTab, setActiveTab] = useState<'appearance' | 'accessibility' | 'schedule' | 'advanced'>('appearance');\n  const [locationPermission, setLocationPermission] = useState<'granted' | 'denied' | 'prompt'>('prompt');\n  const [currentLocation, setCurrentLocation] = useState<{ lat: number; lng: number; name?: string } | null>(null);\n  const [sunriseSunset, setSunriseSunset] = useState<{ sunrise: string; sunset: string } | null>(null);\n  const [customSchedule, setCustomSchedule] = useState<ThemeScheduleConfig>({\n    type: 'off',\n    enabled: false\n  });\n\n  // Initialize custom schedule from context\n  useEffect(() => {\n    setCustomSchedule({\n      type: themeSchedule.type,\n      lightTime: themeSchedule.lightTime,\n      darkTime: themeSchedule.darkTime,\n      location: themeSchedule.location,\n      enabled: themeSchedule.type !== 'off'\n    });\n  }, [themeSchedule]);\n\n  // Check location permission and get current location\n  useEffect(() => {\n    if (typeof navigator !== 'undefined' && navigator.permissions) {\n      navigator.permissions.query({ name: 'geolocation' }).then(result => {\n        setLocationPermission(result.state as any);\n        \n        if (result.state === 'granted') {\n          getCurrentLocation()\n            .then(location => {\n              setCurrentLocation(location);\n              return getSunriseSunset(location.lat, location.lng);\n            })\n            .then(times => {\n              if (times) {\n                setSunriseSunset({\n                  sunrise: times.sunrise.toTimeString().slice(0, 5),\n                  sunset: times.sunset.toTimeString().slice(0, 5)\n                });\n              }\n            })\n            .catch(error => {\n              console.warn('Failed to get location or sunrise/sunset:', error);\n            });\n        }\n      });\n    }\n  }, []);\n\n  const handlePresetSelect = (preset: ThemePreset) => {\n    setColorMode(preset.colorMode);\n    toast.success(`Applied ${preset.name} theme`);\n  };\n\n  const handlePreviewTheme = (mode: 'dark' | 'light') => {\n    previewTheme(mode, 2000);\n    toast.info(`Previewing ${mode} mode for 2 seconds`);\n  };\n\n  const handleAccessibilityPreset = (presetName: string) => {\n    const preset = ACCESSIBILITY_PRESETS[presetName];\n    if (preset) {\n      setAccessibilityPrefs(preset);\n      toast.success(`Applied ${presetName} accessibility preset`);\n    }\n  };\n\n  const handleScheduleChange = (updates: Partial<ThemeScheduleConfig>) => {\n    const newSchedule = { ...customSchedule, ...updates };\n    setCustomSchedule(newSchedule);\n    \n    if (newSchedule.enabled) {\n      setThemeSchedule({\n        type: newSchedule.type,\n        lightTime: newSchedule.lightTime,\n        darkTime: newSchedule.darkTime,\n        location: newSchedule.location\n      });\n    } else {\n      setThemeSchedule({ type: 'off' });\n    }\n  };\n\n  const handleLocationRequest = async () => {\n    try {\n      const location = await getCurrentLocation();\n      setCurrentLocation(location);\n      setLocationPermission('granted');\n      \n      const times = await getSunriseSunset(location.lat, location.lng);\n      if (times) {\n        setSunriseSunset({\n          sunrise: times.sunrise.toTimeString().slice(0, 5),\n          sunset: times.sunset.toTimeString().slice(0, 5)\n        });\n        \n        // Auto-set sunset schedule\n        handleScheduleChange({\n          type: 'sunset',\n          location,\n          lightTime: times.sunrise.toTimeString().slice(0, 5),\n          darkTime: times.sunset.toTimeString().slice(0, 5)\n        });\n      }\n      \n      toast.success('Location access granted');\n    } catch (error) {\n      setLocationPermission('denied');\n      toast.error('Failed to get location access');\n    }\n  };\n\n  const handleExportTheme = () => {\n    const config = exportThemeConfig({\n      colorMode,\n      colorPalette: 'mono', // This would come from context\n      accentColor: '#007aff', // This would come from context\n      accessibilityPrefs,\n      themeSchedule\n    });\n    \n    const blob = new Blob([config], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'echo-theme-config.json';\n    a.click();\n    URL.revokeObjectURL(url);\n    \n    toast.success('Theme configuration exported');\n  };\n\n  const handleImportTheme = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n    \n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const content = e.target?.result as string;\n      const config = importThemeConfig(content);\n      \n      if (config) {\n        setColorMode(config.colorMode);\n        setAccessibilityPrefs(config.accessibilityPrefs);\n        setThemeSchedule(config.themeSchedule);\n        toast.success('Theme configuration imported');\n      } else {\n        toast.error('Invalid theme configuration file');\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  const systemPrefs = detectSystemPreferences();\n\n  return (\n    <div className={`theme-settings ${className}`}>\n      <div className=\"theme-settings-header\">\n        <h2>Theme Settings</h2>\n        <p>Customize your visual experience and accessibility preferences</p>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"tab-navigation\">\n        {[\n          { id: 'appearance', label: 'Appearance', icon: 'ðŸŽ¨' },\n          { id: 'accessibility', label: 'Accessibility', icon: 'â™¿' },\n          { id: 'schedule', label: 'Schedule', icon: 'â°' },\n          { id: 'advanced', label: 'Advanced', icon: 'âš™ï¸' }\n        ].map(tab => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id as any)}\n            className={`tab-button ${activeTab === tab.id ? 'active' : ''}`}\n          >\n            <span className=\"tab-icon\">{tab.icon}</span>\n            <span className=\"tab-label\">{tab.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"tab-content\">\n        {/* Appearance Tab */}\n        {activeTab === 'appearance' && (\n          <div className=\"appearance-settings\">\n            <div className=\"setting-group\">\n              <h3>Theme Mode</h3>\n              <p>Choose how Echo should appear</p>\n              \n              <div className=\"theme-mode-selector\">\n                {[\n                  { value: 'auto', label: 'Auto', description: 'Follow system preference' },\n                  { value: 'light', label: 'Light', description: 'Always use light mode' },\n                  { value: 'dark', label: 'Dark', description: 'Always use dark mode' }\n                ].map(mode => (\n                  <button\n                    key={mode.value}\n                    onClick={() => setColorMode(mode.value as any)}\n                    className={`mode-option ${colorMode === mode.value ? 'active' : ''}`}\n                  >\n                    <div className=\"mode-preview\">\n                      <div className={`preview-circle ${mode.value}`}></div>\n                    </div>\n                    <div className=\"mode-info\">\n                      <span className=\"mode-label\">{mode.label}</span>\n                      <span className=\"mode-description\">{mode.description}</span>\n                    </div>\n                  </button>\n                ))}\n              </div>\n              \n              <div className=\"current-mode-info\">\n                <span>Current mode: <strong>{actualColorMode}</strong></span>\n                {colorMode === 'auto' && (\n                  <span className=\"system-info\">\n                    (System preference: {systemPrefs.colorScheme})\n                  </span>\n                )}\n              </div>\n            </div>\n\n            <div className=\"setting-group\">\n              <h3>Theme Presets</h3>\n              <p>Quick theme configurations</p>\n              \n              <div className=\"preset-grid\">\n                {THEME_PRESETS.map(preset => (\n                  <div key={preset.id} className=\"preset-card\">\n                    <div \n                      className=\"preset-preview\"\n                      style={{ background: preset.preview.background }}\n                    >\n                      <div \n                        className=\"preview-text\"\n                        style={{ color: preset.preview.foreground }}\n                      >\n                        Aa\n                      </div>\n                      <div \n                        className=\"preview-accent\"\n                        style={{ backgroundColor: preset.preview.accent }}\n                      ></div>\n                    </div>\n                    <div className=\"preset-info\">\n                      <h4>{preset.name}</h4>\n                      <p>{preset.description}</p>\n                    </div>\n                    <div className=\"preset-actions\">\n                      <button\n                        onClick={() => handlePreviewTheme(preset.colorMode === 'auto' ? systemPrefs.colorScheme : preset.colorMode as any)}\n                        className=\"btn-secondary btn-sm\"\n                      >\n                        Preview\n                      </button>\n                      <button\n                        onClick={() => handlePresetSelect(preset)}\n                        className=\"btn-primary btn-sm\"\n                      >\n                        Apply\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Accessibility Tab */}\n        {activeTab === 'accessibility' && (\n          <div className=\"accessibility-settings\">\n            <div className=\"setting-group\">\n              <h3>Motion & Animation</h3>\n              <label className=\"setting-item\">\n                <input\n                  type=\"checkbox\"\n                  checked={accessibilityPrefs.reducedMotion}\n                  onChange={(e) => setAccessibilityPrefs({ ...accessibilityPrefs, reducedMotion: e.target.checked })}\n                />\n                <div className=\"setting-info\">\n                  <span className=\"setting-label\">Reduce motion</span>\n                  <span className=\"setting-description\">Minimize animations and transitions</span>\n                </div>\n              </label>\n            </div>\n\n            <div className=\"setting-group\">\n              <h3>Contrast & Colors</h3>\n              <label className=\"setting-item\">\n                <input\n                  type=\"checkbox\"\n                  checked={accessibilityPrefs.highContrast}\n                  onChange={(e) => setAccessibilityPrefs({ ...accessibilityPrefs, highContrast: e.target.checked })}\n                />\n                <div className=\"setting-info\">\n                  <span className=\"setting-label\">High contrast</span>\n                  <span className=\"setting-description\">Increase color contrast for better visibility</span>\n                </div>\n              </label>\n              \n              <label className=\"setting-item\">\n                <input\n                  type=\"checkbox\"\n                  checked={accessibilityPrefs.forcedColors}\n                  onChange={(e) => setAccessibilityPrefs({ ...accessibilityPrefs, forcedColors: e.target.checked })}\n                />\n                <div className=\"setting-info\">\n                  <span className=\"setting-label\">Forced colors</span>\n                  <span className=\"setting-description\">Use system-defined colors</span>\n                </div>\n              </label>\n            </div>\n\n            <div className=\"setting-group\">\n              <h3>Quick Presets</h3>\n              <div className=\"preset-buttons\">\n                {Object.entries(ACCESSIBILITY_PRESETS).map(([key, preset]) => (\n                  <button\n                    key={key}\n                    onClick={() => handleAccessibilityPreset(key)}\n                    className=\"btn-secondary\"\n                  >\n                    {key.charAt(0).toUpperCase() + key.slice(1)}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"setting-group\">\n              <h3>System Detection</h3>\n              <div className=\"system-prefs\">\n                <div className=\"pref-item\">\n                  <span>Reduced Motion:</span>\n                  <span className={systemPrefs.reducedMotion ? 'enabled' : 'disabled'}>\n                    {systemPrefs.reducedMotion ? 'Enabled' : 'Disabled'}\n                  </span>\n                </div>\n                <div className=\"pref-item\">\n                  <span>High Contrast:</span>\n                  <span className={systemPrefs.highContrast ? 'enabled' : 'disabled'}>\n                    {systemPrefs.highContrast ? 'Enabled' : 'Disabled'}\n                  </span>\n                </div>\n                <div className=\"pref-item\">\n                  <span>Forced Colors:</span>\n                  <span className={systemPrefs.forcedColors ? 'enabled' : 'disabled'}>\n                    {systemPrefs.forcedColors ? 'Enabled' : 'Disabled'}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Schedule Tab */}\n        {activeTab === 'schedule' && (\n          <div className=\"schedule-settings\">\n            <div className=\"setting-group\">\n              <h3>Automatic Theme Switching</h3>\n              <p>Automatically switch between light and dark modes</p>\n              \n              <label className=\"setting-item\">\n                <input\n                  type=\"checkbox\"\n                  checked={customSchedule.enabled}\n                  onChange={(e) => handleScheduleChange({ enabled: e.target.checked })}\n                />\n                <div className=\"setting-info\">\n                  <span className=\"setting-label\">Enable automatic switching</span>\n                  <span className=\"setting-description\">Switch themes based on time or location</span>\n                </div>\n              </label>\n            </div>\n\n            {customSchedule.enabled && (\n              <>\n                <div className=\"setting-group\">\n                  <h3>Schedule Type</h3>\n                  <div className=\"schedule-type-selector\">\n                    {[\n                      { value: 'time', label: 'Custom Time', description: 'Set specific times' },\n                      { value: 'sunset', label: 'Sunrise/Sunset', description: 'Based on your location' }\n                    ].map(type => (\n                      <button\n                        key={type.value}\n                        onClick={() => handleScheduleChange({ type: type.value as any })}\n                        className={`schedule-option ${customSchedule.type === type.value ? 'active' : ''}`}\n                      >\n                        <span className=\"option-label\">{type.label}</span>\n                        <span className=\"option-description\">{type.description}</span>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {customSchedule.type === 'time' && (\n                  <div className=\"setting-group\">\n                    <h3>Custom Times</h3>\n                    <div className=\"time-inputs\">\n                      <label>\n                        <span>Light mode starts at:</span>\n                        <input\n                          type=\"time\"\n                          value={customSchedule.lightTime || '06:00'}\n                          onChange={(e) => handleScheduleChange({ lightTime: e.target.value })}\n                        />\n                      </label>\n                      <label>\n                        <span>Dark mode starts at:</span>\n                        <input\n                          type=\"time\"\n                          value={customSchedule.darkTime || '18:00'}\n                          onChange={(e) => handleScheduleChange({ darkTime: e.target.value })}\n                        />\n                      </label>\n                    </div>\n                  </div>\n                )}\n\n                {customSchedule.type === 'sunset' && (\n                  <div className=\"setting-group\">\n                    <h3>Location-based Switching</h3>\n                    {locationPermission === 'prompt' && (\n                      <div className=\"location-prompt\">\n                        <p>Allow location access to automatically switch themes based on sunrise and sunset times.</p>\n                        <button onClick={handleLocationRequest} className=\"btn-primary\">\n                          Enable Location Access\n                        </button>\n                      </div>\n                    )}\n                    \n                    {locationPermission === 'denied' && (\n                      <div className=\"location-denied\">\n                        <p>Location access is required for sunrise/sunset scheduling. Please enable it in your browser settings.</p>\n                      </div>\n                    )}\n                    \n                    {locationPermission === 'granted' && currentLocation && (\n                      <div className=\"location-info\">\n                        <div className=\"location-details\">\n                          <h4>Current Location</h4>\n                          <p>{currentLocation.name || 'Unknown Location'}</p>\n                          <p className=\"coordinates\">\n                            {currentLocation.lat.toFixed(4)}, {currentLocation.lng.toFixed(4)}\n                          </p>\n                        </div>\n                        \n                        {sunriseSunset && (\n                          <div className=\"sunrise-sunset\">\n                            <h4>Today's Schedule</h4>\n                            <div className=\"time-info\">\n                              <span>ðŸŒ… Sunrise: {sunriseSunset.sunrise}</span>\n                              <span>ðŸŒ… Sunset: {sunriseSunset.sunset}</span>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {/* Advanced Tab */}\n        {activeTab === 'advanced' && (\n          <div className=\"advanced-settings\">\n            <div className=\"setting-group\">\n              <h3>Import/Export</h3>\n              <p>Save and share your theme configuration</p>\n              \n              <div className=\"import-export-actions\">\n                <button onClick={handleExportTheme} className=\"btn-secondary\">\n                  ðŸ“¤ Export Theme\n                </button>\n                \n                <label className=\"btn-secondary file-input-label\">\n                  ðŸ“¥ Import Theme\n                  <input\n                    type=\"file\"\n                    accept=\".json\"\n                    onChange={handleImportTheme}\n                    style={{ display: 'none' }}\n                  />\n                </label>\n              </div>\n            </div>\n\n            <div className=\"setting-group\">\n              <h3>Debug Information</h3>\n              <div className=\"debug-info\">\n                <div className=\"debug-item\">\n                  <span>Current Mode:</span>\n                  <span>{actualColorMode}</span>\n                </div>\n                <div className=\"debug-item\">\n                  <span>Selected Mode:</span>\n                  <span>{colorMode}</span>\n                </div>\n                <div className=\"debug-item\">\n                  <span>System Preference:</span>\n                  <span>{systemPrefs.colorScheme}</span>\n                </div>\n                <div className=\"debug-item\">\n                  <span>Transitioning:</span>\n                  <span>{isTransitioning ? 'Yes' : 'No'}</span>\n                </div>\n                <div className=\"debug-item\">\n                  <span>Schedule Active:</span>\n                  <span>{themeSchedule.type !== 'off' ? 'Yes' : 'No'}</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"setting-group\">\n              <h3>Reset Settings</h3>\n              <p>Reset all theme settings to defaults</p>\n              \n              <button\n                onClick={() => {\n                  setColorMode('auto');\n                  setAccessibilityPrefs(ACCESSIBILITY_PRESETS.default);\n                  setThemeSchedule({ type: 'off' });\n                  toast.success('Theme settings reset to defaults');\n                }}\n                className=\"btn-secondary btn-destructive\"\n              >\n                Reset to Defaults\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <style jsx>{`\n        .theme-settings {\n          max-width: 800px;\n          margin: 0 auto;\n          padding: 2rem;\n        }\n\n        .theme-settings-header {\n          margin-bottom: 2rem;\n          text-align: center;\n        }\n\n        .theme-settings-header h2 {\n          margin: 0 0 0.5rem 0;\n          font-size: 2rem;\n          font-weight: 700;\n          color: var(--fg-primary);\n        }\n\n        .theme-settings-header p {\n          margin: 0;\n          color: var(--fg-secondary);\n        }\n\n        .tab-navigation {\n          display: flex;\n          gap: 0.5rem;\n          margin-bottom: 2rem;\n          padding: 0.5rem;\n          background: var(--bg-secondary);\n          border-radius: 12px;\n          border: 1px solid var(--border-primary);\n        }\n\n        .tab-button {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.5rem;\n          padding: 0.75rem 1rem;\n          background: transparent;\n          border: none;\n          border-radius: 8px;\n          color: var(--fg-secondary);\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .tab-button:hover {\n          background: var(--interactive-hover);\n          color: var(--fg-primary);\n        }\n\n        .tab-button.active {\n          background: var(--accent);\n          color: white;\n        }\n\n        .tab-icon {\n          font-size: 1.2rem;\n        }\n\n        .tab-content {\n          min-height: 400px;\n        }\n\n        .setting-group {\n          margin-bottom: 2rem;\n          padding: 1.5rem;\n          background: var(--bg-secondary);\n          border: 1px solid var(--border-primary);\n          border-radius: 12px;\n        }\n\n        .setting-group h3 {\n          margin: 0 0 0.5rem 0;\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: var(--fg-primary);\n        }\n\n        .setting-group > p {\n          margin: 0 0 1rem 0;\n          color: var(--fg-secondary);\n          font-size: 0.875rem;\n        }\n\n        .setting-item {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n          padding: 1rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n          margin-bottom: 0.5rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .setting-item:hover {\n          background: var(--interactive-hover);\n        }\n\n        .setting-info {\n          flex: 1;\n        }\n\n        .setting-label {\n          display: block;\n          font-weight: 500;\n          color: var(--fg-primary);\n          margin-bottom: 0.25rem;\n        }\n\n        .setting-description {\n          display: block;\n          font-size: 0.875rem;\n          color: var(--fg-secondary);\n        }\n\n        .theme-mode-selector {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n          margin-bottom: 1rem;\n        }\n\n        .mode-option {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n          padding: 1rem;\n          background: var(--bg-primary);\n          border: 2px solid var(--border-primary);\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .mode-option:hover {\n          border-color: var(--border-secondary);\n        }\n\n        .mode-option.active {\n          border-color: var(--accent);\n          background: color-mix(in srgb, var(--accent) 10%, var(--bg-primary));\n        }\n\n        .mode-preview {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: var(--bg-tertiary);\n          border: 1px solid var(--border-primary);\n        }\n\n        .preview-circle {\n          width: 24px;\n          height: 24px;\n          border-radius: 50%;\n        }\n\n        .preview-circle.auto {\n          background: linear-gradient(90deg, #ffffff 50%, #000000 50%);\n        }\n\n        .preview-circle.light {\n          background: #ffffff;\n          border: 1px solid #e2e8f0;\n        }\n\n        .preview-circle.dark {\n          background: #0f172a;\n        }\n\n        .mode-info {\n          flex: 1;\n        }\n\n        .mode-label {\n          display: block;\n          font-weight: 500;\n          color: var(--fg-primary);\n          margin-bottom: 0.25rem;\n        }\n\n        .mode-description {\n          display: block;\n          font-size: 0.875rem;\n          color: var(--fg-secondary);\n        }\n\n        .current-mode-info {\n          padding: 1rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n          font-size: 0.875rem;\n          color: var(--fg-secondary);\n        }\n\n        .system-info {\n          margin-left: 0.5rem;\n          opacity: 0.7;\n        }\n\n        .preset-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n        }\n\n        .preset-card {\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 12px;\n          overflow: hidden;\n          transition: all 0.2s ease;\n        }\n\n        .preset-card:hover {\n          border-color: var(--border-secondary);\n          box-shadow: var(--shadow-md);\n        }\n\n        .preset-preview {\n          height: 80px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n        }\n\n        .preview-text {\n          font-size: 1.5rem;\n          font-weight: 600;\n        }\n\n        .preview-accent {\n          position: absolute;\n          bottom: 8px;\n          right: 8px;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n        }\n\n        .preset-info {\n          padding: 1rem;\n        }\n\n        .preset-info h4 {\n          margin: 0 0 0.25rem 0;\n          font-size: 1rem;\n          font-weight: 600;\n          color: var(--fg-primary);\n        }\n\n        .preset-info p {\n          margin: 0;\n          font-size: 0.875rem;\n          color: var(--fg-secondary);\n        }\n\n        .preset-actions {\n          display: flex;\n          gap: 0.5rem;\n          padding: 0 1rem 1rem 1rem;\n        }\n\n        .btn-sm {\n          padding: 0.5rem 1rem;\n          font-size: 0.875rem;\n        }\n\n        .preset-buttons {\n          display: flex;\n          gap: 1rem;\n          flex-wrap: wrap;\n        }\n\n        .system-prefs {\n          display: grid;\n          gap: 0.5rem;\n        }\n\n        .pref-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 0.75rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n        }\n\n        .enabled {\n          color: var(--success);\n          font-weight: 500;\n        }\n\n        .disabled {\n          color: var(--fg-muted);\n        }\n\n        .schedule-type-selector {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n          margin-bottom: 1rem;\n        }\n\n        .schedule-option {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          gap: 0.5rem;\n          padding: 1rem;\n          background: var(--bg-primary);\n          border: 2px solid var(--border-primary);\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          text-align: left;\n        }\n\n        .schedule-option:hover {\n          border-color: var(--border-secondary);\n        }\n\n        .schedule-option.active {\n          border-color: var(--accent);\n          background: color-mix(in srgb, var(--accent) 10%, var(--bg-primary));\n        }\n\n        .option-label {\n          font-weight: 500;\n          color: var(--fg-primary);\n        }\n\n        .option-description {\n          font-size: 0.875rem;\n          color: var(--fg-secondary);\n        }\n\n        .time-inputs {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n        }\n\n        .time-inputs label {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .time-inputs span {\n          font-weight: 500;\n          color: var(--fg-primary);\n        }\n\n        .time-inputs input {\n          padding: 0.75rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n          color: var(--fg-primary);\n        }\n\n        .location-prompt,\n        .location-denied {\n          padding: 1rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n          text-align: center;\n        }\n\n        .location-info {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n        }\n\n        .location-details,\n        .sunrise-sunset {\n          padding: 1rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n        }\n\n        .location-details h4,\n        .sunrise-sunset h4 {\n          margin: 0 0 0.5rem 0;\n          font-size: 1rem;\n          font-weight: 600;\n          color: var(--fg-primary);\n        }\n\n        .coordinates {\n          font-family: monospace;\n          font-size: 0.875rem;\n          color: var(--fg-muted);\n        }\n\n        .time-info {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .import-export-actions {\n          display: flex;\n          gap: 1rem;\n          flex-wrap: wrap;\n        }\n\n        .file-input-label {\n          cursor: pointer;\n        }\n\n        .debug-info {\n          display: grid;\n          gap: 0.5rem;\n        }\n\n        .debug-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 0.75rem;\n          background: var(--bg-primary);\n          border: 1px solid var(--border-primary);\n          border-radius: 8px;\n          font-family: monospace;\n          font-size: 0.875rem;\n        }\n\n        .btn-destructive {\n          background: var(--error);\n          color: white;\n          border-color: var(--error);\n        }\n\n        .btn-destructive:hover {\n          background: color-mix(in srgb, var(--error) 80%, black);\n        }\n\n        @media (max-width: 768px) {\n          .theme-settings {\n            padding: 1rem;\n          }\n\n          .tab-navigation {\n            flex-direction: column;\n          }\n\n          .tab-button {\n            justify-content: flex-start;\n          }\n\n          .theme-mode-selector,\n          .preset-grid,\n          .schedule-type-selector {\n            grid-template-columns: 1fr;\n          }\n\n          .time-inputs {\n            grid-template-columns: 1fr;\n          }\n\n          .location-info {\n            grid-template-columns: 1fr;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"