# =============================================================================
# ECHO APPLICATION - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Echo
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, console

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4  # Number of worker processes (production)

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/echo_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Database Connection (alternative format)
DB_USER=user
DB_PASSWORD=password
DB_HOST=localhost
DB_PORT=5432
DB_NAME=echo_db

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Cache Settings
CACHE_TTL=3600  # Default cache TTL in seconds
CACHE_PREFIX=echo:

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Configuration
SECRET_KEY=your-secret-key-change-this-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
BCRYPT_ROUNDS=12

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# AI & ML SERVICES
# =============================================================================
# OpenRouter / OpenAI Configuration
OPENROUTER_API_KEY=your-openrouter-api-key-here
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# ChromaDB Configuration
CHROMADB_HOST=localhost
CHROMADB_PORT=8001
CHROMADB_COLLECTION_NAME=echo_embeddings
CHROMADB_PERSIST_DIRECTORY=./chroma_data

# Embeddings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# =============================================================================
# FILE STORAGE
# =============================================================================
# MinIO / S3 Configuration
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=echo-files
MINIO_USE_SSL=false

# AWS S3 (alternative)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=echo-production
AWS_S3_REGION=us-east-1

# File Upload Settings
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@echo.com
SMTP_FROM_NAME=Echo Platform
SMTP_USE_TLS=true
SMTP_USE_SSL=false

# Email Templates
EMAIL_TEMPLATES_DIR=./app/templates/email

# =============================================================================
# PAYMENT PROCESSING
# =============================================================================
# Stripe Configuration
STRIPE_PUBLIC_KEY=pk_test_your-publishable-key
STRIPE_SECRET_KEY=sk_test_your-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_CURRENCY=usd

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Logging
ENABLE_REQUEST_LOGGING=true
ENABLE_SQL_LOGGING=false

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Next.js Public Variables (accessible in browser)
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
NEXT_PUBLIC_APP_NAME=Echo
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_ENVIRONMENT=development
NEXT_PUBLIC_SENTRY_DSN=

# Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_HOTJAR_ID=

# Feature Flags
NEXT_PUBLIC_ENABLE_AI_CHAT=true
NEXT_PUBLIC_ENABLE_LIVE_STREAMING=true
NEXT_PUBLIC_ENABLE_COURSES=true
NEXT_PUBLIC_ENABLE_PAYMENTS=true

# =============================================================================
# CELERY & TASK QUEUE
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=1000
WS_MESSAGE_QUEUE_SIZE=100

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_BOT_TOKEN=xoxb-your-bot-token

# Discord Integration
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK
DISCORD_BOT_TOKEN=your-discord-bot-token

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Test Database
TEST_DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/echo_test_db

# Testing Settings
RUN_INTEGRATION_TESTS=false
TEST_COVERAGE_THRESHOLD=80

# Development Tools
ENABLE_HOT_RELOAD=true
ENABLE_DEBUG_TOOLBAR=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Only set these in production environments

# SSL/TLS
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem

# Trusted Hosts
TRUSTED_HOSTS=api.echo.com,www.echo.com

# Database SSL
DATABASE_SSL_MODE=require  # disable, allow, prefer, require, verify-ca, verify-full

# Session Configuration
SESSION_SECRET_KEY=another-secret-key-for-sessions-min-32-chars
SESSION_COOKIE_NAME=echo_session
SESSION_COOKIE_SECURE=true  # Only set to true in production with HTTPS
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=echo-backups

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We are currently performing maintenance. Please check back soon.

# =============================================================================
# FEATURE FLAGS & EXPERIMENTAL
# =============================================================================
ENABLE_BETA_FEATURES=false
ENABLE_ADMIN_PANEL=true
ENABLE_API_DOCS=true
ENABLE_GRAPHQL=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Connection Pooling
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30

# Request Timeouts
REQUEST_TIMEOUT=30
WEBSOCKET_TIMEOUT=300

# Cache Strategy
CACHE_STRATEGY=redis  # redis, memory, hybrid

# =============================================================================
# LOCALIZATION
# =============================================================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,zh,ja,pt,ru
TIMEZONE=UTC

# =============================================================================
# MOBILE APP CONFIGURATION
# =============================================================================
MOBILE_API_VERSION=v1
MOBILE_FORCE_UPDATE_VERSION=1.0.0
MOBILE_PUSH_NOTIFICATION_KEY=your-fcm-server-key

# =============================================================================
# ANALYTICS & TRACKING
# =============================================================================
ENABLE_ANALYTICS=true
ANALYTICS_PROVIDER=google  # google, mixpanel, amplitude
MIXPANEL_TOKEN=your-mixpanel-token
AMPLITUDE_API_KEY=your-amplitude-api-key

# =============================================================================
# CDN & ASSET DELIVERY
# =============================================================================
CDN_URL=https://cdn.echo.com
CDN_ENABLED=false
STATIC_FILES_VERSION=1.0.0

# =============================================================================
# NOTES
# =============================================================================
# 1. All SECRET_KEY values should be generated using: openssl rand -hex 32
# 2. Never commit .env files to version control
# 3. Use different secrets for development, staging, and production
# 4. Rotate secrets regularly in production
# 5. Use environment-specific .env files (.env.development, .env.production)
# 6. For Kubernetes/Docker, use Secrets/ConfigMaps instead of .env files
